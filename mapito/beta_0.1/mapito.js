'use strict';var k,aa=aa||{},l=this;function t(a){return void 0!==a}function ba(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&t(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function ca(a){a=a.split(".");for(var b=l,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function da(){}function ea(a){a.Yb=function(){return a.dj?a.dj:a.dj=new a}}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return"array"==fa(a)}function ha(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function B(a){return"string"==typeof a}function ja(a){return"number"==typeof a}function ka(a){return"function"==fa(a)}function la(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function E(a){return a[ma]||(a[ma]=++na)}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;
function oa(a,b,c){return a.call.apply(a.bind,arguments)}function pa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function F(a,b,c){F=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:pa;return F.apply(null,arguments)}
function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ra=Date.now||function(){return+new Date};function K(a,b){function c(){}c.prototype=b.prototype;a.N=b.prototype;a.prototype=new c;a.base=function(a,c,f){var g=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,g)}};var sa={};function ta(a){a=t(a)?a:{};this.Ja=t(a.color)?a.color:null;this.je=a.lineCap;this.jj=t(a.lineDash)?a.lineDash:null;this.ke=a.lineJoin;this.le=a.miterLimit;this.qc=a.width}ta.prototype.getLineDash=function(){return this.jj};ta.prototype.Ma=function(){return this.qc};ta.prototype.setLineDash=function(a){this.jj=a};function ua(a){a=t(a)?a:{};this.Ja=t(a.color)?a.color:null};var va=[0,0,0,1],wa=[],xa=[0,0,0,1];var ya;function za(a){this.Eb=a.opacity;this.Jb=a.rotateWithView;this.Qa=a.rotation;this.Za=a.scale;this.Mb=a.snapToPixel}za.prototype.Yd=function(){return this.Eb};za.prototype.lb=function(){return this.Qa};za.prototype.Yj=function(a){this.Eb=a};za.prototype.$f=function(a){this.Qa=a};function Aa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Aa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}K(Aa,Error);Aa.prototype.name="CustomError";function Ba(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Ca(a){if(!Da.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ea,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ga,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ha,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ia,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ja,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ka,"&#0;"));return a}
var Ea=/&/g,Ga=/</g,Ha=/>/g,Ia=/"/g,Ja=/'/g,Ka=/\x00/g,Da=/[\x00&<>"']/;
function La(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",m=e[g]||"",n=/(\d*)(\D*)/g,p=/(\d*)(\D*)/g;do{var r=n.exec(h)||["","",""],q=p.exec(m)||["","",""];if(0==r[0].length&&0==q[0].length)break;c=Na(0==r[1].length?0:parseInt(r[1],10),0==q[1].length?0:parseInt(q[1],10))||Na(0==r[2].length,0==q[2].length)||Na(r[2],q[2])}while(0==c)}return c}
function Na(a,b){return a<b?-1:a>b?1:0}function Oa(a){var b=Number(a);return 0==b&&/^[\s\xa0]*$/.test(a)?NaN:b}function Pa(){return"transform".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Qa(a){var b=B(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function Ra(a,b){b.unshift(a);Aa.call(this,Ba.apply(null,b));b.shift()}K(Ra,Aa);Ra.prototype.name="AssertionError";function Sa(a,b){throw new Ra("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var Ta=Array.prototype,Ua=Ta.indexOf?function(a,b,c){return Ta.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(B(a))return B(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},M=Ta.forEach?function(a,b,c){Ta.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=B(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Va=Ta.filter?function(a,b,c){return Ta.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=
0,g=B(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var m=g[h];b.call(c,m,h,a)&&(e[f++]=m)}return e},Wa=Ta.map?function(a,b,c){return Ta.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=B(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function Xa(a){var b;a:{b=Ya;for(var c=a.length,d=B(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:B(a)?a.charAt(b):a[b]}
function Za(a,b){var c=Ua(a,b),d;(d=0<=c)&&Ta.splice.call(a,c,1);return d}function $a(a){return Ta.concat.apply(Ta,arguments)}function ab(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function bb(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(ga(d)||(e=ha(d))&&Object.prototype.hasOwnProperty.call(d,"callee"))a.push.apply(a,d);else if(e)for(var f=a.length,g=d.length,h=0;h<g;h++)a[f+h]=d[h];else a.push(d)}}
function cb(a,b,c,d){Ta.splice.apply(a,db(arguments,1))}function db(a,b,c){return 2>=arguments.length?Ta.slice.call(a,b):Ta.slice.call(a,b,c)}function eb(a,b){if(!ha(a)||!ha(b)||a.length!=b.length)return!1;for(var c=a.length,d=fb,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function gb(a,b){return a>b?1:a<b?-1:0}function fb(a,b){return a===b};function hb(a,b,c){return Math.min(Math.max(a,b),c)}function ib(a,b){var c=a%b;return 0>c*b?c+b:c};var jb;a:{var kb=l.navigator;if(kb){var lb=kb.userAgent;if(lb){jb=lb;break a}}jb=""}function mb(a){return-1!=jb.indexOf(a)};function ob(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function pb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function qb(a){var b=0,c;for(c in a)b++;return b}function rb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function sb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function tb(a){for(var b in a)return!1;return!0}function ub(a){for(var b in a)delete a[b]}function vb(a,b){b in a&&delete a[b]}
function wb(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}function N(a,b,c){return b in a?a[b]:c}function xb(a){var b={},c;for(c in a)b[c]=a[c];return b}var yb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<yb.length;f++)c=yb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ab,Bb,Cb=mb("Opera")||mb("OPR"),O=mb("Trident")||mb("MSIE"),Db=mb("Gecko")&&-1==jb.toLowerCase().indexOf("webkit")&&!(mb("Trident")||mb("MSIE")),Q=-1!=jb.toLowerCase().indexOf("webkit"),Eb,Fb=l.navigator||null;Eb=Fb&&Fb.platform||"";Ab=-1!=Eb.indexOf("Mac");Bb=-1!=Eb.indexOf("Win");var Gb=-1!=Eb.indexOf("Linux");function Hb(){var a=l.document;return a?a.documentMode:void 0}
var Ib=function(){var a="",b;if(Cb&&l.opera)return a=l.opera.version,ka(a)?a():a;Db?b=/rv\:([^\);]+)(\)|;)/:O?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Q&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(jb))?a[1]:"");return O&&(b=Hb(),b>parseFloat(a))?String(b):a}(),Jb={};function Kb(a){return Jb[a]||(Jb[a]=0<=La(Ib,a))}var Lb=l.document,Mb=Lb&&O?Hb()||("CSS1Compat"==Lb.compatMode?parseInt(Ib,10):5):void 0;var Nb="https:"===l.location.protocol,Ob=O&&!Kb("9.0")&&""!==Ib;function Pb(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Pb.prototype.BYTES_PER_ELEMENT=8;Pb.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Pb.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Pb.BYTES_PER_ELEMENT=8}catch(Qb){}Pb.prototype.BYTES_PER_ELEMENT=Pb.prototype.BYTES_PER_ELEMENT;Pb.prototype.set=Pb.prototype.set;Pb.prototype.toString=Pb.prototype.toString;ba("Float64Array",Pb)};function Rb(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Rb.prototype.BYTES_PER_ELEMENT=4;Rb.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Rb.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Rb.BYTES_PER_ELEMENT=4,Rb.prototype.BYTES_PER_ELEMENT=Rb.prototype.BYTES_PER_ELEMENT,Rb.prototype.set=Rb.prototype.set,Rb.prototype.toString=Rb.prototype.toString,ba("Float32Array",Rb));function Sb(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function R(){var a=Array(16);Tb(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Ub(){var a=Array(16);Tb(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function Tb(a,b,c,d,e,f,g,h,m,n,p,r,q,u,v,x,y){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=m;a[8]=n;a[9]=p;a[10]=r;a[11]=q;a[12]=u;a[13]=v;a[14]=x;a[15]=y}
function Vb(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15]}function Wb(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function Xb(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],m=a[5],n=a[6],p=a[7],r=a[8],q=a[9],u=a[10],v=a[11],x=a[12],y=a[13],w=a[14];a=a[15];var s=b[0],A=b[1],z=b[2],D=b[3],C=b[4],G=b[5],L=b[6],H=b[7],T=b[8],P=b[9],I=b[10],J=b[11],Ma=b[12],Fa=b[13],ia=b[14];b=b[15];c[0]=d*s+h*A+r*z+x*D;c[1]=e*s+m*A+q*z+y*D;c[2]=f*s+n*A+u*z+w*D;c[3]=g*s+p*A+v*z+a*D;c[4]=d*C+h*G+r*L+x*H;c[5]=e*C+m*G+q*L+y*H;c[6]=f*C+n*G+u*L+w*H;c[7]=g*C+p*G+v*L+a*H;c[8]=d*T+h*P+r*I+x*J;c[9]=e*T+m*P+q*I+y*J;c[10]=f*T+n*P+u*I+w*J;c[11]=
g*T+p*P+v*I+a*J;c[12]=d*Ma+h*Fa+r*ia+x*b;c[13]=e*Ma+m*Fa+q*ia+y*b;c[14]=f*Ma+n*Fa+u*ia+w*b;c[15]=g*Ma+p*Fa+v*ia+a*b}function Yb(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}function Zb(a,b,c){Tb(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function $b(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],m=a[6],n=a[7],p=Math.cos(b),r=Math.sin(b);a[0]=c*p+g*r;a[1]=d*p+h*r;a[2]=e*p+m*r;a[3]=f*p+n*r;a[4]=c*-r+g*p;a[5]=d*-r+h*p;a[6]=e*-r+m*p;a[7]=f*-r+n*p}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function ac(a){if(!B(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a};function bc(a,b){this.width=a;this.height=b}k=bc.prototype;k.clone=function(){return new bc(this.width,this.height)};k.toString=function(){return"("+this.width+" x "+this.height+")"};k.area=function(){return this.width*this.height};k.ha=function(){return!this.area()};k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};k.scale=function(a,b){var c=ja(b)?b:a;this.width*=a;this.height*=c;return this};var cc=!O||O&&9<=Mb,dc=!Db&&!O||O&&O&&9<=Mb||Db&&Kb("1.9.1");O&&Kb("9");function ec(a,b){this.x=t(a)?a:0;this.y=t(b)?b:0}k=ec.prototype;k.clone=function(){return new ec(this.x,this.y)};k.toString=function(){return"("+this.x+", "+this.y+")"};k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};k.scale=function(a,b){var c=ja(b)?b:a;this.x*=a;this.y*=c;return this};function fc(a){return a?new gc(hc(a)):ya||(ya=new gc)}function ic(a){var b=document;return B(a)?b.getElementById(a):a}function jc(a,b){ob(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in kc?a.setAttribute(kc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}
var kc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function lc(a){a=a.document;a=mc(a)?a.documentElement:a.body;return new bc(a.clientWidth,a.clientHeight)}
function oc(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!cc&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',Ca(g.name),'"');if(g.type){f.push(' type="',Ca(g.type),'"');var h={};zb(h,g);delete h.type;g=h}f.push(">");f=f.join("")}f=e.createElement(f);g&&(B(g)?f.className=g:ga(g)?f.className=g.join(" "):jc(f,g));2<d.length&&pc(e,f,d);return f}
function pc(a,b,c){function d(c){c&&b.appendChild(B(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ha(f)||la(f)&&0<f.nodeType?d(f):M(qc(f)?ab(f):f,d)}}function rc(a){return document.createElement(a)}function mc(a){return"CSS1Compat"==a.compatMode}function sc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function tc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function uc(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}
function vc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function wc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function hc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function qc(a){if(a&&"number"==typeof a.length){if(la(a))return"function"==typeof a.item||"string"==typeof a.item;if(ka(a))return"function"==typeof a.item}return!1}function gc(a){this.Pd=a||l.document||document}k=gc.prototype;k.Lb=jc;k.createElement=function(a){return this.Pd.createElement(a)};k.createTextNode=function(a){return this.Pd.createTextNode(String(a))};
function xc(a){var b=a.Pd;a=!Q&&mc(b)?b.documentElement:b.body||b.documentElement;b=b.parentWindow||b.defaultView;return O&&Kb("10")&&b.pageYOffset!=a.scrollTop?new ec(a.scrollLeft,a.scrollTop):new ec(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}k.appendChild=function(a,b){a.appendChild(b)};k.Ii=function(a){return dc&&void 0!=a.children?a.children:Va(a.childNodes,function(a){return 1==a.nodeType})};k.contains=wc;function yc(a){a=t(a)?a:{};this.h=rc("CANVAS");this.wf=null;this.hb=t(a.fill)?a.fill:null;this.Ya=[0,0];this.xh=a.radius;this.ra=t(a.stroke)?a.stroke:null;var b,c=this.h,d;null===this.ra?d=0:(b=ac(this.ra.Ja),d=this.ra.Ma(),t(d)||(d=1));var e=2*(this.xh+d)+1;c.height=e;c.width=e;var e=c.width,f=c.getContext("2d");f.arc(e/2,e/2,this.xh,0,2*Math.PI,!0);null!==this.hb&&(f.fillStyle=ac(this.hb.Ja),f.fill());null!==this.ra&&(f.strokeStyle=b,f.lineWidth=d,f.stroke());null===this.hb?(c=this.wf=rc("CANVAS"),
c.height=e,c.width=e,f=c.getContext("2d"),f.arc(e/2,e/2,this.xh,0,2*Math.PI,!0),f.fillStyle=va,f.fill(),null!==this.ra&&(f.strokeStyle=b,f.lineWidth=d,f.stroke())):this.wf=c;b=e;this.da=[b/2,b/2];this.ja=[b,b];za.call(this,{opacity:1,rotateWithView:!1,rotation:0,scale:1,snapToPixel:t(a.snapToPixel)?a.snapToPixel:!0})}K(yc,za);k=yc.prototype;k.Qg=function(){return this.da};k.lf=function(){return this.wf};k.w=function(){return this.h};k.mf=function(){return 2};k.kb=function(){return this.Ya};k.Y=function(){return this.ja};
k.kj=da;k.load=da;k.rk=da;function zc(a){return function(){return a}}var Ac=zc(!1),Bc=zc(!0);function Cc(a){return a}function Dc(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function Ec(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};var Fc="closure_listenable_"+(1E6*Math.random()|0);function Gc(a){return!(!a||!a[Fc])}var Hc=0;function Ic(a,b,c,d,e){this.Dc=a;this.proxy=null;this.src=b;this.type=c;this.Fd=!!d;this.vf=e;this.key=++Hc;this.xd=this.Ne=!1}function Jc(a){a.xd=!0;a.Dc=null;a.proxy=null;a.src=null;a.vf=null};function Kc(a){this.src=a;this.ia={};this.Ge=0}Kc.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.ia[f];a||(a=this.ia[f]=[],this.Ge++);var g=Lc(a,b,d,e);-1<g?(b=a[g],c||(b.Ne=!1)):(b=new Ic(b,this.src,f,!!d,e),b.Ne=c,a.push(b));return b};Kc.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.ia))return!1;var e=this.ia[a];b=Lc(e,b,c,d);return-1<b?(Jc(e[b]),Ta.splice.call(e,b,1),0==e.length&&(delete this.ia[a],this.Ge--),!0):!1};
function Mc(a,b){var c=b.type;if(!(c in a.ia))return!1;var d=Za(a.ia[c],b);d&&(Jc(b),0==a.ia[c].length&&(delete a.ia[c],a.Ge--));return d}Kc.prototype.Ug=function(a,b,c,d){a=this.ia[a.toString()];var e=-1;a&&(e=Lc(a,b,c,d));return-1<e?a[e]:null};Kc.prototype.Ba=function(a,b){var c=t(a),d=c?a.toString():"",e=t(b);return pb(this.ia,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].Fd!=b))return!0;return!1})};
function Lc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.xd&&f.Dc==b&&f.Fd==!!c&&f.vf==d)return e}return-1};var Nc=!O||O&&9<=Mb,Oc=!O||O&&9<=Mb,Pc=O&&!Kb("9");!Q||Kb("528");Db&&Kb("1.9b")||O&&Kb("8")||Cb&&Kb("9.5")||Q&&Kb("528");Db&&!Kb("8")||O&&Kb("9");var Qc=Db?"DOMMouseScroll":"mousewheel",Rc=O?"focusout":"DOMFocusOut";function Sc(){0!=Tc&&(Uc[E(this)]=this);this.Od=this.Od;this.Fc=this.Fc}var Tc=0,Uc={};Sc.prototype.Od=!1;Sc.prototype.Ue=function(){if(!this.Od&&(this.Od=!0,this.l(),0!=Tc)){var a=E(this);delete Uc[a]}};function Vc(a,b){var c=qa(Wc,b);a.Fc||(a.Fc=[]);a.Fc.push(t(void 0)?F(c,void 0):c)}Sc.prototype.l=function(){if(this.Fc)for(;this.Fc.length;)this.Fc.shift()()};function Wc(a){a&&"function"==typeof a.Ue&&a.Ue()};function S(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Jc=!1;this.Uj=!0}S.prototype.l=function(){};S.prototype.Ue=function(){};S.prototype.stopPropagation=function(){this.Jc=!0};S.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Uj=!1};function Xc(a){a.stopPropagation()}function Yc(a){a.preventDefault()};function Zc(a){Zc[" "](a);return a}Zc[" "]=da;function $c(a,b){S.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Of=!1;this.B=null;a&&this.gh(a,b)}K($c,S);var ad=[1,4,2];k=$c.prototype;
k.gh=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Db){var e;a:{try{Zc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=Q||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=Q||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Of=Ab?a.metaKey:a.ctrlKey;this.state=a.state;this.B=a;a.defaultPrevented&&this.preventDefault()};function bd(a){return(Nc?0==a.B.button:"click"==a.type?!0:!!(a.B.button&ad[0]))&&!(Q&&Ab&&a.ctrlKey)}
k.stopPropagation=function(){$c.N.stopPropagation.call(this);this.B.stopPropagation?this.B.stopPropagation():this.B.cancelBubble=!0};k.preventDefault=function(){$c.N.preventDefault.call(this);var a=this.B;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Pc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};k.Uk=function(){return this.B};k.l=function(){};var cd="closure_lm_"+(1E6*Math.random()|0),dd={},ed=0;function U(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)U(a,b[f],c,d,e);return null}c=fd(c);return Gc(a)?a.gb.add(String(b),c,!1,d,e):gd(a,b,c,!1,d,e)}function gd(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=hd(a);h||(a[cd]=h=new Kc(a));c=h.add(b,c,d,e,f);if(c.proxy)return c;d=id();c.proxy=d;d.src=a;d.Dc=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(jd(b.toString()),d);ed++;return c}
function id(){var a=kd,b=Oc?function(c){return a.call(b.src,b.Dc,c)}:function(c){c=a.call(b.src,b.Dc,c);if(!c)return c};return b}function ld(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)ld(a,b[f],c,d,e);return null}c=fd(c);return Gc(a)?a.gb.add(String(b),c,!0,d,e):gd(a,b,c,!0,d,e)}function md(a,b,c,d,e){if(ga(b))for(var f=0;f<b.length;f++)md(a,b[f],c,d,e);else c=fd(c),Gc(a)?a.gb.remove(String(b),c,d,e):a&&(a=hd(a))&&(b=a.Ug(b,c,!!d,e))&&V(b)}
function V(a){if(ja(a)||!a||a.xd)return!1;var b=a.src;if(Gc(b))return Mc(b.gb,a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.Fd):b.detachEvent&&b.detachEvent(jd(c),d);ed--;(c=hd(b))?(Mc(c,a),0==c.Ge&&(c.src=null,b[cd]=null)):Jc(a);return!0}function jd(a){return a in dd?dd[a]:dd[a]="on"+a}function nd(a,b,c,d){var e=1;if(a=hd(a))if(b=a.ia[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Fd==c&&!f.xd&&(e&=!1!==od(f,d))}return Boolean(e)}
function od(a,b){var c=a.Dc,d=a.vf||a.src;a.Ne&&V(a);return c.call(d,b)}
function kd(a,b){if(a.xd)return!0;if(!Oc){var c=b||ca("window.event"),d=new $c(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,h=c.length-1;!d.Jc&&0<=h;h--)d.currentTarget=c[h],e&=nd(c[h],f,!0,d);for(h=0;!d.Jc&&h<c.length;h++)d.currentTarget=c[h],e&=nd(c[h],f,!1,d)}return e}return od(a,new $c(b,this))}
function hd(a){a=a[cd];return a instanceof Kc?a:null}var pd="__closure_events_fn_"+(1E9*Math.random()>>>0);function fd(a){if(ka(a))return a;a[pd]||(a[pd]=function(b){return a.handleEvent(b)});return a[pd]};function W(){Sc.call(this);this.gb=new Kc(this);this.Ek=this;this.vh=null}K(W,Sc);W.prototype[Fc]=!0;k=W.prototype;k.addEventListener=function(a,b,c,d){U(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){md(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.vh;if(c)for(b=[];c;c=c.vh)b.push(c);var c=this.Ek,d=a.type||a;if(B(a))a=new S(a,c);else if(a instanceof S)a.target=a.target||c;else{var e=a;a=new S(d,c);zb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Jc&&0<=g;g--)f=a.currentTarget=b[g],e=qd(f,d,!0,a)&&e;a.Jc||(f=a.currentTarget=c,e=qd(f,d,!0,a)&&e,a.Jc||(e=qd(f,d,!1,a)&&e));if(b)for(g=0;!a.Jc&&g<b.length;g++)f=a.currentTarget=b[g],e=qd(f,d,!1,a)&&e;return e};
k.l=function(){W.N.l.call(this);if(this.gb){var a=this.gb,b=0,c;for(c in a.ia){for(var d=a.ia[c],e=0;e<d.length;e++)++b,Jc(d[e]);delete a.ia[c];a.Ge--}}this.vh=null};function qd(a,b,c,d){b=a.gb.ia[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.xd&&g.Fd==c){var h=g.Dc,m=g.vf||g.src;g.Ne&&Mc(a.gb,g);e=!1!==h.call(m,d)&&e}}return e&&!1!=d.Uj}k.Ug=function(a,b,c,d){return this.gb.Ug(String(a),b,c,d)};
k.Ba=function(a,b){return this.gb.Ba(t(a)?String(a):void 0,b)};function rd(){W.call(this);this.I=0}K(rd,W);rd.prototype.j=function(){++this.I;this.dispatchEvent("change")};rd.prototype.on=function(a,b,c){return U(this,a,b,!1,c)};function sd(a,b){a[0]+=b[0];a[1]+=b[1]}function td(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function ud(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),f=Math.max.apply(null,b);return vd(c,d,e,f,void 0)}function wd(a,b,c){return t(c)?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function xd(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}function yd(){return[Infinity,Infinity,-Infinity,-Infinity]}function vd(a,b,c,d,e){return t(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}
function zd(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3])}function Ad(a,b,c,d,e){for(;c<d;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g);f[1]=Math.min(f[1],h);f[2]=Math.max(f[2],g);f[3]=Math.max(f[3],h)}return a}function Bd(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function Cd(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=Dd(a):"top-right"===b?c=[a[2],a[3]]:Sa("Invalid corner: %s",b);return c}
function Ed(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var f,g,h;for(f=0;4>f;++f)g=e[f],h=d[f],e[f]=a[0]+g*b-h*c,d[f]=a[1]+g*c+h*b;return ud(e,d)}function Fd(a){return a[3]-a[1]}function Gd(a,b){var c=t(void 0)?void 0:yd();Hd(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function Dd(a){return[a[0],a[3]]}function Hd(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}
function Id(a){return a[2]<a[0]||a[3]<a[1]}function Jd(a,b){return t(b)?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
function Ld(a){this.radius=a}Ld.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var Md={};Md.degrees=2*Math.PI*(new Ld(6370997)).radius/360;Md.ft=.3048;Md.m=1;function Nd(a){this.Wc=a.code;this.ig=a.units;this.Z=t(a.extent)?a.extent:null;this.Hk=t(a.axisOrientation)?a.axisOrientation:"enu";this.ti=null}Nd.prototype.n=function(){return this.Z};Nd.prototype.Eh=function(a){this.Z=a};var Od={},Pd={};function Qd(a){Rd(a);M(a,function(b){M(a,function(a){b!==a&&Sd(b,a,Td)})})}function Ud(a){Od[a.Wc]=a;Sd(a,a,Td)}function Rd(a){var b=[];M(a,function(a){b.push(Ud(a))})}
function Vd(a){return null!=a?B(a)?Wd(a):a:Wd("EPSG:3857")}function Sd(a,b,c){a=a.Wc;b=b.Wc;a in Pd||(Pd[a]={});Pd[a][b]=c}function Xd(a){return function(b,c,d){var e=b.length;d=t(d)?d:2;c=t(c)?c:Array(e);var f,g;for(g=0;g<e;g+=d)for(f=a([b[g],b[g+1]]),c[g]=f[0],c[g+1]=f[1],f=d-1;2<=f;--f)c[g+f]=b[g+f];return c}}
function Wd(a){var b;if(a instanceof Nd)b=a;else if(B(a)){if(b=Od[a],!t(b)&&"function"==typeof proj4){var c=proj4.defs(a);if(t(c)){b=c.units;!t(b)&&t(c.lk)&&(b=c.lk.toString(),Md[b]=c.lk);b=new Nd({code:a,units:b,axisOrientation:c.axis});Ud(b);var d,e,f,g;for(d in Od)if(e=proj4.defs(d),t(e))if(f=Wd(d),e===c)Qd([f,b]);else{g=proj4(d,a);var h=b;e=g.forward;g=g.inverse;f=Wd(f);h=Wd(h);Sd(f,h,Xd(e));Sd(h,f,Xd(g))}}else b=null}}else b=null;return b}function Yd(a,b){var c=Wd(a),d=Wd(b);return Zd(c,d)}
function Zd(a,b){var c=a.Wc,d=b.Wc,e;c in Pd&&d in Pd[c]&&(e=Pd[c][d]);t(e)||(e=$d);return e}function $d(a,b){if(t(b)&&a!==b){Sa("This should not be used internally.");for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Td(a,b){var c;if(t(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c};function ae(){rd.call(this);this.extent=void 0;this.Zc=-1;this.jc={};this.bg=this.kc=0}K(ae,rd);ae.prototype.Ub=Ac;ae.prototype.transform=function(a,b){this.sg(Yd(a,b));return this};function be(a){a=t(a)?a:{};this.hb=t(a.fill)?a.fill:null;this.d=t(a.image)?a.image:null;this.ra=t(a.stroke)?a.stroke:null;this.D=t(a.text)?a.text:null;this.va=a.zIndex}be.prototype.w=function(){return this.d};function ce(){var a=new ua({color:"rgba(255,255,255,0.4)"}),b=new ta({color:"#3399CC",width:1.25}),c=[new be({image:new yc({fill:a,stroke:b,radius:5}),fill:a,stroke:b})];ce=function(){return c};return c};var de=[.5,1],ee=[48,48];function fe(a){var b;if(null!=a)if(a.def){a=a.def;var c;a.fill?(b=a.fill,null!=b&&b.color&&(c=new ua({color:b.color}))):c=void 0;b=a.image?ge(a.image):void 0;var d;if(a.stroke){var e=a.stroke;null!=e&&(d=new ta({color:e.color,lineCap:e.lineCap,lineJoin:e.lineJoin,lineDash:e.lineDash,miterLimit:e.miterLimit,width:e.img}))}else d=void 0;var f;a.text?(e=a.text,null!=e&&(f=new sa.zn({font:e.font,offsetX:e.offsetX,offsetY:e.offsetY,scale:e.scale,rotation:e.rotation,text:e.text,textAlign:e.textAlign,textBaseline:e.textBaseline,
fill:e.fill,stroke:e.stroke}))):f=void 0;b=new be({fill:c,image:b,stroke:d,text:f,zIndex:a.zIndex?a.fill:void 0})}else if(a.icon){a=a.icon;f=xb(a);vb(f,"name");a=a.name;d=new Image;switch(a){case "pin":d.src="data/images/pin_48.png",f.size=ee,f.anchor=de,f.scale=.625}f.img=d;b=new be({image:ge(f)})}return b}
function ge(a){var b;null!=a&&(b=new he({anchor:a.anchor,anchorOrigin:a.anchorOrigin,anchorXUnits:a.anchorXUnits,anchorYUnits:a.anchorYUnits,crossOrigin:a.crossOrigin,img:a.img,offset:a.offset,offsetOrigin:a.offsetOrigin,scale:a.scale,snapToPixel:a.snapToPixel,rotateWithView:a.rotateWithView,size:a.size,src:a.src}));return b};({});({}).An;var ie={projection:"EPSG:3857",map:{center:[1910872.8582313128,6148369.483887095],zoom:5,baseResolution:156543.03391,resolutionsLevels:21},layers:[{type:"osm",config:{name:"Open street maps",baselayer:!0,visible:!0}}],theme:{}};function je(a){l.setTimeout(function(){throw a;},0)}function ke(a,b){var c=a;b&&(c=F(a,b));c=le(c);!ka(l.setImmediate)||l.wk&&l.wk.prototype.setImmediate==l.setImmediate?(me||(me=ne()),me(c)):l.setImmediate(c)}var me;
function ne(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=F(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!mb("Trident")&&!mb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.gi;c.gi=null;a()};return function(a){d.next={gi:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}}var le=Cc;function oe(a,b){pe||qe();re||(pe(),re=!0);se.push(new te(a,b))}var pe;function qe(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve();pe=function(){a.then(ue)}}else pe=function(){ke(ue)}}var re=!1,se=[];[].push(function(){re=!1;se=[]});function ue(){for(;se.length;){var a=se;se=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.fn.call(c.scope)}catch(d){je(d)}}}re=!1}function te(a,b){this.fn=a;this.scope=b};function ve(a,b){this.o=we;this.Tj=void 0;this.Ha=this.Fb=null;this.sf=this.Lg=!1;try{var c=this;a.call(b,function(a){xe(c,ye,a)},function(a){if(!(a instanceof ze))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}xe(c,Ae,a)})}catch(d){xe(this,Ae,d)}}var we=0,ye=2,Ae=3;ve.prototype.then=function(a,b,c){return Be(this,ka(a)?a:null,ka(b)?b:null,c)};ve.prototype.then=ve.prototype.then;ve.prototype.$goog_Thenable=!0;
ve.prototype.cancel=function(a){this.o==we&&oe(function(){var b=new ze(a);Ce(this,b)},this)};function Ce(a,b){if(a.o==we)if(a.Fb){var c=a.Fb;if(c.Ha){for(var d=0,e=-1,f=0,g;g=c.Ha[f];f++)if(g=g.Pe)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.o==we&&1==d?Ce(c,b):(d=c.Ha.splice(e,1)[0],De(c,d,Ae,b)))}}else xe(a,Ae,b)}function Ee(a,b){a.Ha&&a.Ha.length||a.o!=ye&&a.o!=Ae||Fe(a);a.Ha||(a.Ha=[]);a.Ha.push(b)}
function Be(a,b,c,d){var e={Pe:null,yj:null,Aj:null};e.Pe=new ve(function(a,g){e.yj=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.Aj=c?function(b){try{var e=c.call(d,b);!t(e)&&b instanceof ze?g(b):a(e)}catch(n){g(n)}}:g});e.Pe.Fb=a;Ee(a,e);return e.Pe}ve.prototype.pk=function(a){this.o=we;xe(this,ye,a)};ve.prototype.qk=function(a){this.o=we;xe(this,Ae,a)};
function xe(a,b,c){if(a.o==we){if(a==c)b=Ae,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.o=1;c.then(a.pk,a.qk,a);return}if(la(c))try{var f=c.then;if(ka(f)){Ge(a,c,f);return}}catch(g){b=Ae,c=g}}a.Tj=c;a.o=b;Fe(a);b!=Ae||c instanceof ze||He(a,c)}}function Ge(a,b,c){function d(b){f||(f=!0,a.qk(b))}function e(b){f||(f=!0,a.pk(b))}a.o=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Fe(a){a.Lg||(a.Lg=!0,oe(a.Ok,a))}
ve.prototype.Ok=function(){for(;this.Ha&&this.Ha.length;){var a=this.Ha;this.Ha=[];for(var b=0;b<a.length;b++)De(this,a[b],this.o,this.Tj)}this.Lg=!1};function De(a,b,c,d){if(c==ye)b.yj(d);else{for(;a&&a.sf;a=a.Fb)a.sf=!1;b.Aj(d)}}function He(a,b){a.sf=!0;oe(function(){a.sf&&Ie.call(null,b)})}var Ie=je;function ze(a){Aa.call(this,a)}K(ze,Aa);ze.prototype.name="cancel";var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Ke(a){if(Le){Le=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=Ke(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw Le=!0,Error();}}return a.match(Je)}var Le=Q;function Me(a,b,c){if(ga(b))for(var d=0;d<b.length;d++)Me(a,String(b[d]),c);else null!=b&&c.push("&",a,""===b?"":"=",encodeURIComponent(String(b)))};function Ne(a,b){this.f={};this.ca=[];this.t=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Ne?(c=a.za(),d=a.Ta()):(c=sb(a),d=rb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}k=Ne.prototype;k.wb=function(){return this.t};k.Ta=function(){Pe(this);for(var a=[],b=0;b<this.ca.length;b++)a.push(this.f[this.ca[b]]);return a};k.za=function(){Pe(this);return this.ca.concat()};
k.Ka=function(a){return Qe(this.f,a)};k.wi=function(a,b){if(this===a)return!0;if(this.t!=a.wb())return!1;var c=b||Re;Pe(this);for(var d,e=0;d=this.ca[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Re(a,b){return a===b}k.ha=function(){return 0==this.t};k.clear=function(){this.f={};this.t=this.ca.length=0};k.remove=function(a){return Qe(this.f,a)?(delete this.f[a],this.t--,this.ca.length>2*this.t&&Pe(this),!0):!1};
function Pe(a){if(a.t!=a.ca.length){for(var b=0,c=0;b<a.ca.length;){var d=a.ca[b];Qe(a.f,d)&&(a.ca[c++]=d);b++}a.ca.length=c}if(a.t!=a.ca.length){for(var e={},c=b=0;b<a.ca.length;)d=a.ca[b],Qe(e,d)||(a.ca[c++]=d,e[d]=1),b++;a.ca.length=c}}k.get=function(a,b){return Qe(this.f,a)?this.f[a]:b};k.set=function(a,b){Qe(this.f,a)||(this.t++,this.ca.push(a));this.f[a]=b};k.forEach=function(a,b){for(var c=this.za(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new Ne(this)};
function Qe(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Se(a){if("function"==typeof a.Ta)return a.Ta();if(B(a))return a.split("");if(ha(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return rb(a)}function Te(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ha(a)||B(a))M(a,b,c);else{var d;if("function"==typeof a.za)d=a.za();else if("function"!=typeof a.Ta)if(ha(a)||B(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=sb(a);else d=void 0;for(var e=Se(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function Ue(a,b){var c;if(a instanceof Ue)this.Na=t(b)?b:a.Na,Ve(this,a.hc),c=a.Qc,We(this),this.Qc=c,c=a.vb,We(this),this.vb=c,Xe(this,a.ud),c=a.nb,We(this),this.nb=c,Ye(this,a.Zd().clone()),c=a.Xb,We(this),this.Xb=c;else if(a&&(c=Ke(String(a)))){this.Na=!!b;Ve(this,c[1]||"",!0);var d=c[2]||"";We(this);this.Qc=Ze(d);d=c[3]||"";We(this);this.vb=Ze(d,!0);Xe(this,c[4]);d=c[5]||"";We(this);this.nb=Ze(d,!0);Ye(this,c[6]||"",!0);c=c[7]||"";We(this);this.Xb=Ze(c)}else this.Na=!!b,this.Gb=new $e(null,0,
this.Na)}k=Ue.prototype;k.hc="";k.Qc="";k.vb="";k.ud=null;k.nb="";k.Xb="";k.Fl=!1;k.Na=!1;
k.toString=function(){var a=[],b=this.hc;b&&a.push(af(b,bf,!0),":");if(b=this.vb){a.push("//");var c=this.Qc;c&&a.push(af(c,bf,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.ud;null!=b&&a.push(":",String(b))}if(b=this.nb)this.vb&&"/"!=b.charAt(0)&&a.push("/"),a.push(af(b,"/"==b.charAt(0)?cf:df,!0));(b=this.Gb.toString())&&a.push("?",b);(b=this.Xb)&&a.push("#",af(b,ef));return a.join("")};
k.resolve=function(a){var b=this.clone(),c=!!a.hc;c?Ve(b,a.hc):c=!!a.Qc;if(c){var d=a.Qc;We(b);b.Qc=d}else c=!!a.vb;c?(d=a.vb,We(b),b.vb=d):c=null!=a.ud;d=a.nb;if(c)Xe(b,a.ud);else if(c=!!a.nb){if("/"!=d.charAt(0))if(this.vb&&!this.nb)d="/"+d;else{var e=b.nb.lastIndexOf("/");-1!=e&&(d=b.nb.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):
".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?(We(b),b.nb=d):c=""!==a.Gb.toString();c?Ye(b,Ze(a.Gb.toString())):c=!!a.Xb;c&&(a=a.Xb,We(b),b.Xb=a);return b};k.clone=function(){return new Ue(this)};function Ve(a,b,c){We(a);a.hc=c?Ze(b,!0):b;a.hc&&(a.hc=a.hc.replace(/:$/,""))}function Xe(a,b){We(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.ud=b}else a.ud=null}
function Ye(a,b,c){We(a);b instanceof $e?(a.Gb=b,a.Gb.Fh(a.Na)):(c||(b=af(b,ff)),a.Gb=new $e(b,0,a.Na))}k.Zd=function(){return this.Gb};function We(a){if(a.Fl)throw Error("Tried to modify a read-only Uri");}k.Fh=function(a){this.Na=a;this.Gb&&this.Gb.Fh(a);return this};function Ze(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function af(a,b,c){return B(a)?(a=encodeURI(a).replace(b,gf),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function gf(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var bf=/[#\/\?@]/g,df=/[\#\?:]/g,cf=/[\#\?]/g,ff=/[\#\?@]/g,ef=/#/g;function $e(a,b,c){this.xa=a||null;this.Na=!!c}function hf(a){if(!a.S&&(a.S=new Ne,a.t=0,a.xa))for(var b=a.xa.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=jf(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}
k=$e.prototype;k.S=null;k.t=null;k.wb=function(){hf(this);return this.t};k.add=function(a,b){hf(this);this.xa=null;a=jf(this,a);var c=this.S.get(a);c||this.S.set(a,c=[]);c.push(b);this.t++;return this};k.remove=function(a){hf(this);a=jf(this,a);return this.S.Ka(a)?(this.xa=null,this.t-=this.S.get(a).length,this.S.remove(a)):!1};k.clear=function(){this.S=this.xa=null;this.t=0};k.ha=function(){hf(this);return 0==this.t};k.Ka=function(a){hf(this);a=jf(this,a);return this.S.Ka(a)};
k.za=function(){hf(this);for(var a=this.S.Ta(),b=this.S.za(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};k.Ta=function(a){hf(this);var b=[];if(B(a))this.Ka(a)&&(b=$a(b,this.S.get(jf(this,a))));else{a=this.S.Ta();for(var c=0;c<a.length;c++)b=$a(b,a[c])}return b};k.set=function(a,b){hf(this);this.xa=null;a=jf(this,a);this.Ka(a)&&(this.t-=this.S.get(a).length);this.S.set(a,[b]);this.t++;return this};
k.get=function(a,b){var c=a?this.Ta(a):[];return 0<c.length?String(c[0]):b};k.toString=function(){if(this.xa)return this.xa;if(!this.S)return"";for(var a=[],b=this.S.za(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Ta(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.xa=a.join("&")};k.clone=function(){var a=new $e;a.xa=this.xa;this.S&&(a.S=this.S.clone(),a.t=this.t);return a};
function jf(a,b){var c=String(b);a.Na&&(c=c.toLowerCase());return c}k.Fh=function(a){a&&!this.Na&&(hf(this),this.xa=null,this.S.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.xa=null,this.S.set(jf(this,d),ab(a)),this.t+=a.length))},this));this.Na=a};k.extend=function(a){for(var b=0;b<arguments.length;b++)Te(arguments[b],function(a,b){this.add(b,a)},this)};function kf(a){return function(b){if(t(b))return[hb(b[0],a[0],a[2]),hb(b[1],a[1],a[3])]}}function lf(a){return a};function mf(a){if(t(a))return 0}function nf(a,b){if(t(a))return a+b}function of(a){var b=2*Math.PI/a;return function(a,d){if(t(a))return a=Math.floor((a+d)/b+.5)*b}}function pf(){var a=5*Math.PI/180;return function(b,c){if(t(b))return Math.abs(b+c)<=a?0:b+c}};function qf(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1])){if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}Sa()}return d-1};function rf(a){return function(b,c,d){if(t(b))return b=qf(a,b,d),b=hb(b+c,0,a.length-1),a[b]}}function sf(a,b,c){return function(d,e,f){if(t(d))return f=0<f?0:0>f?1:.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),t(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function tf(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function uf(a,b,c){S.call(this,a);this.key=b;this.oldValue=c}K(uf,S);function vf(a){rd.call(this);E(this);this.Pb={};this.Je={};t(a)&&this.Lb(a)}K(vf,rd);var wf={},xf={},yf={};function zf(a){return wf.hasOwnProperty(a)?wf[a]:wf[a]="change:"+a}k=vf.prototype;
k.get=function(a){var b,c=this.Je;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.Km,d=xf.hasOwnProperty(c)?xf[c]:xf[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=N(b,d);b=t(d)?d.call(b):b.get(c);b=a.Hn(b)}else this.Pb.hasOwnProperty(a)&&(b=this.Pb[a]);return b};k.za=function(){var a=this.Je,b;if(tb(this.Pb)){if(tb(a))return[];b=a}else if(tb(a))b=this.Pb;else{b={};for(var c in this.Pb)b[c]=!0;for(c in a)b[c]=!0}return sb(b)};
k.notify=function(a,b){var c;c=zf(a);this.dispatchEvent(new uf(c,a,b));this.dispatchEvent(new uf("propertychange",a,b))};k.set=function(a,b){var c=this.Je;if(c.hasOwnProperty(a)){var d=c[a];b=d.Fn(b);var c=d.target,d=d.Km,e=b,f=yf.hasOwnProperty(d)?yf[d]:yf[d]="set"+(d.substr(0,1).toUpperCase()+d.substr(1)),f=N(c,f);t(f)?f.call(c,e):c.set(d,e)}else c=this.Pb[a],this.Pb[a]=b,this.notify(a,c)};k.Lb=function(a){for(var b in a)this.set(b,a[b])};function X(a){var b;vf.call(this);a=t(a)?a:{};this.$g=[0,0];var c={};c.center=t(a.center)?a.center:null;this.Sf=Vd(a.projection);var d,e,f=t(a.minZoom)?a.minZoom:0;b=t(a.maxZoom)?a.maxZoom:28;var g=t(a.zoomFactor)?a.zoomFactor:2;if(t(a.resolutions))b=a.resolutions,d=b[0],e=b[b.length-1],b=rf(b);else{d=Vd(a.projection);e=d.n();var h=(null===e?360*Md.degrees/Md[d.ig]:Math.max(e[2]-e[0],Fd(e)))/256/Math.pow(2,0),m=h/Math.pow(2,28);d=a.maxResolution;t(d)?f=0:d=h/Math.pow(g,f);e=a.minResolution;t(e)||
(e=t(a.maxZoom)?t(a.maxResolution)?d/Math.pow(g,b):h/Math.pow(g,b):m);b=f+Math.floor(Math.log(d/e)/Math.log(g));e=d/Math.pow(g,b-f);b=sf(g,d,b-f)}this.qh=d;this.Nl=e;this.rh=f;f=t(a.extent)?kf(a.extent):lf;d=Af(a);this.Hd=new tf(f,b,d);t(a.resolution)?c.resolution=a.resolution:t(a.zoom)&&(c.resolution=this.constrainResolution(this.qh,a.zoom-this.rh));c.rotation=t(a.rotation)?a.rotation:0;this.Lb(c)}K(X,vf);X.prototype.constrainResolution=function(a,b,c){return this.Hd.resolution(a,b||0,c||0)};
X.prototype.constrainRotation=function(a,b){return this.Hd.rotation(a,b||0)};X.prototype.La=function(){return this.get("center")};X.prototype.getCenter=X.prototype.La;X.prototype.G=function(){return this.get("resolution")};X.prototype.getResolution=X.prototype.G;X.prototype.lb=function(){return this.get("rotation")};X.prototype.getRotation=X.prototype.lb;
X.prototype.H=function(){var a=this.La(),b=this.Sf,c=this.G(),d=this.lb();return{center:a.slice(),projection:t(b)?b:null,resolution:c,rotation:t(d)?d:0}};X.prototype.ih=function(){return null!=this.La()&&t(this.G())};X.prototype.rotate=function(a,b){if(t(b)){var c,d=this.La();t(d)&&(c=[d[0]-b[0],d[1]-b[1]],td(c,a-this.lb()),sd(c,b));this.ic(c)}this.$f(a)};X.prototype.ic=function(a){this.set("center",a)};X.prototype.setCenter=X.prototype.ic;function Bf(a,b){a.$g[1]+=b}
X.prototype.Zf=function(a){this.set("resolution",a)};X.prototype.setResolution=X.prototype.Zf;X.prototype.$f=function(a){this.set("rotation",a)};X.prototype.setRotation=X.prototype.$f;function Af(a){if(t(a.enableRotation)?a.enableRotation:1){a=a.constrainRotation;if(t(a)&&!0!==a){if(!1===a)return nf;if(ja(a))return of(a);Sa();return nf}return pf()}return mf};({});function Cf(){vf.call(this)}K(Cf,vf);Cf.prototype.Zd=function(){var a=null,b=new Ue(document.location),c=b.Zd(),b=new $e(b.Xb);0<c.za().length?a=c:0<b.za().length&&(a=b);return a};function Df(a,b,c,d){return t(d)?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function Ef(a,b,c){return a+"/"+b+"/"+c}function Ff(a){return Ef(a[0],a[1],a[2])};function Gf(a,b,c,d){this.C=a;this.T=b;this.L=c;this.K=d}function Hf(a,b,c,d,e){return t(e)?(e.C=a,e.T=b,e.L=c,e.K=d,e):new Gf(a,b,c,d)}k=Gf.prototype;k.contains=function(a){return this.Ub(a[1],a[2])};function If(a,b){return a.C<=b.C&&b.T<=a.T&&a.L<=b.L&&b.K<=a.K}k.Ub=function(a,b){return this.C<=a&&a<=this.T&&this.L<=b&&b<=this.K};k.wi=function(a){return this.C==a.C&&this.L==a.L&&this.T==a.T&&this.K==a.K};
k.extend=function(a){a.C<this.C&&(this.C=a.C);a.T>this.T&&(this.T=a.T);a.L<this.L&&(this.L=a.L);a.K>this.K&&(this.K=a.K)};k.kf=function(){return this.K-this.L+1};k.Y=function(){return[this.Ma(),this.kf()]};k.Ma=function(){return this.T-this.C+1};function Jf(a,b){W.call(this);this.F=a;this.state=b}K(Jf,W);Jf.prototype.j=function(){this.dispatchEvent("change")};Jf.prototype.getKey=function(){return E(this).toString()};Jf.prototype.H=function(){return this.state};function Kf(){this.t=0;this.Rd={};this.Oa=this.Ea=null}k=Kf.prototype;k.clear=function(){this.t=0;this.Rd={};this.Oa=this.Ea=null};k.Ka=function(a){return this.Rd.hasOwnProperty(a)};k.forEach=function(a,b){for(var c=this.Ea;null!==c;)a.call(b,c.Rc,c.Ef,this),c=c.Wa};k.get=function(a){a=this.Rd[a];if(a===this.Oa)return a.Rc;a===this.Ea?(this.Ea=this.Ea.Wa,this.Ea.fc=null):(a.Wa.fc=a.fc,a.fc.Wa=a.Wa);a.Wa=null;a.fc=this.Oa;this.Oa=this.Oa.Wa=a;return a.Rc};k.wb=function(){return this.t};
k.za=function(){var a=Array(this.t),b=0,c;for(c=this.Oa;null!==c;c=c.fc)a[b++]=c.Ef;return a};k.Ta=function(){var a=Array(this.t),b=0,c;for(c=this.Oa;null!==c;c=c.fc)a[b++]=c.Rc;return a};k.pop=function(){var a=this.Ea;delete this.Rd[a.Ef];null!==a.Wa&&(a.Wa.fc=null);this.Ea=a.Wa;null===this.Ea&&(this.Oa=null);--this.t;return a.Rc};k.set=function(a,b){var c={Ef:a,Wa:null,fc:this.Oa,Rc:b};null===this.Oa?this.Ea=c:this.Oa.Wa=c;this.Oa=c;this.Rd[a]=c;++this.t};function Lf(a){Kf.call(this);this.Dl=t(a)?a:2048}K(Lf,Kf);Lf.prototype.Ed=function(){return this.wb()>this.Dl};Lf.prototype.Mg=function(a){for(var b,c;this.Ed()&&!(b=this.Ea.Rc,c=b.F[0].toString(),c in a&&a[c].contains(b.F));)this.pop().Ue()};function Mf(a){var b=/\{z\}/g,c=/\{x\}/g,d=/\{y\}/g,e=/\{-y\}/g;return function(f){return null===f?void 0:a.replace(b,f[0].toString()).replace(c,f[1].toString()).replace(d,f[2].toString()).replace(e,function(){return((1<<f[0])-f[2]-1).toString()})}}function Nf(a){return Of(Wa(a,Mf))}function Of(a){return 1===a.length?a[0]:function(b,c,d){return null===b?void 0:a[ib((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function Pf(){}
function Qf(a,b){var c=[0,0,0];return function(d,e,f){return null===d?void 0:b(a(d,f,c),e,f)}}function Rf(a){var b=[],c=/\{(\d)-(\d)\}/.exec(a)||/\{([a-z])-([a-z])\}/.exec(a);if(c){var d=c[2].charCodeAt(0),e;for(e=c[1].charCodeAt(0);e<=d;++e)b.push(a.replace(c[0],String.fromCharCode(e)))}else b.push(a);return b};function Sf(a,b,c,d,e){Jf.call(this,a,b);this.zd=c;this.d=new Image;null!==d&&(this.d.crossOrigin=d);this.zb={};this.Ua=null;this.Om=e}K(Sf,Jf);k=Sf.prototype;k.w=function(a){if(t(a)){var b=E(a);if(b in this.zb)return this.zb[b];a=tb(this.zb)?this.d:this.d.cloneNode(!1);return this.zb[b]=a}return this.d};k.getKey=function(){return this.zd};k.fd=function(){this.state=3;this.pc();this.j()};k.be=function(){this.state=this.d.naturalWidth&&this.d.naturalHeight?2:4;this.pc();this.j()};
k.load=function(){0==this.state&&(this.state=1,this.Ua=[ld(this.d,"error",this.fd,!1,this),ld(this.d,"load",this.be,!1,this)],this.Om(this,this.zd))};k.pc=function(){M(this.Ua,V);this.Ua=null};function Tf(a){rd.call(this);this.Sf=Wd(a.projection);this.sc=t(a.attributions)?a.attributions:null;this.Jl=a.logo;this.o=t(a.state)?a.state:"ready"}K(Tf,rd);Tf.prototype.H=function(){return this.o};function Uf(a){this.minZoom=t(a.minZoom)?a.minZoom:0;this.Ib=a.resolutions;this.maxZoom=this.Ib.length-1;this.Ya=t(a.origin)?a.origin:null;this.Bj=null;t(a.origins)&&(this.Bj=a.origins);this.Nh=null;t(a.tileSizes)&&(this.Nh=a.tileSizes);this.ik=t(a.tileSize)?a.tileSize:null===this.Nh?256:void 0}var Vf=[0,0,0];k=Uf.prototype;k.cf=function(a,b,c,d,e){e=Wf(this,a,e);for(a=a[0]-1;a>=this.minZoom;){if(b.call(c,a,Xf(this,e,a,d)))return!0;--a}return!1};k.kb=function(a){return null===this.Ya?this.Bj[a]:this.Ya};
k.G=function(a){return this.Ib[a]};k.of=function(){return this.Ib};k.pf=function(a,b,c){return a[0]<this.maxZoom?(c=Wf(this,a,c),Xf(this,c,a[0]+1,b)):null};function Yf(a,b,c,d){Zf(a,b[0],b[1],c,!1,Vf);var e=Vf[1],f=Vf[2];Zf(a,b[2],b[3],c,!0,Vf);return Hf(e,Vf[1],f,Vf[2],d)}function Xf(a,b,c,d){c=a.G(c);return Yf(a,b,c,d)}function $f(a,b){var c=a.kb(b[0]),d=a.G(b[0]),e=ag(a,b[0]);return[c[0]+(b[1]+.5)*e*d,c[1]+(b[2]+.5)*e*d]}
function Wf(a,b,c){var d=a.kb(b[0]),e=a.G(b[0]);a=ag(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return vd(f,b,f+a*e,b+a*e,c)}function Zf(a,b,c,d,e,f){var g=qf(a.Ib,d,0),h=d/a.G(g),m=a.kb(g);a=ag(a,g);b=h*(b-m[0])/(d*a);c=h*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return Df(g,b,c,f)}function bg(a,b,c){c=a.G(c);return Zf(a,b[0],b[1],c,!1,void 0)}function ag(a,b){return t(a.ik)?a.ik:a.Nh[b]}
function cg(a,b,c){b=t(b)?b:42;c=t(c)?c:256;a=Math.max((a[2]-a[0])/c,Fd(a)/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c}function dg(a){a=Wd(a);var b=a.n();null===b&&(a=180*Md.degrees/Md[a.ig],b=vd(-a,-a,a,a));return b};function eg(a){Tf.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.am=t(a.opaque)?a.opaque:!1;this.Pm=t(a.tilePixelRatio)?a.tilePixelRatio:1;this.tileGrid=t(a.tileGrid)?a.tileGrid:null}K(eg,Tf);k=eg.prototype;k.Ed=Ac;k.Og=function(a,b,c,d){var e=!0,f,g,h,m;for(h=d.C;h<=d.T;++h)for(m=d.L;m<=d.K;++m)g=this.Wd(c,h,m),a[c]&&a[c][g]||(f=b(c,h,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};k.jf=function(){return 0};k.Wd=Ef;k.of=function(){return this.tileGrid.of()};
function fg(a,b){var c;if(null===a.tileGrid){if(c=b.ti,null===c){c=dg(b);var d=t(void 0)?void 0:256,e=t(void 0)?void 0:"bottom-left",f=cg(c,void 0,d);c=new Uf({origin:Cd(c,e),resolutions:f,tileSize:d});b.ti=c}}else c=a.tileGrid;return c}k.ae=function(a,b,c){return ag(fg(this,c),a)*this.Pm};k.tk=da;function gg(a){eg.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:t(a.state)?a.state:void 0,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio});this.tileUrlFunction=t(a.tileUrlFunction)?a.tileUrlFunction:Pf;this.crossOrigin=t(a.crossOrigin)?a.crossOrigin:null;this.nc=new Lf;this.tileLoadFunction=t(a.tileLoadFunction)?a.tileLoadFunction:hg;this.tileClass=t(a.tileClass)?a.tileClass:Sf}K(gg,eg);function hg(a,b){a.w().src=b}
gg.prototype.Ed=function(){return this.nc.Ed()};gg.prototype.Mg=function(a){this.nc.Mg(a)};function ig(a,b,c,d,e,f){var g=a.Wd(b,c,d);if(a.nc.Ka(g))return a.nc.get(g);b=[b,c,d];e=a.tileUrlFunction(b,e,f);e=new a.tileClass(b,t(e)?0:4,t(e)?e:"",a.crossOrigin,a.tileLoadFunction);a.nc.set(g,e);return e}gg.prototype.we=function(a){this.nc.clear();this.tileUrlFunction=a;this.j()};gg.prototype.tk=function(a,b,c){a=this.Wd(a,b,c);this.nc.Ka(a)&&this.nc.get(a)};function jg(a){Nd.call(this,{code:a,units:"m",extent:kg,global:!0,worldExtent:lg})}K(jg,Nd);var mg=6378137*Math.PI,kg=[-mg,-mg,mg,mg],lg=[-180,-85,180,85],ng=Wa("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new jg(a)});
function og(a,b,c){var d=a.length;c=1<c?c:2;t(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function pg(a,b,c){var d=a.length;c=1<c?c:2;t(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function qg(a){var b=t(a.extent)?a.extent:kg,c=cg(b,a.maxZoom,a.tileSize);Uf.call(this,{minZoom:a.minZoom,origin:Cd(b,"top-left"),resolutions:c,tileSize:a.tileSize})}K(qg,Uf);
function rg(a,b){var c=t(b)?b:{},d=a.minZoom,e=a.maxZoom,f=t(c.wrapX)?c.wrapX:!0,g=null;if(t(c.extent)){var g=Array(e+1),h;for(h=0;h<=e;++h)g[h]=h<d?null:Xf(a,c.extent,h)}return function(a,b,c){b=a[0];if(b<d||e<b)return null;var h=Math.pow(2,b),q=a[1];if(f)q=ib(q,h);else if(0>q||h<=q)return null;a=a[2];return a<-h||-1<a||null!==g&&!g[b].Ub(q,a)?null:Df(b,q,-a-1,c)}}qg.prototype.pf=function(a,b){if(a[0]<this.maxZoom){var c=2*a[1],d=2*a[2];return Hf(c,c+1,d,d+1,b)}return null};
qg.prototype.cf=function(a,b,c,d){d=Hf(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.minZoom;--a)if(d.C=d.T>>=1,d.L=d.K>>=1,b.call(c,a,d))return!0;return!1};function sg(a){var b=t(a.projection)?a.projection:"EPSG:3857",c=new qg({extent:dg(b),maxZoom:a.maxZoom,tileSize:a.tileSize});gg.call(this,{attributions:a.attributions,crossOrigin:a.crossOrigin,logo:a.logo,projection:b,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:Pf});this.Nm=rg(c,{wrapX:a.wrapX});t(a.tileUrlFunction)?this.we(a.tileUrlFunction):t(a.urls)?this.Ih(a.urls):t(a.url)&&this.ak(a.url)}K(sg,gg);
sg.prototype.we=function(a){sg.N.we.call(this,Qf(this.Nm,a))};sg.prototype.ak=function(a){this.we(Nf(Rf(a)))};sg.prototype.Ih=function(a){this.we(Nf(a))};function tg(a){a=t(a)?a:{};var b=Nb?"https:":"http:";sg.call(this,{attributions:t(a.attributions)?a.attributions:[ug],crossOrigin:t(a.crossOrigin)?a.crossOrigin:"anonymous",opaque:!0,maxZoom:t(a.maxZoom)?a.maxZoom:19,tileLoadFunction:a.tileLoadFunction,url:t(a.url)?a.url:b+"//{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}K(tg,sg);var ug=new function(){var a={html:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'};this.Vi=a.html;this.eg=t(a.Rm)?a.Rm:null};function Y(a){vf.call(this);var b=xb(a);b.brightness=t(a.brightness)?a.brightness:0;b.contrast=t(a.contrast)?a.contrast:1;b.hue=t(a.hue)?a.hue:0;b.opacity=t(a.opacity)?a.opacity:1;b.saturation=t(a.saturation)?a.saturation:1;b.visible=t(a.visible)?a.visible:!0;b.maxResolution=t(a.maxResolution)?a.maxResolution:Infinity;b.minResolution=t(a.minResolution)?a.minResolution:0;this.Lb(b)}K(Y,vf);Y.prototype.Hi=function(){return this.get("brightness")};Y.prototype.getBrightness=Y.prototype.Hi;
Y.prototype.Ji=function(){return this.get("contrast")};Y.prototype.getContrast=Y.prototype.Ji;Y.prototype.Ki=function(){return this.get("hue")};Y.prototype.getHue=Y.prototype.Ki;
function vg(a){var b=a.Hi(),c=a.Ji(),d=a.Ki(),e=a.Yd(),f=a.Oi(),g=a.Wg(),h=a.rf(),m=a.n(),n=a.Mi(),p=a.Ni();return{layer:a,brightness:t(b)?hb(b,-1,1):0,contrast:t(c)?Math.max(c,0):1,hue:t(d)?d:0,opacity:t(e)?hb(e,0,1):1,saturation:t(f)?Math.max(f,0):1,Jh:g,visible:t(h)?!!h:!0,extent:m,maxResolution:t(n)?n:Infinity,minResolution:t(p)?Math.max(p,0):0}}Y.prototype.n=function(){return this.get("extent")};Y.prototype.getExtent=Y.prototype.n;Y.prototype.Mi=function(){return this.get("maxResolution")};
Y.prototype.getMaxResolution=Y.prototype.Mi;Y.prototype.Ni=function(){return this.get("minResolution")};Y.prototype.getMinResolution=Y.prototype.Ni;Y.prototype.Yd=function(){return this.get("opacity")};Y.prototype.getOpacity=Y.prototype.Yd;Y.prototype.Oi=function(){return this.get("saturation")};Y.prototype.getSaturation=Y.prototype.Oi;Y.prototype.rf=function(){return this.get("visible")};Y.prototype.getVisible=Y.prototype.rf;Y.prototype.tm=function(a){this.set("brightness",a)};
Y.prototype.setBrightness=Y.prototype.tm;Y.prototype.um=function(a){this.set("contrast",a)};Y.prototype.setContrast=Y.prototype.um;Y.prototype.vm=function(a){this.set("hue",a)};Y.prototype.setHue=Y.prototype.vm;Y.prototype.Eh=function(a){this.set("extent",a)};Y.prototype.setExtent=Y.prototype.Eh;Y.prototype.xm=function(a){this.set("maxResolution",a)};Y.prototype.setMaxResolution=Y.prototype.xm;Y.prototype.ym=function(a){this.set("minResolution",a)};Y.prototype.setMinResolution=Y.prototype.ym;
Y.prototype.Yj=function(a){this.set("opacity",a)};Y.prototype.setOpacity=Y.prototype.Yj;Y.prototype.Am=function(a){this.set("saturation",a)};Y.prototype.setSaturation=Y.prototype.Am;Y.prototype.Em=function(a){this.set("visible",a)};Y.prototype.setVisible=Y.prototype.Em;function wg(a){var b=xb(a);delete b.source;Y.call(this,b);this.cg=null;U(this,zf("source"),this.wl,!1,this);this.$j(t(a.source)?a.source:null)}K(wg,Y);wg.prototype.Sg=function(a){a=t(a)?a:[];a.push(vg(this));return a};wg.prototype.fa=function(){var a=this.get("source");return t(a)?a:null};wg.prototype.getSource=wg.prototype.fa;wg.prototype.Wg=function(){var a=this.fa();return null===a?"undefined":a.H()};wg.prototype.vl=function(){this.j()};
wg.prototype.wl=function(){null!==this.cg&&(V(this.cg),this.cg=null);var a=this.fa();null!==a&&(this.cg=U(a,"change",this.vl,!1,this));this.j()};wg.prototype.$j=function(a){this.set("source",a)};wg.prototype.setSource=wg.prototype.$j;function xg(a){wg.call(this,t(a)?a:{})}K(xg,wg);xg.prototype.nf=function(){return this.get("preload")};xg.prototype.getPreload=xg.prototype.nf;xg.prototype.zm=function(a){this.set("preload",a)};xg.prototype.setPreload=xg.prototype.zm;xg.prototype.qf=function(){return this.get("useInterimTilesOnError")};xg.prototype.getUseInterimTilesOnError=xg.prototype.qf;xg.prototype.Cm=function(a){this.set("useInterimTilesOnError",a)};xg.prototype.setUseInterimTilesOnError=xg.prototype.Cm;({});function yg(a){Tf.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.Ib=t(a.resolutions)?a.resolutions:null}K(yg,Tf);yg.prototype.of=function(){return this.Ib};function zg(a,b){a.w().src=b};function Ag(a,b,c,d,e){W.call(this);this.sc=e;this.extent=a;this.gc=c;this.resolution=b;this.state=d}K(Ag,W);Ag.prototype.j=function(){this.dispatchEvent("change")};Ag.prototype.n=function(){return this.extent};Ag.prototype.G=function(){return this.resolution};Ag.prototype.H=function(){return this.state};function Bg(a,b,c,d,e,f,g){Ag.call(this,a,b,c,0,d);this.zd=e;this.d=new Image;null!==f&&(this.d.crossOrigin=f);this.zb={};this.Ua=null;this.state=0;this.El=g}K(Bg,Ag);k=Bg.prototype;k.w=function(a){if(t(a)){var b=E(a);if(b in this.zb)return this.zb[b];a=tb(this.zb)?this.d:this.d.cloneNode(!1);return this.zb[b]=a}return this.d};k.fd=function(){this.state=3;this.pc();this.j()};k.be=function(){t(this.resolution)||(this.resolution=Fd(this.extent)/this.d.height);this.state=2;this.pc();this.j()};
k.load=function(){0==this.state&&(this.state=1,this.Ua=[ld(this.d,"error",this.fd,!1,this),ld(this.d,"load",this.be,!1,this)],this.El(this,this.zd))};k.pc=function(){M(this.Ua,V);this.Ua=null};function Cg(a){var b=t(a.attributions)?a.attributions:null,c=a.imageExtent,d,e;t(a.imageSize)&&(d=Fd(c)/a.imageSize[1],e=[d]);var f=t(a.crossOrigin)?a.crossOrigin:null,g=t(a.imageLoadFunction)?a.imageLoadFunction:zg;yg.call(this,{attributions:b,logo:a.logo,projection:Wd(a.projection),resolutions:e});this.d=new Bg(c,d,1,b,a.url,f,g)}K(Cg,yg);Cg.prototype.w=function(a){return Hd(a,this.d.n())?this.d:null};function Dg(a){wg.call(this,t(a)?a:{})}K(Dg,wg);function Eg(a){a=t(a)?a:{};var b=xb(a);delete b.style;wg.call(this,b);this.Oc=null;this.bb=void 0;this.ag(a.style)}K(Eg,wg);Eg.prototype.ag=function(a){this.Oc=t(a)?a:ce;null===a?a=void 0:(a=this.Oc,ka(a)||(a=ga(a)?a:[a],a=zc(a)));this.bb=a;this.j()};function Fg(a,b,c){if(ka(a))c&&(a=F(a,c));else if(a&&"function"==typeof a.handleEvent)a=F(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function Gg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Hg(){}Hg.prototype.fi=null;function Ig(a){var b;(b=a.fi)||(b={},Jg(a)&&(b[0]=!0,b[1]=!0),b=a.fi=b);return b};var Kg;function Lg(){}K(Lg,Hg);function Mg(a){return(a=Jg(a))?new ActiveXObject(a):new XMLHttpRequest}function Jg(a){if(!a.Yi&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Yi=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Yi}Kg=new Lg;function Ng(a){var b;b||(b=Og(a||arguments.callee.caller,[]));return b}
function Og(a,b){var c=[];if(0<=Ua(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Pg(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=Pg(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(Og(a.caller,
b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Pg(a){if(Rg[a])return Rg[a];a=String(a);if(!Rg[a]){var b=/function ([^\(]+)/.exec(a);Rg[a]=b?b[1]:"[Anonymous]"}return Rg[a]}var Rg={};function Sg(a,b,c,d,e){this.reset(a,b,c,d,e)}Sg.prototype.Kg=null;Sg.prototype.Jg=null;var Tg=0;Sg.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Tg++;this.jk=d||ra();this.Cc=a;this.vj=b;this.pj=c;delete this.Kg;delete this.Jg};Sg.prototype.Gh=function(a){this.Cc=a};function Ug(a){this.Yl=a;this.ce=this.wg=this.Cc=this.Fb=null}function Vg(a,b){this.name=a;this.value=b}Vg.prototype.toString=function(){return this.name};var Wg=new Vg("SHOUT",1200),Xg=new Vg("SEVERE",1E3),Yg=new Vg("WARNING",900),Zg=new Vg("CONFIG",700),$g=new Vg("FINE",500),ah=new Vg("FINEST",300);k=Ug.prototype;k.getParent=function(){return this.Fb};k.Ii=function(){this.wg||(this.wg={});return this.wg};k.Gh=function(a){this.Cc=a};
function bh(a){if(a.Cc)return a.Cc;if(a.Fb)return bh(a.Fb);Sa("Root logger has no level set.");return null}k.log=function(a,b,c){if(a.value>=bh(this).value)for(ka(b)&&(b=b()),a=this.Li(a,b,c,Ug.prototype.log),b="log:"+a.vj,l.console&&(l.console.timeStamp?l.console.timeStamp(b):l.console.markTimeline&&l.console.markTimeline(b)),l.msWriteProfilerMark&&l.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.ce)for(var e=0,f=void 0;f=c.ce[e];e++)f(d);b=b.getParent()}};
k.Li=function(a,b,c,d){a=new Sg(a,String(b),this.Yl);if(c){a.Kg=c;var e;d=d||Ug.prototype.Li;try{var f;var g=ca("window.location.href");if(B(c))f={message:c,name:"Unknown error",lineNumber:"Not available",fileName:g,stack:"Not available"};else{var h,m;b=!1;try{h=c.lineNumber||c.line||"Not available"}catch(n){h="Not available",b=!0}try{m=c.fileName||c.filename||c.sourceURL||l.$googDebugFname||g}catch(p){m="Not available",b=!0}f=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:h,fileName:m,stack:c.stack||"Not available"}}e="Message: "+Ca(f.message)+'\nUrl: <a href="view-source:'+f.fileName+'" target="_new">'+f.fileName+"</a>\nLine: "+f.lineNumber+"\n\nBrowser stack:\n"+Ca(f.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ca(Ng(d)+"-> ")}catch(r){e="Exception trying to expose exception! You win, we lose. "+r}a.Jg=e}return a};var ch={},dh=null;function eh(){dh||(dh=new Ug(""),ch[""]=dh,dh.Gh(Zg))}
function fh(a){eh();var b;if(!(b=ch[a])){b=new Ug(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=fh(a.substr(0,c));c.Ii()[d]=b;b.Fb=c;ch[a]=b}return b};function gh(a,b){a&&a.log($g,b,void 0)};function hh(a){W.call(this);this.headers=new Ne;this.ng=a||null;this.Qb=!1;this.mg=this.v=null;this.he=this.hj=this.Gf="";this.Ac=this.fh=this.zf=this.Hg=!1;this.Ee=0;this.oc=null;this.Sj=ih;this.kg=this.kn=!1}K(hh,W);var ih="";hh.prototype.la=fh("goog.net.XhrIo");var jh=/^https?$/i,kh=["POST","PUT"];k=hh.prototype;
k.send=function(a,b,c,d){if(this.v)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Gf+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Gf=a;this.he="";this.hj=b;this.Hg=!1;this.Qb=!0;this.v=this.ng?Mg(this.ng):Mg(Kg);this.mg=this.ng?Ig(this.ng):Ig(Kg);this.v.onreadystatechange=F(this.zj,this);try{gh(this.la,lh(this,"Opening Xhr")),this.fh=!0,this.v.open(b,String(a),!0),this.fh=!1}catch(e){gh(this.la,lh(this,"Error opening Xhr: "+e.message));mh(this,e);return}a=c||"";var f=
this.headers.clone();d&&Te(d,function(a,b){f.set(b,a)});d=Xa(f.za());c=l.FormData&&a instanceof l.FormData;!(0<=Ua(kh,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(a,b){this.v.setRequestHeader(b,a)},this);this.Sj&&(this.v.responseType=this.Sj);"withCredentials"in this.v&&(this.v.withCredentials=this.kn);try{nh(this),0<this.Ee&&(this.kg=oh(this.v),gh(this.la,lh(this,"Will abort after "+this.Ee+"ms if incomplete, xhr2 "+this.kg)),this.kg?(this.v.timeout=
this.Ee,this.v.ontimeout=F(this.kk,this)):this.oc=Fg(this.kk,this.Ee,this)),gh(this.la,lh(this,"Sending request")),this.zf=!0,this.v.send(a),this.zf=!1}catch(g){gh(this.la,lh(this,"Send error: "+g.message)),mh(this,g)}};function oh(a){return O&&Kb(9)&&ja(a.timeout)&&t(a.ontimeout)}function Ya(a){return"content-type"==a.toLowerCase()}k.kk=function(){"undefined"!=typeof aa&&this.v&&(this.he="Timed out after "+this.Ee+"ms, aborting",gh(this.la,lh(this,this.he)),this.dispatchEvent("timeout"),this.abort(8))};
function mh(a,b){a.Qb=!1;a.v&&(a.Ac=!0,a.v.abort(),a.Ac=!1);a.he=b;ph(a);qh(a)}function ph(a){a.Hg||(a.Hg=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}k.abort=function(){this.v&&this.Qb&&(gh(this.la,lh(this,"Aborting")),this.Qb=!1,this.Ac=!0,this.v.abort(),this.Ac=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qh(this))};k.l=function(){this.v&&(this.Qb&&(this.Qb=!1,this.Ac=!0,this.v.abort(),this.Ac=!1),qh(this,!0));hh.N.l.call(this)};
k.zj=function(){this.Od||(this.fh||this.zf||this.Ac?rh(this):this.$l())};k.$l=function(){rh(this)};
function rh(a){if(a.Qb&&"undefined"!=typeof aa)if(a.mg[1]&&4==sh(a)&&2==th(a))gh(a.la,lh(a,"Local request error detected and ignored"));else if(a.zf&&4==sh(a))Fg(a.zj,0,a);else if(a.dispatchEvent("readystatechange"),4==sh(a)){gh(a.la,lh(a,"Request complete"));a.Qb=!1;try{var b=th(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}if(!(c=d)){var e;if(e=0===b){var f=Ke(String(a.Gf))[1]||null;if(!f&&self.location)var g=self.location.protocol,
f=g.substr(0,g.length-1);e=!jh.test(f?f.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var h;try{h=2<sh(a)?a.v.statusText:""}catch(m){gh(a.la,"Can not get status: "+m.message),h=""}a.he=h+" ["+th(a)+"]";ph(a)}}finally{qh(a)}}}function qh(a,b){if(a.v){nh(a);var c=a.v,d=a.mg[0]?da:null;a.v=null;a.mg=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=a.la)&&c.log(Xg,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}
function nh(a){a.v&&a.kg&&(a.v.ontimeout=null);ja(a.oc)&&(l.clearTimeout(a.oc),a.oc=null)}k.hh=function(){return!!this.v};function sh(a){return a.v?a.v.readyState:0}function th(a){try{return 2<sh(a)?a.v.status:-1}catch(b){return-1}}function uh(a){if(a.v)return Gg(a.v.responseText)}function lh(a,b){return b+" ["+a.hj+" "+a.Gf+" "+th(a)+"]"};var vh;
(function(){var a={zi:{}};(function(){function b(a,c){if(!(this instanceof b))return new b(a,c);this.og=Math.max(4,a||9);this.Wh=Math.max(2,Math.ceil(.4*this.og));c&&this.Ck(c);this.clear()}function c(a,b){a.bbox=d(a,0,a.children.length,b)}function d(a,b,c,d){for(var f=[Infinity,Infinity,-Infinity,-Infinity],g;b<c;b++)g=a.children[b],e(f,a.qa?d(g):g.bbox);return f}function e(a,b){a[0]=Math.min(a[0],b[0]);a[1]=Math.min(a[1],b[1]);a[2]=Math.max(a[2],b[2]);a[3]=Math.max(a[3],b[3])}function f(a,b){return a.bbox[0]-
b.bbox[0]}function g(a,b){return a.bbox[1]-b.bbox[1]}function h(a){return(a[2]-a[0])*(a[3]-a[1])}function m(a){return a[2]-a[0]+(a[3]-a[1])}function n(a,b){return a[0]<=b[0]&&a[1]<=b[1]&&b[2]<=a[2]&&b[3]<=a[3]}function p(a,b){return b[0]<=a[2]&&b[1]<=a[3]&&b[2]>=a[0]&&b[3]>=a[1]}function r(a,b,c,d,e){for(var f=[b,c],g;f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,q(a,b,c,g,e),f.push(b,g,g,c))}function q(a,b,c,d,e){for(var f,g,h,m,n;c>b;){600<c-b&&(f=c-b+1,g=d-b+1,h=Math.log(f),
m=.5*Math.exp(2*h/3),n=.5*Math.sqrt(h*m*(f-m)/f)*(0>g-f/2?-1:1),h=Math.max(b,Math.floor(d-g*m/f+n)),g=Math.min(c,Math.floor(d+(f-g)*m/f+n)),q(a,h,g,d,e));f=a[d];g=b;m=c;u(a,b,d);for(0<e(a[c],f)&&u(a,b,c);g<m;){u(a,g,m);g++;for(m--;0>e(a[g],f);)g++;for(;0<e(a[m],f);)m--}0===e(a[b],f)?u(a,b,m):(m++,u(a,m,c));m<=d&&(b=m+1);d<=m&&(c=m-1)}}function u(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}b.prototype={all:function(){return this.Sh(this.data,[])},search:function(a){var b=this.data,c=[],d=this.Ga;if(!p(a,b.bbox))return c;
for(var e=[],f,g,h,m;b;){f=0;for(g=b.children.length;f<g;f++)h=b.children[f],m=b.qa?d(h):h.bbox,p(a,m)&&(b.qa?c.push(h):n(a,m)?this.Sh(h,c):e.push(h));b=e.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.Wh){for(var b=0,c=a.length;b<c;b++)this.fe(a[b]);return this}a=this.Uh(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.Xh(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.Vh(a,this.data.height-a.height-1,
!0)):this.data=a;return this},fe:function(a){a&&this.Vh(a,this.data.height-1);return this},clear:function(){this.data={children:[],height:1,bbox:[Infinity,Infinity,-Infinity,-Infinity],qa:!0};return this},remove:function(a){if(!a)return this;for(var b=this.data,c=this.Ga(a),d=[],e=[],f,g,h,m;b||d.length;){b||(b=d.pop(),g=d[d.length-1],f=e.pop(),m=!0);if(b.qa&&(h=b.children.indexOf(a),-1!==h)){b.children.splice(h,1);d.push(b);this.Bk(d);break}m||b.qa||!n(b.bbox,c)?g?(f++,b=g.children[f],m=!1):b=null:
(d.push(b),e.push(f),f=0,g=b,b=b.children[0])}return this},Ga:function(a){return a},Ag:function(a,b){return a[0]-b[0]},Bg:function(a,b){return a[1]-b[1]},Sh:function(a,b){for(var c=[];a;)a.qa?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},Uh:function(a,b,d,e){var f=d-b+1,g=this.og,h;if(f<=g)return h={children:a.slice(b,d+1),height:1,bbox:null,qa:!0},c(h,this.Ga),h;e||(e=Math.ceil(Math.log(f)/Math.log(g)),g=Math.ceil(f/Math.pow(g,e-1)));h={children:[],height:e,bbox:null};
var f=Math.ceil(f/g),g=f*Math.ceil(Math.sqrt(g)),m,n,p;for(r(a,b,d,g,this.Ag);b<=d;b+=g)for(n=Math.min(b+g-1,d),r(a,b,n,f,this.Bg),m=b;m<=n;m+=f)p=Math.min(m+f-1,n),h.children.push(this.Uh(a,m,p,e-1));c(h,this.Ga);return h},Ak:function(a,b,c,d){for(var e,f,g,m,n,p,q,r;;){d.push(b);if(b.qa||d.length-1===c)break;q=r=Infinity;e=0;for(f=b.children.length;e<f;e++){g=b.children[e];n=h(g.bbox);p=a;var u=g.bbox;p=(Math.max(u[2],p[2])-Math.min(u[0],p[0]))*(Math.max(u[3],p[3])-Math.min(u[1],p[1]))-n;p<r?(r=
p,q=n<q?n:q,m=g):p===r&&n<q&&(q=n,m=g)}b=m}return b},Vh:function(a,b,c){var d=this.Ga;c=c?a.bbox:d(a);var d=[],f=this.Ak(c,this.data,b,d);f.children.push(a);for(e(f.bbox,c);0<=b;)if(d[b].children.length>this.og)this.Dk(d,b),b--;else break;this.xk(c,d,b)},Dk:function(a,b){var d=a[b],e=d.children.length,f=this.Wh;this.yk(d,f,e);e={children:d.children.splice(this.zk(d,f,e)),height:d.height};d.qa&&(e.qa=!0);c(d,this.Ga);c(e,this.Ga);b?a[b-1].children.push(e):this.Xh(d,e)},Xh:function(a,b){this.data={children:[a,
b],height:a.height+1};c(this.data,this.Ga)},zk:function(a,b,c){var e,f,g,m,n,p,q;n=p=Infinity;for(e=b;e<=c-b;e++){f=d(a,0,e,this.Ga);g=d(a,e,c,this.Ga);var r=f,u=g;m=Math.max(r[0],u[0]);var T=Math.max(r[1],u[1]),P=Math.min(r[2],u[2]),r=Math.min(r[3],u[3]);m=Math.max(0,P-m)*Math.max(0,r-T);f=h(f)+h(g);m<n?(n=m,q=e,p=f<p?f:p):m===n&&f<p&&(p=f,q=e)}return q},yk:function(a,b,c){var d=a.qa?this.Ag:f,e=a.qa?this.Bg:g,h=this.Th(a,b,c,d);b=this.Th(a,b,c,e);h<b&&a.children.sort(d)},Th:function(a,b,c,f){a.children.sort(f);
f=this.Ga;var g=d(a,0,b,f),h=d(a,c-b,c,f),n=m(g)+m(h),p,q;for(p=b;p<c-b;p++)q=a.children[p],e(g,a.qa?f(q):q.bbox),n+=m(g);for(p=c-b-1;p>=b;p--)q=a.children[p],e(h,a.qa?f(q):q.bbox),n+=m(h);return n},xk:function(a,b,c){for(;0<=c;c--)e(b[c].bbox,a)},Bk:function(a){for(var b=a.length-1,d;0<=b;b--)0===a[b].children.length?0<b?(d=a[b-1].children,d.splice(d.indexOf(a[b]),1)):this.clear():c(a[b],this.Ga)},Ck:function(a){var b=["return a"," - b",";"];this.Ag=new Function("a","b",b.join(a[0]));this.Bg=new Function("a",
"b",b.join(a[1]));this.Ga=new Function("a","return [a"+a.join(", a")+"];")}};"function"===typeof define&&define.Bn?define(function(){return b}):"undefined"!==typeof a?a.zi=b:"undefined"!==typeof self?self.om=b:window.om=b})();vh=a.zi})();function wh(a){this.Kc=vh(a);this.nd={};this.Lc=0}k=wh.prototype;k.fe=function(a,b){if(this.Lc)throw Error("Can not insert value while reading");var c=[a[0],a[1],a[2],a[3],b];this.Kc.fe(c);wb(this.nd,E(b).toString(),c)};k.load=function(a,b){if(this.Lc)throw Error("Can not insert values while reading");for(var c=[],d=0,e=b.length;d<e;d++){var f=a[d],g=b[d],f=[f[0],f[1],f[2],f[3],g];c.push(f);wb(this.nd,E(g).toString(),f)}this.Kc.load(c)};
k.remove=function(a){if(this.Lc)throw Error("Can not remove value while reading");a=E(a).toString();var b=N(this.nd,a);vb(this.nd,a);return null!==this.Kc.remove(b)};k.update=function(a,b){this.remove(b);this.fe(a,b)};function xh(a){a=a.Kc.all();return Wa(a,function(a){return a[4]})}function yh(a,b){var c=a.Kc.search(b);return Wa(c,function(a){return a[4]})}k.forEach=function(a,b){++this.Lc;try{return zh(xh(this),a,b)}finally{--this.Lc}};
function zh(a,b,c){for(var d,e=0,f=a.length;e<f&&!(d=b.call(c,a[e]));e++);return d}k.ha=function(){return tb(this.nd)};k.clear=function(){this.Kc.clear();ub(this.nd)};k.n=function(){return this.Kc.data.bbox};function Ah(a){a=t(a)?a:{};Tf.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,state:t(a.state)?a.state:void 0});this.qb=new wh;this.mb={};this.ac={};this.Ad={};this.Ng={};t(a.features)&&Bh(this,a.features)}K(Ah,Tf);function Ch(a,b){Bh(a,b);a.j()}
function Bh(a,b){var c,d,e,f,g=[],h=[];d=0;for(e=b.length;d<e;d++){f=b[d];c=E(f).toString();var m=a,n=f;m.Ng[c]=[U(n,"change",m.Ri,!1,m),U(n,"propertychange",m.Ri,!1,m)];m=f.jb();null!=m?(c=m.n(),g.push(c),h.push(f)):a.mb[c]=f}a.qb.load(g,h);d=0;for(e=b.length;d<e;d++)f=b[d],c=E(f).toString(),g=a,h=f,m=h.ka,t(m)?g.ac[m.toString()]=h:g.Ad[c]=h,a.dispatchEvent(new Dh("addfeature",f))}k=Ah.prototype;
k.clear=function(){this.qb.forEach(this.Jj,this);this.qb.clear();ob(this.mb,this.Jj,this);ub(this.mb);this.j()};function Eh(a,b,c,d){a=a.qb;++a.Lc;try{zh(yh(a,b),c,d)}finally{--a.Lc}}function Fh(a){var b=xh(a.qb);tb(a.mb)||bb(b,rb(a.mb));return b}k.n=function(){return this.qb.n()};
k.Ri=function(a){a=a.target;var b=E(a).toString(),c=a.jb();null!=c?(c=c.n(),b in this.mb?(delete this.mb[b],this.qb.fe(c,a)):this.qb.update(c,a)):b in this.mb||(this.qb.remove(a),this.mb[b]=a);c=a.ka;t(c)?(c=c.toString(),b in this.Ad?(delete this.Ad[b],this.ac[c]=a):this.ac[c]!==a&&(Gh(this,a),this.ac[c]=a)):b in this.Ad||(Gh(this,a),this.Ad[b]=a);this.j();this.dispatchEvent(new Dh("changefeature",a))};k.ha=function(){return this.qb.ha()&&tb(this.mb)};k.nj=da;
k.Jj=function(a){var b=E(a).toString();M(this.Ng[b],V);delete this.Ng[b];var c=a.ka;t(c)?delete this.ac[c.toString()]:delete this.Ad[b];this.dispatchEvent(new Dh("removefeature",a))};function Gh(a,b){for(var c in a.ac)if(a.ac[c]===b){delete a.ac[c];break}}function Dh(a,b){S.call(this,a);this.feature=b}K(Dh,S);function Hh(a){console.log(a);return Wa(a,function(a){var c=new Ih,d=new Jh([a.x,a.y]);c.ve(d);c.Lb(a.properties);return c})}function Kh(a){return new ve(function(b,c){var d=new hh;U(d,"complete",function(a){a=uh(a.target);null!=a.markers?(a=Hh(a.markers),window.console.log(a),b(a)):c()});d.send(a)})}
function Lh(a){var b=a.path,c=a.styleId,d=new Ah({projection:Wd(a.projection)});a=new Eg({source:d});Kh(b).then(function(a){M(a,function(a){null!=c&&ja(c)&&!a.get("styleId_")&&a.set("styleId_",c)});Ch(d,a)});return a};function Mh(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var m=Array(h);m[0]=1;m[h-1]=1;c=[b,c-d];for(var n=0,p;0<c.length;){var r=c.pop(),q=c.pop(),u=0,v=a[q],x=a[q+1],y=a[r],w=a[r+1];for(p=q+d;p<r;p+=d){var s,A=a[p];s=a[p+1];var z=v,D=x,C=y-z,G=w-D;if(0!==C||0!==G){var L=((A-z)*C+(s-D)*G)/(C*C+G*G);1<L?(z=y,D=w):0<L&&(z+=C*L,D+=G*L)}A=z-A;s=D-s;s=A*A+s*s;s>u&&(n=p,u=s)}u>e&&(m[(n-b)/d]=1,q+d<n&&c.push(q,n),n+d<r&&c.push(n,r))}for(p=0;p<h;++p)m[p]&&(f[g++]=
a[b+p*d],f[g++]=a[b+p*d+1]);return g}
function Nh(a,b,c,d,e,f,g,h){var m,n;m=0;for(n=c.length;m<n;++m){var p=c[m];a:{var r=a,q=p,u=d,v=e,x=f;if(b!=q){var y=v*Math.round(r[b]/v),w=v*Math.round(r[b+1]/v);b+=u;x[g++]=y;x[g++]=w;var s=void 0,A=void 0;do if(s=v*Math.round(r[b]/v),A=v*Math.round(r[b+1]/v),b+=u,b==q){x[g++]=s;x[g++]=A;break a}while(s==y&&A==w);for(;b<q;){var z,D;z=v*Math.round(r[b]/v);D=v*Math.round(r[b+1]/v);b+=u;if(z!=s||D!=A){var C=s-y,G=A-w,L=z-y,H=D-w;C*H==G*L&&(0>C&&L<C||C==L||0<C&&L>C)&&(0>G&&H<G||G==H||0<G&&H>G)||(x[g++]=
s,x[g++]=A,y=s,w=A);s=z;A=D}}x[g++]=s;x[g++]=A}}h.push(g);b=p}return g};function Oh(a,b,c,d){var e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],h;for(h=0;h<d;++h)a[b++]=g[h]}return b}function Ph(a,b,c,d,e){e=t(e)?e:[];var f=0,g,h;g=0;for(h=c.length;g<h;++g)b=Oh(a,b,c[g],d),e[f++]=b;e.length=f;return e};function Qh(a,b,c,d,e){e=t(e)?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);e.length=f;return e}function Rh(a,b,c,d,e){e=t(e)?e:[];var f=0,g,h;g=0;for(h=c.length;g<h;++g){var m=c[g];e[f++]=Qh(a,b,m,d,e[f]);b=m}e.length=f;return e};function Sh(a,b,c,d,e,f){var g=e[0],h=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var r=t(f)?f:[],q=0;b<c;b+=d){var u=a[b],v=a[b+1];r[q++]=g*u+m*v+p;r[q++]=h*u+n*v+e}t(f)&&r.length!=q&&(r.length=q);return r};function Th(){ae.call(this);this.Cb="XY";this.e=2;this.c=null}K(Th,ae);function Uh(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4;Sa("unsupported layout: "+a)}k=Th.prototype;k.Ub=Ac;k.n=function(a){if(this.Zc!=this.I){var b=this.c,c=this.c.length,d=this.e,e=vd(Infinity,Infinity,-Infinity,-Infinity,this.extent);this.extent=Ad(e,b,0,c,d);this.Zc=this.I}return Jd(this.extent,a)};
k.Vg=function(a){this.bg!=this.I&&(ub(this.jc),this.kc=0,this.bg=this.I);if(0>a||0!==this.kc&&a<=this.kc)return this;var b=a.toString();if(this.jc.hasOwnProperty(b))return this.jc[b];var c=this.$d(a);if(c.c.length<this.c.length)return this.jc[b]=c;this.kc=a;return this};k.$d=function(){return this};function Vh(a,b,c){a.e=Uh(b);a.Cb=b;a.c=c}
function Wh(a,b,c,d){if(t(b))c=Uh(b);else{for(b=0;b<d;++b){if(0===c.length){a.Cb="XY";a.e=2;return}c=c[0]}c=c.length;2==c?b="XY":3==c?b="XYZ":4==c?b="XYZM":(Sa("unsupported stride: "+c),b=void 0)}a.Cb=b;a.e=c}k.sg=function(a){null!==this.c&&(a(this.c,this.c,this.e),this.j())};function Xh(a,b,c,d,e,f){for(var g=!1,h=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-h)*(f-m)/(p-m)+h&&(g=!g);h=n;m=p}return g}function Yh(a,b,c,d,e,f){if(0===c.length||!Xh(a,b,c[0],d,e,f))return!1;var g;b=1;for(g=c.length;b<g;++b)if(Xh(a,c[b-1],c[b],d,e,f))return!1;return!0};function Zh(a,b,c,d,e){var f=NaN,g=NaN,h=(c-b)/d;if(0===h)Sa();else if(1==h)f=a[b],g=a[b+1];else if(2==h)f=.5*a[b]+.5*a[b+d],g=.5*a[b+1]+.5*a[b+d+1];else{var g=a[b],h=a[b+1],m=0,f=[0],n;for(n=b+d;n<c;n+=d){var p=a[n],r=a[n+1],m=m+Math.sqrt((p-g)*(p-g)+(r-h)*(r-h));f.push(m);g=p;h=r}c=.5*m;for(var g=0,h=f.length,q;g<h;)m=g+h>>1,n=gb(c,f[m]),0<n?g=m+1:(h=m,q=!n);g=q?g:~g;0>g?(q=(c-f[-g-2])/(f[-g-1]-f[-g-2]),b+=(-g-2)*d,f=a[b],f+=q*(a[b+d]-f),c=a[b+1],g=c+q*(a[b+d+1]-c)):(f=a[b+g*d],g=a[b+g*d+1])}return null!=
e?(e[0]=f,e[1]=g,e):[f,g]};function $h(a,b){Th.call(this);this.Pg=null;this.Ei=-1;this.$a(a,b)}K($h,Th);k=$h.prototype;k.clone=function(){var a=new $h(null);a.W(this.Cb,this.c.slice());return a};k.ad=function(){return Qh(this.c,0,this.c.length,this.e)};k.Tg=function(){var a=this.c,b=this.e,c=a[0],d=a[1],e=0,f;for(f=0+b;f<this.c.length;f+=b)var g=a[f],h=a[f+1],e=e+Math.sqrt((g-c)*(g-c)+(h-d)*(h-d)),c=g,d=h;return e};function ai(a){a.Ei!=a.I&&(a.Pg=Zh(a.c,0,a.c.length,a.e,a.Pg),a.Ei=a.I);return a.Pg}
k.$d=function(a){var b=[];b.length=Mh(this.c,0,this.c.length,this.e,a,b,0);a=new $h(null);a.W("XY",b);return a};k.ga=function(){return"LineString"};k.$a=function(a,b){null===a?this.W("XY",null):(Wh(this,b,a,1),null===this.c&&(this.c=[]),this.c.length=Oh(this.c,0,a,this.e),this.j())};k.W=function(a,b){Vh(this,a,b);this.j()};function bi(a,b){Th.call(this);this.R=[];this.$a(a,b)}K(bi,Th);k=bi.prototype;k.clone=function(){var a=new bi(null);a.W(this.Cb,this.c.slice(),this.R.slice());return a};k.ad=function(){return Rh(this.c,0,this.R,this.e)};function ci(a){var b=[],c=a.c,d=0,e=a.R;a=a.e;var f,g;f=0;for(g=e.length;f<g;++f){for(var h=e[f],m=Zh(c,d,h,a),d=b,n=void 0,p=void 0,n=0,p=m.length;n<p;++n)d.push(m[n]);d=h}return b}
k.$d=function(a){var b=[],c=[],d=this.c,e=this.R,f=this.e,g=0,h=0,m,n;m=0;for(n=e.length;m<n;++m){var p=e[m],h=Mh(d,g,p,f,a,b,h);c.push(h);g=p}b.length=h;a=new bi(null);a.W("XY",b,c);return a};k.ga=function(){return"MultiLineString"};k.$a=function(a,b){if(null===a)this.W("XY",null,this.R);else{Wh(this,b,a,2);null===this.c&&(this.c=[]);var c=Ph(this.c,0,a,this.e,this.R);this.c.length=0===c.length?0:c[c.length-1];this.j()}};k.W=function(a,b,c){Vh(this,a,b);this.R=c;this.j()};function Ih(a){vf.call(this);this.ka=void 0;this.ib="geometry";this.Oc=null;this.bb=void 0;this.gf=null;U(this,zf(this.ib),this.tf,!1,this);t(a)&&(a instanceof ae||null===a?this.ve(a):this.Lb(a))}K(Ih,vf);Ih.prototype.clone=function(){var a={},b;for(b in this.Pb)a[b]=this.Pb[b];for(b in this.Je)a[b]=this.get(b);a=new Ih(a);di(a,this.ib);b=this.jb();null!=b&&a.ve(b.clone());b=this.Oc;null===b||a.ag(b);return a};Ih.prototype.jb=function(){return this.get(this.ib)};Ih.prototype.getGeometry=Ih.prototype.jb;
Ih.prototype.cl=function(){this.j()};Ih.prototype.tf=function(){null!==this.gf&&(V(this.gf),this.gf=null);var a=this.jb();null!=a&&(this.gf=U(a,"change",this.cl,!1,this),this.j())};Ih.prototype.ve=function(a){this.set(this.ib,a)};Ih.prototype.setGeometry=Ih.prototype.ve;Ih.prototype.ag=function(a){this.Oc=a;null===a?a=void 0:ka(a)||(a=ga(a)?a:[a],a=zc(a));this.bb=a;this.j()};function di(a,b){md(a,zf(a.ib),a.tf,!1,a);a.ib=b;U(a,zf(a.ib),a.tf,!1,a);a.tf()};function ei(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],m=a[b+1],e=e+(h-f)*(m+g),f=h,g=m;return 0<e}function fi(a,b,c){var d=0,e,f;e=0;for(f=b.length;e<f;++e){var g=b[e],d=ei(a,d,g,c);if(0===e?!d:d)return!1;d=g}return!0}function gi(a,b,c,d){var e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],h=ei(a,b,g,d);if(0===e?!h:h)for(var h=a,m=g,n=d;b<m-n;){var p;for(p=0;p<n;++p){var r=h[b+p];h[b+p]=h[m-n+p];h[m-n+p]=r}b+=n;m-=n}b=g}return b};function Jh(a,b){Th.call(this);this.$a(a,b)}K(Jh,Th);k=Jh.prototype;k.clone=function(){var a=new Jh(null);a.W(this.Cb,this.c.slice());return a};k.ad=function(){return null===this.c?[]:this.c.slice()};k.n=function(a){if(this.Zc!=this.I){var b=this.c,c=b[0],b=b[1];this.extent=vd(c,b,c,b,this.extent);this.Zc=this.I}return Jd(this.extent,a)};k.ga=function(){return"Point"};
k.$a=function(a,b){if(null===a)this.W("XY",null);else{Wh(this,b,a,0);null===this.c&&(this.c=[]);var c=this.c,d=this.c,e=0,f,g;f=0;for(g=a.length;f<g;++f)d[e++]=a[f];c.length=e;this.j()}};k.W=function(a,b){Vh(this,a,b);this.j()};function hi(a,b,c,d,e,f,g){var h,m,n,p,r,q=e[f+1],u=[],v=c[0];n=a[v-d];r=a[v-d+1];for(h=b;h<v;h+=d){p=a[h];m=a[h+1];if(q<=r&&m<=q||r<=q&&q<=m)n=(q-r)/(m-r)*(p-n)+n,u.push(n);n=p;r=m}v=NaN;r=-Infinity;u.sort();n=u[0];h=1;for(m=u.length;h<m;++h){p=u[h];var x=Math.abs(p-n);x>r&&(n=(n+p)/2,Yh(a,b,c,d,n,q)&&(v=n,r=x));n=p}isNaN(v)&&(v=e[f]);return t(g)?(g.push(v,q),g):[v,q]};function ii(a,b){Th.call(this);this.R=[];this.Ai=-1;this.Bi=null;this.ne=-1;this.Xa=null;this.$a(a,b)}K(ii,Th);k=ii.prototype;k.clone=function(){var a=new ii(null);a.W(this.Cb,this.c.slice(),this.R.slice());return a};k.Ub=function(a,b){return Yh(this.xb(),0,this.R,this.e,a,b)};k.ad=function(){return Rh(this.c,0,this.R,this.e)};function ji(a){if(a.Ai!=a.I){var b=Bd(a.n());a.Bi=hi(a.xb(),0,a.R,a.e,b,0);a.Ai=a.I}return a.Bi}
k.xb=function(){if(this.ne!=this.I){var a=this.c;fi(a,this.R,this.e)?this.Xa=a:(this.Xa=a.slice(),this.Xa.length=gi(this.Xa,0,this.R,this.e));this.ne=this.I}return this.Xa};k.$d=function(a){var b=[],c=[];b.length=Nh(this.c,0,this.R,this.e,Math.sqrt(a),b,0,c);a=new ii(null);a.W("XY",b,c);return a};k.ga=function(){return"Polygon"};
k.$a=function(a,b){if(null===a)this.W("XY",null,this.R);else{Wh(this,b,a,2);null===this.c&&(this.c=[]);var c=Ph(this.c,0,a,this.e,this.R);this.c.length=0===c.length?0:c[c.length-1];this.j()}};k.W=function(a,b,c){Vh(this,a,b);this.R=c;this.j()};function ki(a,b){Th.call(this);this.$a(a,b)}K(ki,Th);k=ki.prototype;k.clone=function(){var a=new ki(null);a.W(this.Cb,this.c.slice());return a};k.ad=function(){return Qh(this.c,0,this.c.length,this.e)};k.ga=function(){return"MultiPoint"};k.$a=function(a,b){null===a?this.W("XY",null):(Wh(this,b,a,1),null===this.c&&(this.c=[]),this.c.length=Oh(this.c,0,a,this.e),this.j())};k.W=function(a,b){Vh(this,a,b);this.j()};function li(a,b){Th.call(this);this.ya=[];this.Ci=-1;this.Di=null;this.ne=-1;this.Xa=null;this.$a(a,b)}K(li,Th);k=li.prototype;k.clone=function(){var a=new li(null);a.W(this.Cb,this.c.slice(),this.ya.slice());return a};k.Ub=function(a,b){var c;a:{c=this.xb();var d=this.ya,e=0;if(0!==d.length){var f,g;f=0;for(g=d.length;f<g;++f){var h=d[f];if(Yh(c,e,h,this.e,a,b)){c=!0;break a}e=h[h.length-1]}}c=!1}return c};
k.ad=function(){var a=this.c,b=this.ya,c=this.e,d=0,e=t(void 0)?void 0:[],f=0,g,h;g=0;for(h=b.length;g<h;++g){var m=b[g];e[f++]=Rh(a,d,m,c,e[f]);d=m[m.length-1]}e.length=f;return e};
function mi(a){if(a.Ci!=a.I){var b=a.c,c=a.ya,d=a.e,e=0,f=[],g,h,m=yd();g=0;for(h=c.length;g<h;++g){var n=c[g],m=Ad(vd(Infinity,Infinity,-Infinity,-Infinity,void 0),b,e,n[0],d);f.push((m[0]+m[2])/2,(m[1]+m[3])/2);e=n[n.length-1]}b=a.xb();c=a.ya;d=a.e;e=0;g=[];h=0;for(m=c.length;h<m;++h)n=c[h],g=hi(b,e,n,d,f,2*h,g),e=n[n.length-1];a.Di=g;a.Ci=a.I}return a.Di}
k.xb=function(){if(this.ne!=this.I){var a=this.c,b;a:{b=this.ya;var c,d;c=0;for(d=b.length;c<d;++c)if(!fi(a,b[c],this.e)){b=!1;break a}b=!0}if(b)this.Xa=a;else{b=a=this.Xa=a.slice();c=this.ya;d=this.e;var e=0,f,g;f=0;for(g=c.length;f<g;++f)e=gi(b,e,c[f],d);a.length=e}this.ne=this.I}return this.Xa};
k.$d=function(a){var b=[],c=[],d=this.c,e=this.ya,f=this.e;a=Math.sqrt(a);var g=0,h=0,m,n;m=0;for(n=e.length;m<n;++m){var p=e[m],r=[],h=Nh(d,g,p,f,a,b,h,r);c.push(r);g=p[p.length-1]}b.length=h;d=new li(null);d.W("XY",b,c);return d};k.ga=function(){return"MultiPolygon"};
k.$a=function(a,b){if(null===a)this.W("XY",null,this.ya);else{Wh(this,b,a,3);null===this.c&&(this.c=[]);var c=this.c,d=this.e,e=this.ya,f=0,e=t(e)?e:[],g=0,h,m;h=0;for(m=a.length;h<m;++h)f=Ph(c,f,a[h],d,e[g]),e[g++]=f,f=f[f.length-1];e.length=g;0===e.length?this.c.length=0:(c=e[e.length-1],this.c.length=0===c.length?0:c[c.length-1]);this.j()}};k.W=function(a,b,c){Vh(this,a,b);this.ya=c;this.j()};function ni(a){ae.call(this);this.ea=t(a)?a:null;oi(this)}K(ni,ae);function pi(a){var b,c;if(null!==a.ea)for(b=0,c=a.ea.length;b<c;++b)md(a.ea[b],"change",a.j,!1,a)}function oi(a){var b,c;if(null!==a.ea)for(b=0,c=a.ea.length;b<c;++b)U(a.ea[b],"change",a.j,!1,a)}k=ni.prototype;k.clone=function(){var a=new ni(null),b=this.ea,c=[],d,e;d=0;for(e=b.length;d<e;++d)c.push(b[d].clone());pi(a);a.ea=c;oi(a);a.j();return a};
k.Ub=function(a,b){var c=this.ea,d,e;d=0;for(e=c.length;d<e;++d)if(c[d].Ub(a,b))return!0;return!1};k.n=function(a){if(this.Zc!=this.I){var b=vd(Infinity,Infinity,-Infinity,-Infinity,this.extent),c=this.ea,d,e;d=0;for(e=c.length;d<e;++d)zd(b,c[d].n());this.extent=b;this.Zc=this.I}return Jd(this.extent,a)};
k.Vg=function(a){this.bg!=this.I&&(ub(this.jc),this.kc=0,this.bg=this.I);if(0>a||0!==this.kc&&a<this.kc)return this;var b=a.toString();if(this.jc.hasOwnProperty(b))return this.jc[b];var c=[],d=this.ea,e=!1,f,g;f=0;for(g=d.length;f<g;++f){var h=d[f],m=h.Vg(a);c.push(m);m!==h&&(e=!0)}if(e)return a=new ni(null),pi(a),a.ea=c,oi(a),a.j(),this.jc[b]=a;this.kc=a;return this};k.ga=function(){return"GeometryCollection"};k.ha=function(){return 0==this.ea.length};
k.sg=function(a){var b=this.ea,c,d;c=0;for(d=b.length;c<d;++c)b[c].sg(a);this.j()};k.l=function(){pi(this);ni.N.l.call(this)};function qi(){this.defaultDataProjection=null};function ri(){this.defaultDataProjection=null}K(ri,qi);ri.prototype.ga=function(){return"json"};function si(a){a=t(a)?a:{};this.defaultDataProjection=null;this.defaultDataProjection=Wd(null!=a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326");this.ib=a.geometryName}K(si,ri);
function ti(a,b){var c;if(null===a)c=null;else{c=(0,ui[a.type])(a);var d=t(b)?Wd(b.featureProjection):null,e=t(b)?Wd(b.dataProjection):null,f;(f=null===d||null===e)||(f=d===e?!0:d.ig!=e.ig?!1:Zd(d,e)===Td);f||(c instanceof ae?c=c.transform(e,d):(d=Yd(e,d),c=[c[0],c[1],c[0],c[3],c[2],c[1],c[2],c[3]],d(c,c,2),c=ud([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])))}return c}
var ui={Point:function(a){return new Jh(a.coordinates)},LineString:function(a){return new $h(a.coordinates)},Polygon:function(a){return new ii(a.coordinates)},MultiPoint:function(a){return new ki(a.coordinates)},MultiLineString:function(a){return new bi(a.coordinates)},MultiPolygon:function(a){return new li(a.coordinates)},GeometryCollection:function(a,b){var c=Wa(a.geometries,function(a){return ti(a,b)});return new ni(c)}};
function vi(a,b){var c=ti(b.geometry,void 0),d=new Ih;t(a.ib)&&di(d,a.ib);d.ve(c);t(b.id)&&(d.ka=b.id,d.j());t(b.properties)&&d.Lb(b.properties);return d};function wi(a){return new ve(function(b){var c=new hh;U(c,"complete",function(a){var c=uh(a.target);a=new si;if("Feature"==c.type)a=[vi(a,c)];else if("FeatureCollection"==c.type){var f=[],c=c.features,g,h;g=0;for(h=c.length;g<h;++g)f.push(vi(a,c[g]));a=f}else Sa(),a=[];b(a)});c.send(a)})}
function xi(a){var b=a.path,c=a.styleId,d=new Ah({projection:Wd(a.projection)});a=new Eg({source:d});wi(b).then(function(a){M(a,function(a){null!=c&&ja(c)&&!a.get("styleId_")&&a.set("styleId_",c)});Ch(d,a)});return a};function yi(a){a=t(a)?a:{};var b=t(a.params)?a.params:{};gg.call(this,{attributions:a.attributions,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!N(b,"TRANSPARENT",!0),projection:a.projection,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,tileUrlFunction:F(this.Sm,this)});var c=a.urls;!t(c)&&t(a.url)&&(c=Rf(a.url));this.jg=null!=c?c:[];this.Pi=t(a.gutter)?a.gutter:0;this.oe=b;this.Rh=!0;this.Dh=a.serverType;this.Ui=t(a.hidpi)?a.hidpi:!0;this.qi="";zi(this);this.Tm=yd();this.Rh=0<=La(N(this.oe,
"VERSION","1.3.0"),"1.3")}K(yi,gg);k=yi.prototype;k.jf=function(){return this.Pi};k.Wd=function(a,b,c){return this.qi+yi.N.Wd.call(this,a,b,c)};k.ae=function(a,b,c){a=yi.N.ae.call(this,a,b,c);return 1!=b&&this.Ui&&t(this.Dh)?a*b+.5|0:a};function zi(a){var b=0,c=[],d,e;d=0;for(e=a.jg.length;d<e;++d)c[b++]=a.jg[d];for(var f in a.oe)c[b++]=f+"-"+a.oe[f];a.qi=c.join("#")}k.ak=function(a){a=t(a)?Rf(a):null;this.Ih(a)};k.Ih=function(a){this.jg=null!=a?a:[];zi(this);this.j()};
k.Sm=function(a,b,c){var d=this.tileGrid;null===d&&(d=fg(this,c));if(!(d.of().length<=a[0])){1==b||this.Ui&&t(this.Dh)||(b=1);var e=d.G(a[0]),f=Wf(d,a,this.Tm),d=ag(d,a[0]),g=this.Pi;0!==g&&(d+=2*g,f=wd(f,e*g,f));1!=b&&(d=d*b+.5|0);e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};zb(e,this.oe);var h;g=b;b=this.jg;if(0==b.length)h=void 0;else{e.WIDTH=d;e.HEIGHT=d;e[this.Rh?"CRS":"SRS"]=c.Wc;"STYLES"in this.oe||(e.STYLES=new String(""));if(1!=g)switch(this.Dh){case "geoserver":e.FORMAT_OPTIONS=
"dpi:"+(90*g+.5|0);break;case "mapserver":e.MAP_RESOLUTION=90*g;break;case "carmentaserver":case "qgis":e.DPI=90*g;break;default:Sa()}c=c.Hk;this.Rh&&"ne"==c.substr(0,2)&&(c=f[0],f[0]=f[1],f[1]=c,c=f[2],f[2]=f[3],f[3]=c);e.BBOX=f.join(",");a=[1==b.length?b[0]:b[ib((a[1]<<a[0])+a[2],b.length)]];for(h in e)Me(h,e[h],a);a[1]&&(h=a[0],c=h.indexOf("#"),0<=c&&(a.push(h.substr(c)),a[0]=h=h.substr(0,c)),c=h.indexOf("?"),0>c?a[1]="?":c==h.length-1&&(a[1]=void 0));h=a.join("")}return h}};({});({}).LayerOptions;
function Ai(a){var b=a.specs,c=a.config,d;switch(a.type){case Bi:d=new xg({source:new tg});break;case Ci:d=xi(b);break;case Di:d=Lh(b);break;case Ei:b=new yi({url:b.url,params:{LAYERS:b.layers,TILED:b.tiled,VERSION:b.version||"1.1.1"},extent:b.extent,projection:b.projection});d=new xg({source:b});break;case Fi:d=new xg({source:new sg({projection:b.projection,url:b.url+"/{z}/{x}/{-y}.png"})});break;case Gi:d=new Dg({source:new Cg({projection:b.projection,url:b.url,imageExtent:b.extent,imageSize:b.imageSize})});
break;case Hi:d=b.size,a=new Nd({code:"pixel",units:"pixels",extent:[0,0,d[0],d[1]]}),d=new Dg({source:new Cg({url:b.path,projection:a,imageSize:d,imageExtent:a.n()})})}d.Lb({title:t(c.title)?c.title:"Mapito layer",Dn:t(c.baselayer)?c.baselayer:!1,visible:t(c.visible)?c.visible:!0,alpha:t(c.alpha)?c.alpha:void 0,reload:t(c.reload)?c.reload:void 0,Gn:t(c.tags)?c.tags:void 0});c=d;c.get("alfa")&&window.console.log("setAlfa");c.get("reload")&&window.console.log("setreload");return d}
var Bi="osm",Ci="geojson",Ei="wms",Fi="tiled",Gi="geotif",Di="markers",Hi="localimage";function Ii(a,b){var c=rc("CANVAS");t(a)&&(c.width=a);t(b)&&(c.height=b);return c.getContext("2d")}
var Ji=function(){var a;return function(){if(!t(a))if(l.getComputedStyle){var b=rc("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));vc(b);a=c&&"none"!==c}else a=!1;return a}}(),Ki=function(){var a;return function(){if(!t(a))if(l.getComputedStyle){var b=rc("P"),
c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));vc(b);a=c&&"none"!==c}else a=!1;return a}}();function Li(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.nn=b;c.msTransform=b;c.transform=b;O&&!Ob&&(a.style.transformOrigin="0 0")}
function Mi(a,b){var c;if(Ki()){if(t(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=b[c].toFixed(6);c=d.join(",")}else c=b.join(",");Li(a,"matrix3d("+c+")")}else if(Ji()){d=[b[0],b[1],b[4],b[5],b[12],b[13]];if(t(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");Li(a,"matrix("+c+")")}else a.style.left=Math.round(b[12])+"px",a.style.top=Math.round(b[13])+"px"};var Ni=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Oi(a,b){var c,d,e=Ni.length;for(d=0;d<e;++d)try{if(c=a.getContext(Ni[d],b),null!==c)return c}catch(f){}return null};var Pi=l.devicePixelRatio||1,Qi=!1,Ri=function(){if(!("HTMLCanvasElement"in l))return!1;try{var a=Ii();if(null===a)return!1;t(a.setLineDash)&&(Qi=!0);return!0}catch(b){return!1}}(),Si="ontouchstart"in l,Ti="PointerEvent"in l,Ui=!!l.navigator.msPointerEnabled,Vi=function(){if(!("WebGLRenderingContext"in l))return!1;try{var a=rc("CANVAS");return null!==Oi(a,{Qk:!0})}catch(b){return!1}}();a:if(!document.implementation||!document.implementation.createDocument){if("undefined"!=typeof ActiveXObject){var Wi=new ActiveXObject("MSXML2.DOMDocument");if(Wi){Wi.resolveExternals=!1;Wi.validateOnParse=!1;try{Wi.setProperty("ProhibitDTD",!0),Wi.setProperty("MaxXMLSize",2048),Wi.setProperty("MaxElementDepth",256)}catch(Xi){}}if(Wi)break a}throw Error("Your browser does not support creating new documents");};function Yi(a,b){Nd.call(this,{code:a,units:"degrees",extent:Zi,axisOrientation:b,global:!0,worldExtent:Zi})}K(Yi,Nd);var Zi=[-180,-90,180,90],$i=[new Yi("CRS:84"),new Yi("EPSG:4326","neu"),new Yi("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Yi("urn:ogc:def:crs:OGC:1.3:CRS84"),new Yi("urn:ogc:def:crs:OGC:2:84"),new Yi("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Yi("urn:x-ogc:def:crs:EPSG:4326","neu")];function aj(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}k=aj.prototype;k.Ma=function(){return this.right-this.left};k.kf=function(){return this.bottom-this.top};k.clone=function(){return new aj(this.top,this.right,this.bottom,this.left)};k.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};
k.contains=function(a){return this&&a?a instanceof aj?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};k.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
k.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};k.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};k.scale=function(a,b){var c=ja(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function bj(a,b){var c=hc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function cj(a,b){return bj(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function dj(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}O&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function ej(a){if(O&&!(O&&8<=Mb))return a.offsetParent;var b=hc(a),c=cj(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=cj(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function fj(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=dj(a),b=new ec(b.left,b.top);else{b=xc(fc(a));var c,d=hc(a),e=cj(a,"position"),f=Db&&d.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(a))&&(0>c.screenX||0>c.screenY),g=new ec(0,0),h;c=d?hc(d):document;(h=!O||O&&9<=Mb)||(h=fc(c),h=mc(h.Pd));h=h?c.documentElement:c.body;if(a!=h)if(a.getBoundingClientRect)c=dj(a),d=xc(fc(d)),g.x=c.left+d.x,g.y=c.top+d.y;else if(d.getBoxObjectFor&&!f)c=d.getBoxObjectFor(a),
d=d.getBoxObjectFor(h),g.x=c.screenX-d.screenX,g.y=c.screenY-d.screenY;else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(Q&&"fixed"==cj(f,"position")){g.x+=d.body.scrollLeft;g.y+=d.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(Cb||Q&&"absolute"==e)g.y-=d.body.offsetTop;for(f=a;(f=ej(f))&&f!=d.body&&f!=h;)g.x-=f.scrollLeft,Cb&&"TR"==f.tagName||(g.y-=f.scrollTop)}b=new ec(g.x-b.x,g.y-b.y)}if(Db&&!Kb(12)){b:{g=Pa();if(void 0===a.style[g]&&(g=
(Q?"Webkit":Db?"Moz":O?"ms":Cb?"O":null)+Qa(g),void 0!==a.style[g])){g=(Q?"-webkit":Db?"-moz":O?"-ms":Cb?"-o":null)+"-transform";break b}g="transform"}a=(a=cj(a,g)||cj(a,"transform"))?(a=a.match(gj))?new ec(parseFloat(a[1]),parseFloat(a[2])):new ec(0,0):new ec(0,0);a=new ec(b.x+a.x,b.y+a.y)}else a=b;return a}b=ka(a.Uk);g=a;a.targetTouches&&a.targetTouches.length?g=a.targetTouches[0]:b&&a.B.targetTouches&&a.B.targetTouches.length&&(g=a.B.targetTouches[0]);return new ec(g.clientX,g.clientY)}
function hj(a,b){a.style.display=b?"":"none"}function ij(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}function jj(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?ij(a,c,"left","pixelLeft"):0}var kj={thin:2,medium:4,thick:6};
function lj(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in kj?kj[c]:ij(a,c,"left","pixelLeft")}var gj=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function mj(a,b){W.call(this);var c=this.oa=a;(c=la(c)&&1==c.nodeType?this.oa:this.oa?this.oa.body:null)&&cj(c,"direction");this.lj=U(this.oa,Qc,this,b)}K(mj,W);
mj.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.B;if("mousewheel"==a.type){c=1;if(O||Q&&(Bb||Kb("532.0")))c=40;d=nj(-a.wheelDelta,c);t(a.wheelDeltaX)?(b=nj(-a.wheelDeltaX,c),c=nj(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),t(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ja(this.rj)&&hb(b,-this.rj,this.rj);ja(this.sj)&&(c=hb(c,-this.sj,this.sj));b=new oj(d,a,0,c);this.dispatchEvent(b)};function nj(a,b){return Q&&(Ab||Gb)&&0!=a%b?a:a/b}
mj.prototype.l=function(){mj.N.l.call(this);V(this.lj);this.lj=null};function oj(a,b,c,d){$c.call(this,b);this.type="mousewheel";this.detail=a;this.Kk=d}K(oj,$c);function pj(a,b){this.Fj=a;this.kh=b;this.fb=[];this.vd=[];this.wd={}}pj.prototype.clear=function(){this.fb.length=0;this.vd.length=0;ub(this.wd)};pj.prototype.dequeue=function(){var a=this.fb,b=this.vd,c=a[0];1==a.length?(a.length=0,b.length=0):(a[0]=a.pop(),b[0]=b.pop(),qj(this,0));a=this.kh(c);delete this.wd[a];return c};function rj(a,b){var c=a.Fj(b);Infinity!=c&&(a.fb.push(b),a.vd.push(c),a.wd[a.kh(b)]=!0,sj(a,0,a.fb.length-1))}pj.prototype.wb=function(){return this.fb.length};
pj.prototype.ha=function(){return 0===this.fb.length};function qj(a,b){for(var c=a.fb,d=a.vd,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;sj(a,h,b)}function sj(a,b,c){var d=a.fb;a=a.vd;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function tj(a){var b=a.Fj,c=a.fb,d=a.vd,e=0,f=c.length,g,h,m;for(h=0;h<f;++h)g=c[h],m=b(g),Infinity==m?delete a.wd[a.kh(g)]:(d[e]=m,c[e++]=g);c.length=e;d.length=e;for(b=(a.fb.length>>1)-1;0<=b;b--)qj(a,b)};function uj(a,b,c){S.call(this,a);this.map=b;this.frameState=t(c)?c:null}K(uj,S);function vj(a,b,c){S.call(this,a);this.na=b;a=t(c)?c:{};this.buttons=wj(a);this.pressure=xj(a,this.buttons);this.bubbles=N(a,"bubbles",!1);this.cancelable=N(a,"cancelable",!1);this.view=N(a,"view",null);this.detail=N(a,"detail",null);this.screenX=N(a,"screenX",0);this.screenY=N(a,"screenY",0);this.clientX=N(a,"clientX",0);this.clientY=N(a,"clientY",0);this.ctrlKey=N(a,"ctrlKey",!1);this.altKey=N(a,"altKey",!1);this.shiftKey=N(a,"shiftKey",!1);this.metaKey=N(a,"metaKey",!1);this.button=N(a,"button",
0);this.relatedTarget=N(a,"relatedTarget",null);this.pointerId=N(a,"pointerId",0);this.width=N(a,"width",0);this.height=N(a,"height",0);this.tiltX=N(a,"tiltX",0);this.tiltY=N(a,"tiltY",0);this.pointerType=N(a,"pointerType","");this.hwTimestamp=N(a,"hwTimestamp",0);this.isPrimary=N(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}K(vj,S);
function wj(a){if(a.buttons||yj)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function xj(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var yj=!1;try{yj=1===(new MouseEvent("click",{buttons:1})).buttons}catch(zj){};function Aj(a,b){this.r=a;this.Lf=b};function Bj(a){Aj.call(this,a,{mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout});this.U=a.U;this.ij=[]}K(Bj,Aj);function Cj(a,b){for(var c=a.ij,d=b.clientX,e=b.clientY,f=0,g=c.length,h;f<g&&(h=c[f]);f++){var m=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=m)return!0}return!1}
function Dj(a){var b=Ej(a,a.B),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=Bj.prototype;k.mousedown=function(a){if(!Cj(this,a)){(1).toString()in this.U&&this.cancel(a);var b=Dj(a);this.U[(1).toString()]=a;this.r.fireEvent(Fj,b,a)}};k.mousemove=function(a){if(!Cj(this,a)){var b=Dj(a);this.r.move(b,a)}};
k.mouseup=function(a){if(!Cj(this,a)){var b=N(this.U,(1).toString());b&&b.button===a.button&&(b=Dj(a),this.r.fireEvent(Gj,b,a),vb(this.U,(1).toString()))}};k.mouseover=function(a){if(!Cj(this,a)){var b=Dj(a);Hj(this.r,b,a)}};k.mouseout=function(a){if(!Cj(this,a)){var b=Dj(a);Ij(this.r,b,a)}};k.cancel=function(a){var b=Dj(a);this.r.cancel(b,a);vb(this.U,(1).toString())};function Jj(a,b){Aj.call(this,a,{touchstart:this.Zm,touchmove:this.Ym,touchend:this.Xm,touchcancel:this.Wm});this.U=a.U;this.Ol=b;this.Td=void 0;this.yg=0;this.te=void 0}K(Jj,Aj);k=Jj.prototype;k.Rj=function(){this.yg=0;this.te=void 0};
function Kj(a,b,c){b=Ej(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.yg;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.Td===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Lj(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.B.changedTouches),f=e.length,g,h;for(g=0;g<f;++g)h=Kj(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}
k.Zm=function(a){var b=a.B.touches,c=sb(this.U),d=c.length;if(d>=b.length){var e=[],f,g,h;for(f=0;f<d;++f){g=c[f];h=this.U[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(h.Gc)}for(f=0;f<e.length;++f)this.ug(a,e[f])}b=qb(this.U);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.U;c=b}c&&(this.Td=a.B.changedTouches[0].identifier,t(this.te)&&l.clearTimeout(this.te));Mj(this,a);this.yg++;Lj(this,a,this.bm)};
k.bm=function(a,b){this.U[b.pointerId]={target:b.target,Gc:b,Cj:b.target};var c=this.r;b.bubbles=!0;c.fireEvent(Nj,b,a);c=this.r;b.bubbles=!1;c.fireEvent(Oj,b,a);this.r.fireEvent(Fj,b,a)};k.Ym=function(a){a.preventDefault();Lj(this,a,this.Pl)};
k.Pl=function(a,b){var c=N(this.U,b.pointerId);if(c){var d=c.Gc,e=c.Cj;this.r.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Ij(this.r,d,a),Hj(this.r,b,a)):(b.target=e,b.relatedTarget=null,this.ug(a,b)));c.Gc=b;c.Cj=b.target}};k.Xm=function(a){Mj(this,a);Lj(this,a,this.cn)};
k.cn=function(a,b){this.r.fireEvent(Gj,b,a);this.r.Gc(b,a);var c=this.r;b.bubbles=!1;c.fireEvent(Pj,b,a);vb(this.U,b.pointerId);b.isPrimary&&(this.Td=void 0,this.te=l.setTimeout(F(this.Rj,this),200))};k.Wm=function(a){Lj(this,a,this.ug)};k.ug=function(a,b){this.r.cancel(b,a);this.r.Gc(b,a);var c=this.r;b.bubbles=!1;c.fireEvent(Pj,b,a);vb(this.U,b.pointerId);b.isPrimary&&(this.Td=void 0,this.te=l.setTimeout(F(this.Rj,this),200))};
function Mj(a,b){var c=a.Ol.ij,d=b.B.changedTouches[0];if(a.Td===d.identifier){var e=[d.clientX,d.clientY];c.push(e);l.setTimeout(function(){Za(c,e)},2500)}};function Qj(a){Aj.call(this,a,{MSPointerDown:this.Tl,MSPointerMove:this.Ul,MSPointerUp:this.Xl,MSPointerOut:this.Vl,MSPointerOver:this.Wl,MSPointerCancel:this.Sl,MSGotPointerCapture:this.Ql,MSLostPointerCapture:this.Rl});this.U=a.U;this.vk=["","unavailable","touch","pen","mouse"]}K(Qj,Aj);function Rj(a,b){var c=b;ja(b.B.pointerType)&&(c=Ej(b,b.B),c.pointerType=a.vk[b.B.pointerType]);return c}k=Qj.prototype;k.Tl=function(a){this.U[a.B.pointerId]=a;var b=Rj(this,a);this.r.fireEvent(Fj,b,a)};
k.Ul=function(a){var b=Rj(this,a);this.r.move(b,a)};k.Xl=function(a){var b=Rj(this,a);this.r.fireEvent(Gj,b,a);vb(this.U,a.B.pointerId)};k.Vl=function(a){var b=Rj(this,a);Ij(this.r,b,a)};k.Wl=function(a){var b=Rj(this,a);Hj(this.r,b,a)};k.Sl=function(a){var b=Rj(this,a);this.r.cancel(b,a);vb(this.U,a.B.pointerId)};k.Rl=function(a){this.r.dispatchEvent(new vj("lostpointercapture",a,a.B))};k.Ql=function(a){this.r.dispatchEvent(new vj("gotpointercapture",a,a.B))};function Sj(a){Aj.call(this,a,{pointerdown:this.hm,pointermove:this.im,pointerup:this.lm,pointerout:this.jm,pointerover:this.km,pointercancel:this.gm,gotpointercapture:this.al,lostpointercapture:this.Ll})}K(Sj,Aj);k=Sj.prototype;k.hm=function(a){Tj(this.r,a)};k.im=function(a){Tj(this.r,a)};k.lm=function(a){Tj(this.r,a)};k.jm=function(a){Tj(this.r,a)};k.km=function(a){Tj(this.r,a)};k.gm=function(a){Tj(this.r,a)};k.Ll=function(a){Tj(this.r,a)};k.al=function(a){Tj(this.r,a)};function Uj(a){W.call(this);this.oa=a;this.U={};this.yi={};this.Sd=[];Ti?Vj(this,new Sj(this)):Ui?Vj(this,new Qj(this)):(a=new Bj(this),Vj(this,a),Si&&Vj(this,new Jj(this,a)));a=this.Sd.length;for(var b,c=0;c<a;c++)b=this.Sd[c],Wj(this,sb(b.Lf))}K(Uj,W);function Vj(a,b){var c=sb(b.Lf);c&&(M(c,function(a){var c=b.Lf[a];c&&(this.yi[a]=F(c,b))},a),a.Sd.push(b))}k=Uj.prototype;k.xi=function(a){var b=this.yi[a.type];b&&b(a)};function Wj(a,b){M(b,function(a){U(this.oa,a,this.xi,!1,this)},a)}
function Xj(a,b){M(b,function(a){md(this.oa,a,this.xi,!1,this)},a)}function Ej(a,b){for(var c={},d,e=0,f=Yj.length;e<f;e++)d=Yj[e][0],c[d]=a[d]||b[d]||Yj[e][1];return c}k.move=function(a,b){this.fireEvent(Zj,a,b)};k.Gc=function(a,b){a.bubbles=!0;this.fireEvent(ak,a,b)};k.cancel=function(a,b){this.fireEvent(bk,a,b)};function Ij(a,b,c){a.Gc(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Pj,b,c))}
function Hj(a,b,c){b.bubbles=!0;a.fireEvent(Nj,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Oj,b,c))}k.fireEvent=function(a,b,c){this.dispatchEvent(new vj(a,c,b))};function Tj(a,b){a.dispatchEvent(new vj(b.type,b,b.B))}k.l=function(){for(var a=this.Sd.length,b,c=0;c<a;c++)b=this.Sd[c],Xj(this,sb(b.Lf));Uj.N.l.call(this)};
var Zj="pointermove",Fj="pointerdown",Gj="pointerup",Nj="pointerover",ak="pointerout",Oj="pointerenter",Pj="pointerleave",bk="pointercancel",Yj=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function ck(a,b,c,d){uj.call(this,a,b,d);this.na=c;this.originalEvent=c.B;c=this.originalEvent;t(c.changedTouches)?(a=c.changedTouches[0],c=fj(b.X),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.X,c=fj(c),a=fj(a),a=new ec(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.Vd(this.pixel)}K(ck,uj);ck.prototype.preventDefault=function(){ck.N.preventDefault.call(this);this.na.preventDefault()};ck.prototype.stopPropagation=function(){ck.N.stopPropagation.call(this);this.na.stopPropagation()};
function dk(a,b,c,d){ck.call(this,a,b,c.na,d);this.Ic=c}K(dk,ck);function ek(a){W.call(this);this.f=a;this.Gd=0;this.Gg=!1;this.Ve=this.Pf=this.wc=null;a=this.f.X;this.Yh=0;this.Oh={};this.sd=new Uj(a);this.Vb=null;this.Pf=U(this.sd,Fj,this.pl,!1,this);this.yh=U(this.sd,Zj,this.pm,!1,this)}K(ek,W);
function fk(a,b){var c;c=new dk(gk,a.f,b);a.dispatchEvent(c);0!==a.Gd?(l.clearTimeout(a.Gd),a.Gd=0,c=new dk(hk,a.f,b),a.dispatchEvent(c)):a.Gd=l.setTimeout(F(function(){this.Gd=0;var a=new dk(ik,this.f,b);this.dispatchEvent(a)},a),250)}function jk(a,b){b.type==kk||b.type==lk?delete a.Oh[b.pointerId]:b.type==mk&&(a.Oh[b.pointerId]=!0);a.Yh=qb(a.Oh)}k=ek.prototype;
k.Ti=function(a){jk(this,a);var b=new dk(kk,this.f,a);this.dispatchEvent(b);0===this.Yh&&(M(this.wc,V),this.wc=null,Wc(this.Vb),this.Vb=null);!this.Gg&&0===a.button&&fk(this,this.Ve)};k.pl=function(a){jk(this,a);var b=new dk(mk,this.f,a);this.dispatchEvent(b);this.Ve=a;this.Gg=!1;null===this.wc&&(this.Vb=new Uj(document),this.wc=[U(this.Vb,nk,this.ql,!1,this),U(this.Vb,kk,this.Ti,!1,this),U(this.sd,lk,this.Ti,!1,this)])};
k.ql=function(a){if(a.clientX!=this.Ve.clientX||a.clientY!=this.Ve.clientY){this.Gg=!0;var b=new dk(ok,this.f,a);this.dispatchEvent(b)}a.preventDefault()};k.pm=function(a){this.dispatchEvent(new dk(a.type,this.f,a))};k.l=function(){null!==this.yh&&(V(this.yh),this.yh=null);null!==this.Pf&&(V(this.Pf),this.Pf=null);null!==this.wc&&(M(this.wc,V),this.wc=null);null!==this.Vb&&(Wc(this.Vb),this.Vb=null);null!==this.sd&&(Wc(this.sd),this.sd=null);ek.N.l.call(this)};
var ik="singleclick",gk="click",hk="dblclick",ok="pointerdrag",nk="pointermove",mk="pointerdown",kk="pointerup",lk="pointercancel",pk={yn:ik,ln:gk,mn:hk,rn:ok,un:nk,qn:mk,xn:kk,wn:"pointerover",vn:"pointerout",sn:"pointerenter",tn:"pointerleave",pn:lk};function qk(a,b){pj.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.Mm=b;this.Ce=0}K(qk,pj);qk.prototype.yl=function(){--this.Ce;this.Mm()};var rk=["Polygon","LineString","Image","Text"];function sk(a,b){return E(a)-E(b)}function tk(a,b){var c=.5*a/b;return c*c}function uk(a,b,c,d,e,f,g){var h=!1,m,n;m=c.w();null===m?vk(a,b,c,d,e):(n=m.mf(),2==n||3==n?(m.rk(f,g),2==n&&vk(a,b,c,d,e)):(0==n&&m.load(),m.kj(f,g),h=!0));return h}function vk(a,b,c,d,e){b=b.jb();null!=b&&(d=b.Vg(d),(0,wk[d.ga()])(a,d,c,e))}
var wk={Point:function(a,b,c,d){var e=c.w();if(null!==e){var f=xk(a,c.va,"Image");f.Yf(e);f.af(b,d)}e=c.D;null!==e&&(a=xk(a,c.va,"Text"),a.rb(e),a.Wb(b.ad(),0,2,2,b,d))},LineString:function(a,b,c,d){var e=c.ra;if(null!==e){var f=xk(a,c.va,"LineString");f.Kb(null,e);f.Xe(b,d)}e=c.D;null!==e&&(a=xk(a,c.va,"Text"),a.rb(e),a.Wb(ai(b),0,2,2,b,d))},Polygon:function(a,b,c,d){var e=c.hb,f=c.ra;if(null!==e||null!==f){var g=xk(a,c.va,"Polygon");g.Kb(e,f);g.Qd(b,d)}e=c.D;null!==e&&(a=xk(a,c.va,"Text"),a.rb(e),
a.Wb(ji(b),0,2,2,b,d))},MultiPoint:function(a,b,c,d){var e=c.w();if(null!==e){var f=xk(a,c.va,"Image");f.Yf(e);f.Ze(b,d)}e=c.D;null!==e&&(a=xk(a,c.va,"Text"),a.rb(e),c=b.c,a.Wb(c,0,c.length,b.e,b,d))},MultiLineString:function(a,b,c,d){var e=c.ra;if(null!==e){var f=xk(a,c.va,"LineString");f.Kb(null,e);f.Ye(b,d)}e=c.D;null!==e&&(a=xk(a,c.va,"Text"),a.rb(e),c=ci(b),a.Wb(c,0,c.length,2,b,d))},MultiPolygon:function(a,b,c,d){var e=c.hb,f=c.ra;if(null!==f||null!==e){var g=xk(a,c.va,"Polygon");g.Kb(e,f);
g.$e(b,d)}e=c.D;null!==e&&(a=xk(a,c.va,"Text"),a.rb(e),c=mi(b),a.Wb(c,0,c.length,2,b,d))},GeometryCollection:function(a,b,c,d){b=b.ea;var e,f;e=0;for(f=b.length;e<f;++e)(0,wk[b[e].ga()])(a,b[e],c,d)},Circle:function(a,b,c,d){var e=c.hb,f=c.ra;if(null!==e||null!==f){var g=xk(a,c.va,"Polygon");g.Kb(e,f);g.We(b,d)}e=c.D;null!==e&&(a=xk(a,c.va,"Text"),a.rb(e),a.Wb(b.La(),0,2,2,b,d))}};function yk(a,b,c,d,e,f,g,h){Wb(a);0===b&&0===c||Yb(a,b,c);1==d&&1==e||Zb(a,d,e);0!==f&&$b(a,f);0===g&&0===h||Yb(a,g,h);return a}function zk(a,b){return a[0]==b[0]&&a[1]==b[1]&&a[4]==b[4]&&a[5]==b[5]&&a[12]==b[12]&&a[13]==b[13]}function Ak(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function Bk(a,b,c,d,e,f,g){S.call(this,a,b);this.vectorContext=c;this.frameState=e;this.context=f;this.glContext=g}K(Bk,S);function Ck(a,b,c){this.Um=a;this.ph=b;this.ec=0;this.resolution=c;this.Le=this.Ke=null;this.Q=[];this.coordinates=[];this.Mj=R();this.A=[];this.Hc=[];this.Z=yd();this.fg=R()}
function Dk(a,b,c,d,e,f){var g=a.coordinates.length,h=a.Rg(),m=[b[c],b[c+1]],n=[NaN,NaN],p=!0,r,q,u;for(r=c+e;r<d;r+=e){n[0]=b[r];n[1]=b[r+1];u=h[1];var v=h[2],x=h[3],y=n[0],w=n[1],s=0;y<h[0]?s|=16:y>v&&(s|=4);w<u?s|=8:w>x&&(s|=2);0===s&&(s=1);u=s;u!==q?(p&&(a.coordinates[g++]=m[0],a.coordinates[g++]=m[1]),a.coordinates[g++]=n[0],a.coordinates[g++]=n[1],p=!1):1===u?(a.coordinates[g++]=n[0],a.coordinates[g++]=n[1],p=!1):p=!0;m[0]=n[0];m[1]=n[1];q=u}r===c+e&&(a.coordinates[g++]=m[0],a.coordinates[g++]=
m[1]);f&&(a.coordinates[g++]=b[c],a.coordinates[g++]=b[c+1]);return g}function Ek(a,b,c){a.Ke=[0,b,c,0];a.Q.push(a.Ke);a.Le=[0,b,c,0];a.A.push(a.Le)}k=Ck.prototype;
k.Bh=function(a,b,c,d,e,f,g){var h;zk(c,this.Mj)?h=this.Hc:(h=Sh(this.coordinates,0,this.coordinates.length,2,c,this.Hc),Vb(this.Mj,c));c=0;for(var m=f.length,n=0,p,r=this.fg;c<m;){var q=f[c],u,v,x,y;switch(q[0]){case 0:n=q[2];n=E(n).toString();t(N(e,n))?c=q[3]:++c;break;case 1:a.beginPath();++c;break;case 2:n=q[1];p=h[n];var w=h[n+1],s=h[n+2]-p,n=h[n+3]-w;a.arc(p,w,Math.sqrt(s*s+n*n),0,2*Math.PI,!0);++c;break;case 3:a.closePath();++c;break;case 4:n=q[1];p=q[2];u=q[3];x=q[4]*b;var A=q[5]*b,z=q[6];
v=q[7];var D=q[8],C=q[9],w=q[11],s=q[12],G=q[13],L=q[14];for(q[10]&&(w+=d);n<p;n+=2){q=h[n]-x;y=h[n+1]-A;G&&(q=q+.5|0,y=y+.5|0);if(1!=s||0!==w){var H=q+x,T=y+A;yk(r,H,T,s,s,w,-H,-T);a.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}H=a.globalAlpha;1!=v&&(a.globalAlpha=H*v);a.drawImage(u,D,C,L,z,q,y,L*b,z*b);1!=v&&(a.globalAlpha=H);1==s&&0===w||a.setTransform(1,0,0,1,0,0)}++c;break;case 5:n=q[1];p=q[2];x=q[3];A=q[4]*b;z=q[5]*b;w=q[6];s=q[7]*b;u=q[8];for(v=q[9];n<p;n+=2){q=h[n]+A;y=h[n+1]+z;if(1!=s||
0!==w)yk(r,q,y,s,s,w,-q,-y),a.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]);v&&a.strokeText(x,q,y);u&&a.fillText(x,q,y);1==s&&0===w||a.setTransform(1,0,0,1,0,0)}++c;break;case 6:if(t(g)&&(p=q[1],n=q[2],n=g(p,n)))return n;++c;break;case 7:a.fill();++c;break;case 8:n=q[1];p=q[2];a.moveTo(h[n],h[n+1]);for(n+=2;n<p;n+=2)a.lineTo(h[n],h[n+1]);++c;break;case 9:a.fillStyle=q[1];++c;break;case 10:n=t(q[7])?q[7]:!0;p=q[2];a.strokeStyle=q[1];a.lineWidth=n?p*b:p;a.lineCap=q[3];a.lineJoin=q[4];a.miterLimit=q[5];
Qi&&a.setLineDash(q[6]);++c;break;case 11:a.font=q[1];a.textAlign=q[2];a.textBaseline=q[3];++c;break;case 12:a.stroke();++c;break;default:Sa(),++c}}};k.yd=function(a,b,c,d,e){return this.Bh(a,b,c,d,e,this.Q,void 0)};function Fk(a){var b=a.A;b.reverse();var c,d=b.length,e,f,g=-1;for(c=0;c<d;++c)if(e=b[c],f=e[0],6==f)g=c;else if(0==f){e[3]=c;e=a.A;for(f=c;g<f;){var h=e[g];e[g]=e[f];e[f]=h;++g;--f}g=-1}}
function Gk(a,b,c){a.Ke[3]=a.Q.length;a.Ke=null;a.Le[3]=a.A.length;a.Le=null;b=[6,b,c];a.Q.push(b);a.A.push(b)}k.finish=da;k.Rg=function(){return this.ph};k.n=function(){return this.Z};function Hk(a,b,c){Ck.call(this,a,b,c);this.d=this.yb=null;this.qc=this.Mb=this.Za=this.Qa=this.Jb=this.rd=this.qd=this.Eb=this.ld=this.Vc=this.Uc=void 0}K(Hk,Ck);
Hk.prototype.af=function(a,b){if(null!==this.d){zd(this.Z,a.n());Ek(this,a,b);var c=a.c,d=this.coordinates.length,c=Dk(this,c,0,c.length,a.e,!1);this.Q.push([4,d,c,this.d,this.Uc,this.Vc,this.ld,this.Eb,this.qd,this.rd,this.Jb,this.Qa,this.Za,this.Mb,this.qc]);this.A.push([4,d,c,this.yb,this.Uc,this.Vc,this.ld,this.Eb,this.qd,this.rd,this.Jb,this.Qa,this.Za,this.Mb,this.qc]);Gk(this,a,b)}};
Hk.prototype.Ze=function(a,b){if(null!==this.d){zd(this.Z,a.n());Ek(this,a,b);var c=a.c,d=this.coordinates.length,c=Dk(this,c,0,c.length,a.e,!1);this.Q.push([4,d,c,this.d,this.Uc,this.Vc,this.ld,this.Eb,this.qd,this.rd,this.Jb,this.Qa,this.Za,this.Mb,this.qc]);this.A.push([4,d,c,this.yb,this.Uc,this.Vc,this.ld,this.Eb,this.qd,this.rd,this.Jb,this.Qa,this.Za,this.Mb,this.qc]);Gk(this,a,b)}};
Hk.prototype.finish=function(){Fk(this);this.Vc=this.Uc=void 0;this.d=this.yb=null;this.qc=this.Mb=this.Qa=this.Jb=this.rd=this.qd=this.Eb=this.Za=this.ld=void 0};Hk.prototype.Yf=function(a){var b=a.Qg(),c=a.Y(),d=a.lf(1),e=a.w(1),f=a.kb();this.Uc=b[0];this.Vc=b[1];this.yb=d;this.d=e;this.ld=c[1];this.Eb=a.Yd();this.qd=f[0];this.rd=f[1];this.Jb=a.Jb;this.Qa=a.lb();this.Za=a.Za;this.Mb=a.Mb;this.qc=c[0]};
function Ik(a,b,c){Ck.call(this,a,b,c);this.o={Nd:void 0,Id:void 0,Jd:null,Kd:void 0,Ld:void 0,Md:void 0,nh:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}K(Ik,Ck);function Jk(a,b,c,d,e){var f=a.coordinates.length;b=Dk(a,b,c,d,e,!1);f=[8,f,b];a.Q.push(f);a.A.push(f);return d}k=Ik.prototype;k.Rg=function(){var a=this.ph;this.ec&&(a=wd(a,this.resolution*(this.ec+1)/2));return a};
function Kk(a){var b=a.o,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineJoin,g=b.lineWidth,h=b.miterLimit;b.Nd==c&&b.Id==d&&eb(b.Jd,e)&&b.Kd==f&&b.Ld==g&&b.Md==h||(b.nh!=a.coordinates.length&&(a.Q.push([12]),b.nh=a.coordinates.length),a.Q.push([10,c,g,d,f,h,e],[1]),b.Nd=c,b.Id=d,b.Jd=e,b.Kd=f,b.Ld=g,b.Md=h)}
k.Xe=function(a,b){var c=this.o,d=c.lineWidth;t(c.strokeStyle)&&t(d)&&(zd(this.Z,a.n()),Kk(this),Ek(this,a,b),this.A.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]),c=a.c,Jk(this,c,0,c.length,a.e),this.A.push([12]),Gk(this,a,b))};
k.Ye=function(a,b){var c=this.o,d=c.lineWidth;if(t(c.strokeStyle)&&t(d)){zd(this.Z,a.n());Kk(this);Ek(this,a,b);this.A.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]);var c=a.R,d=a.c,e=a.e,f=0,g,h;g=0;for(h=c.length;g<h;++g)f=Jk(this,d,f,c[g],e);this.A.push([12]);Gk(this,a,b)}};k.finish=function(){this.o.nh!=this.coordinates.length&&this.Q.push([12]);Fk(this);this.o=null};
k.Kb=function(a,b){var c=b.Ja;this.o.strokeStyle=ac(null===c?xa:c);c=b.je;this.o.lineCap=t(c)?c:"round";c=b.getLineDash();this.o.lineDash=null===c?wa:c;c=b.ke;this.o.lineJoin=t(c)?c:"round";c=b.Ma();this.o.lineWidth=t(c)?c:1;c=b.le;this.o.miterLimit=t(c)?c:10;this.ec=Math.max(this.ec,this.o.lineWidth)};
function Lk(a,b,c){Ck.call(this,a,b,c);this.o={si:void 0,Nd:void 0,Id:void 0,Jd:null,Kd:void 0,Ld:void 0,Md:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}K(Lk,Ck);
function Mk(a,b,c,d,e){var f=a.o,g=[1];a.Q.push(g);a.A.push(g);var h,g=0;for(h=d.length;g<h;++g){var m=d[g],n=a.coordinates.length;c=Dk(a,b,c,m,e,!0);c=[8,n,c];n=[3];a.Q.push(c,n);a.A.push(c,n);c=m}b=[7];a.A.push(b);t(f.fillStyle)&&a.Q.push(b);t(f.strokeStyle)&&(f=[12],a.Q.push(f),a.A.push(f));return c}k=Lk.prototype;
k.We=function(a,b){var c=this.o,d=c.strokeStyle;if(t(c.fillStyle)||t(d)){zd(this.Z,a.n());Nk(this);Ek(this,a,b);this.A.push([9,ac(va)]);t(c.strokeStyle)&&this.A.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var e=a.c,d=this.coordinates.length;Dk(this,e,0,e.length,a.e,!1);e=[1];d=[2,d];this.Q.push(e,d);this.A.push(e,d);d=[7];this.A.push(d);t(c.fillStyle)&&this.Q.push(d);t(c.strokeStyle)&&(c=[12],this.Q.push(c),this.A.push(c));Gk(this,a,b)}};
k.Qd=function(a,b){var c=this.o,d=c.strokeStyle;if(t(c.fillStyle)||t(d))zd(this.Z,a.n()),Nk(this),Ek(this,a,b),this.A.push([9,ac(va)]),t(c.strokeStyle)&&this.A.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]),c=a.R,d=a.xb(),Mk(this,d,0,c,a.e),Gk(this,a,b)};
k.$e=function(a,b){var c=this.o,d=c.strokeStyle;if(t(c.fillStyle)||t(d)){zd(this.Z,a.n());Nk(this);Ek(this,a,b);this.A.push([9,ac(va)]);t(c.strokeStyle)&&this.A.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var c=a.ya,d=a.xb(),e=a.e,f=0,g,h;g=0;for(h=c.length;g<h;++g)f=Mk(this,d,f,c[g],e);Gk(this,a,b)}};k.finish=function(){Fk(this);this.o=null;var a=this.Um;if(0!==a){var b=this.coordinates,c,d;c=0;for(d=b.length;c<d;++c)b[c]=a*Math.round(b[c]/a)}};
k.Rg=function(){var a=this.ph;this.ec&&(a=wd(a,this.resolution*(this.ec+1)/2));return a};
k.Kb=function(a,b){var c=this.o;if(null===a)c.fillStyle=void 0;else{var d=a.Ja;c.fillStyle=ac(null===d?va:d)}null===b?(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0):(d=b.Ja,c.strokeStyle=ac(null===d?xa:d),d=b.je,c.lineCap=t(d)?d:"round",d=b.getLineDash(),c.lineDash=null===d?wa:d.slice(),d=b.ke,c.lineJoin=t(d)?d:"round",d=b.Ma(),c.lineWidth=t(d)?d:1,d=b.le,c.miterLimit=t(d)?d:10,this.ec=Math.max(this.ec,c.lineWidth))};
function Nk(a){var b=a.o,c=b.fillStyle,d=b.strokeStyle,e=b.lineCap,f=b.lineDash,g=b.lineJoin,h=b.lineWidth,m=b.miterLimit;t(c)&&b.si!=c&&(a.Q.push([9,c]),b.si=b.fillStyle);!t(d)||b.Nd==d&&b.Id==e&&b.Jd==f&&b.Kd==g&&b.Ld==h&&b.Md==m||(a.Q.push([10,d,h,e,g,m,f]),b.Nd=d,b.Id=e,b.Jd=f,b.Kd=g,b.Ld=h,b.Md=m)}function Ok(a,b,c){Ck.call(this,a,b,c);this.Qj=this.Pj=this.Oj=null;this.D="";this.mc=this.Pc=this.ze=this.ye=0;this.Ob=this.ta=this.sa=null}K(Ok,Ck);
Ok.prototype.Wb=function(a,b,c,d,e,f){if(""!==this.D&&null!==this.Ob&&(null!==this.sa||null!==this.ta)){Ad(this.Z,a,b,c,d);if(null!==this.sa){var g=this.sa,h=this.Oj;if(null===h||h.fillStyle!=g.fillStyle){var m=[9,g.fillStyle];this.Q.push(m);this.A.push(m);null===h?this.Oj={fillStyle:g.fillStyle}:h.fillStyle=g.fillStyle}}null!==this.ta&&(g=this.ta,h=this.Pj,null===h||h.lineCap!=g.lineCap||h.lineDash!=g.lineDash||h.lineJoin!=g.lineJoin||h.lineWidth!=g.lineWidth||h.miterLimit!=g.miterLimit||h.strokeStyle!=
g.strokeStyle)&&(m=[10,g.strokeStyle,g.lineWidth,g.lineCap,g.lineJoin,g.miterLimit,g.lineDash,!1],this.Q.push(m),this.A.push(m),null===h?this.Pj={lineCap:g.lineCap,lineDash:g.lineDash,lineJoin:g.lineJoin,lineWidth:g.lineWidth,miterLimit:g.miterLimit,strokeStyle:g.strokeStyle}:(h.lineCap=g.lineCap,h.lineDash=g.lineDash,h.lineJoin=g.lineJoin,h.lineWidth=g.lineWidth,h.miterLimit=g.miterLimit,h.strokeStyle=g.strokeStyle));g=this.Ob;h=this.Qj;if(null===h||h.font!=g.font||h.textAlign!=g.textAlign||h.textBaseline!=
g.textBaseline)m=[11,g.font,g.textAlign,g.textBaseline],this.Q.push(m),this.A.push(m),null===h?this.Qj={font:g.font,textAlign:g.textAlign,textBaseline:g.textBaseline}:(h.font=g.font,h.textAlign=g.textAlign,h.textBaseline=g.textBaseline);Ek(this,e,f);g=this.coordinates.length;a=Dk(this,a,b,c,d,!1);a=[5,g,a,this.D,this.ye,this.ze,this.Pc,this.mc,null!==this.sa,null!==this.ta];this.Q.push(a);this.A.push(a);Gk(this,e,f)}};
Ok.prototype.rb=function(a){if(null===a)this.D="";else{var b=a.hb;null===b?this.sa=null:(b=b.Ja,b=ac(null===b?va:b),null===this.sa?this.sa={fillStyle:b}:this.sa.fillStyle=b);var c=a.ra;if(null===c)this.ta=null;else{var b=c.Ja,d=c.je,e=c.getLineDash(),f=c.ke,g=c.Ma(),c=c.le,d=t(d)?d:"round",e=null!=e?e.slice():wa,f=t(f)?f:"round",g=t(g)?g:1,c=t(c)?c:10,b=ac(null===b?xa:b);if(null===this.ta)this.ta={lineCap:d,lineDash:e,lineJoin:f,lineWidth:g,miterLimit:c,strokeStyle:b};else{var h=this.ta;h.lineCap=
d;h.lineDash=e;h.lineJoin=f;h.lineWidth=g;h.miterLimit=c;h.strokeStyle=b}}var m=a.Vk(),b=a.Wk(),d=a.Xk(),e=a.lb(),g=a.Za,c=a.D,f=a.Yk(),h=a.Zk();a=t(m)?m:"10px sans-serif";f=t(f)?f:"center";h=t(h)?h:"middle";null===this.Ob?this.Ob={font:a,textAlign:f,textBaseline:h}:(m=this.Ob,m.font=a,m.textAlign=f,m.textBaseline=h);this.D=t(c)?c:"";this.ye=t(b)?b:0;this.ze=t(d)?d:0;this.Pc=t(e)?e:0;this.mc=t(g)?g:1}};function Pk(a,b,c){this.Vm=a;this.tj=b;this.Ch=c;this.Nc={};Ii(1,1);R()}
Pk.prototype.yd=function(a,b,c,d,e,f){var g=Wa(sb(this.Nc),Number);g.sort(gb);return this.Bh(g,a,b,c,d,e,f)};
Pk.prototype.Bh=function(a,b,c,d,e,f,g){var h=this.tj,m=h[0],n=h[1],p=h[2],h=h[3],m=Sh([m,n,m,h,p,h,p,n],0,8,2,e);b.save();b.beginPath();b.moveTo(m[0],m[1]);b.lineTo(m[2],m[3]);b.lineTo(m[4],m[5]);b.lineTo(m[6],m[7]);b.closePath();b.clip();for(var r,q,m=0,n=a.length;m<n;++m)for(r=this.Nc[a[m].toString()],p=0,h=rk.length;p<h;++p)if(q=r[rk[p]],t(q)&&Hd(c,q.n())&&(q=q.yd(b,d,e,f,g)))return q;b.restore()};Pk.prototype.finish=function(){for(var a in this.Nc){var b=this.Nc[a],c;for(c in b)b[c].finish()}};
function xk(a,b,c){var d=t(b)?b.toString():"0";b=a.Nc[d];t(b)||(b={},a.Nc[d]=b);d=b[c];t(d)||(d=new Qk[c](a.Vm,a.tj,a.Ch),b[c]=d);return d}Pk.prototype.ha=function(){return tb(this.Nc)};var Qk={Image:Hk,LineString:Ik,Polygon:Lk,Text:Ok};function Rk(a,b){Sc.call(this);this.Ec=a;this.Da=b}K(Rk,Sc);Rk.prototype.Aa=function(){return this.Ec.Aa()};Rk.prototype.Xg=function(a){2===a.target.H()&&Sk(this)};function Sk(a){var b=a.Da;b.rf()&&"ready"==b.Wg()&&a.Aa().render()}function Tk(a,b){b.Ed()&&a.ob.push(qa(function(a,b,e){b=E(a).toString();a.Mg(e.He[b])},b))}function Uk(a,b){if(null!=b){var c,d,e;d=0;for(e=b.length;d<e;++d)c=b[d],a[E(c).toString()]=c}}function Vk(a,b){var c=b.Jl;t(c)&&(B(c)?a.pd[c]="":la(c)&&(a.pd[c.src]=c.href))}
function Wk(a,b,c,d){b=E(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}function Xk(a,b,c,d){return function(e,f,g){e=ig(b,e,f,g,c,d);return a(e)?e:null}}function Yk(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function Zk(a,b,c,d,e,f,g,h,m,n){var p=E(b).toString();p in a.Bd||(a.Bd[p]={});var r=a.Bd[p];a=a.Qm;var q=c.minZoom,u,v,x,y,w,s;t(h)||(h=0);for(s=g;s>=q;--s)for(v=Xf(c,f,s,v),x=c.G(s),y=v.C;y<=v.T;++y)for(w=v.L;w<=v.K;++w)g-s<=h?(u=ig(b,s,y,w,d,e),0==u.H()&&(r[Ff(u.F)]=!0,u.getKey()in a.wd||rj(a,[u,p,$f(c,u.F),x])),t(m)&&m.call(n,u)):b.tk(s,y,w)};function $k(a,b,c,d,e){this.Oe={};this.k=a;this.gc=b;this.Z=c;this.V=d;this.jn=e;this.d=this.aa=this.pa=this.ni=this.mi=this.ki=null;this.$i=this.Zi=this.xf=this.dh=this.bh=this.ah=0;this.aj=!1;this.de=this.bj=0;this.cj=!1;this.eh=0;this.D="";this.mc=this.Pc=this.ze=this.ye=0;this.Ob=this.ta=this.sa=null;this.Hc=[];this.fg=R()}
function al(a,b,c){if(null!==a.d){b=Sh(b,0,c,2,a.V,a.Hc);c=a.k;var d=a.fg,e=c.globalAlpha;1!=a.xf&&(c.globalAlpha=e*a.xf);var f=a.bj;a.aj&&(f+=a.jn);var g,h;g=0;for(h=b.length;g<h;g+=2){var m=b[g]-a.ah,n=b[g+1]-a.bh;a.cj&&(m=m+.5|0,n=n+.5|0);if(0!==f||1!=a.de){var p=m+a.ah,r=n+a.bh;yk(d,p,r,a.de,a.de,f,-p,-r);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.d,a.Zi,a.$i,a.eh,a.dh,m,n,a.eh,a.dh)}0===f&&1==a.de||c.setTransform(1,0,0,1,0,0);1!=a.xf&&(c.globalAlpha=e)}}
function bl(a,b,c,d){var e=0;if(null!==a.Ob&&""!==a.D){null===a.sa||cl(a,a.sa);null===a.ta||dl(a,a.ta);var f=a.Ob,g=a.k,h=a.ni;null===h?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.ni={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline));b=Sh(b,e,c,d,a.V,a.Hc);for(f=a.k;e<c;e+=d){g=
b[e]+a.ye;h=b[e+1]+a.ze;if(0!==a.Pc||1!=a.mc){var m=yk(a.fg,g,h,a.mc,a.mc,a.Pc,-g,-h);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.ta||f.strokeText(a.D,g,h);null===a.sa||f.fillText(a.D,g,h)}0===a.Pc&&1==a.mc||f.setTransform(1,0,0,1,0,0)}}function el(a,b,c,d,e,f){var g=a.k;a=Sh(b,c,d,e,a.V,a.Hc);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function fl(a,b,c,d,e){var f=a.k,g,h;g=0;for(h=d.length;g<h;++g)c=el(a,b,c,d[g],e,!0),f.closePath();return c}k=$k.prototype;k.ui=function(a,b){var c=a.toString(),d=this.Oe[c];t(d)?d.push(b):this.Oe[c]=[b]};
k.We=function(a){if(Hd(this.Z,a.n())){if(null!==this.pa||null!==this.aa){null===this.pa||cl(this,this.pa);null===this.aa||dl(this,this.aa);var b;b=a.c;b=null===b?null:Sh(b,0,b.length,a.e,this.V,this.Hc);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.k;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.pa||d.fill();null===this.aa||d.stroke()}""!==this.D&&bl(this,a.La(),2,2)}};k.vi=function(a,b){var c=a.ea,d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];gl[f.ga()].call(this,f,b)}};
k.af=function(a){var b=a.c;a=a.e;null===this.d||al(this,b,b.length);""!==this.D&&bl(this,b,b.length,a)};k.Ze=function(a){var b=a.c;a=a.e;null===this.d||al(this,b,b.length);""!==this.D&&bl(this,b,b.length,a)};k.Xe=function(a){if(Hd(this.Z,a.n())){if(null!==this.aa){dl(this,this.aa);var b=this.k,c=a.c;b.beginPath();el(this,c,0,c.length,a.e,!1);b.stroke()}""!==this.D&&(a=ai(a),bl(this,a,2,2))}};
k.Ye=function(a){var b=a.n();if(Hd(this.Z,b)){if(null!==this.aa){dl(this,this.aa);var b=this.k,c=a.c,d=0,e=a.R,f=a.e;b.beginPath();var g,h;g=0;for(h=e.length;g<h;++g)d=el(this,c,d,e[g],f,!1);b.stroke()}""!==this.D&&(a=ci(a),bl(this,a,a.length,2))}};
k.Qd=function(a){if(Hd(this.Z,a.n())){if(null!==this.aa||null!==this.pa){null===this.pa||cl(this,this.pa);null===this.aa||dl(this,this.aa);var b=this.k;b.beginPath();fl(this,a.xb(),0,a.R,a.e);null===this.pa||b.fill();null===this.aa||b.stroke()}""!==this.D&&(a=ji(a),bl(this,a,2,2))}};
k.$e=function(a){if(Hd(this.Z,a.n())){if(null!==this.aa||null!==this.pa){null===this.pa||cl(this,this.pa);null===this.aa||dl(this,this.aa);var b=this.k,c=a.xb(),d=0,e=a.ya,f=a.e,g,h;g=0;for(h=e.length;g<h;++g){var m=e[g];b.beginPath();d=fl(this,c,d,m,f);null===this.pa||b.fill();null===this.aa||b.stroke()}}""!==this.D&&(a=mi(a),bl(this,a,a.length,2))}};
k.flush=function(){var a=Wa(sb(this.Oe),Number);a.sort(gb);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Oe[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};function cl(a,b){var c=a.k,d=a.ki;null===d?(c.fillStyle=b.fillStyle,a.ki={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function dl(a,b){var c=a.k,d=a.mi;null===d?(c.lineCap=b.lineCap,Qi&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.mi={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),Qi&&!eb(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=
b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
k.Kb=function(a,b){if(null===a)this.pa=null;else{var c=a.Ja;this.pa={fillStyle:ac(null===c?va:c)}}if(null===b)this.aa=null;else{var c=b.Ja,d=b.je,e=b.getLineDash(),f=b.ke,g=b.Ma(),h=b.le;this.aa={lineCap:t(d)?d:"round",lineDash:null!=e?e:wa,lineJoin:t(f)?f:"round",lineWidth:this.gc*(t(g)?g:1),miterLimit:t(h)?h:10,strokeStyle:ac(null===c?xa:c)}}};
k.Yf=function(a){if(null===a)this.d=null;else{var b=a.Qg(),c=a.w(1),d=a.kb(),e=a.Y();this.ah=b[0];this.bh=b[1];this.dh=e[1];this.d=c;this.xf=a.Yd();this.Zi=d[0];this.$i=d[1];this.aj=a.Jb;this.bj=a.lb();this.de=a.Za;this.cj=a.Mb;this.eh=e[0]}};
k.rb=function(a){if(null===a)this.D="";else{var b=a.hb;null===b?this.sa=null:(b=b.Ja,this.sa={fillStyle:ac(null===b?va:b)});var c=a.ra;if(null===c)this.ta=null;else{var b=c.Ja,d=c.je,e=c.getLineDash(),f=c.ke,g=c.Ma(),c=c.le;this.ta={lineCap:t(d)?d:"round",lineDash:null!=e?e:wa,lineJoin:t(f)?f:"round",lineWidth:t(g)?g:1,miterLimit:t(c)?c:10,strokeStyle:ac(null===b?xa:b)}}var b=a.Vk(),d=a.Wk(),e=a.Xk(),f=a.lb(),g=a.Za,c=a.D,h=a.Yk();a=a.Zk();this.Ob={font:t(b)?b:"10px sans-serif",textAlign:t(h)?h:"center",
textBaseline:t(a)?a:"middle"};this.D=t(c)?c:"";this.ye=t(d)?this.gc*d:0;this.ze=t(e)?this.gc*e:0;this.Pc=t(f)?f:0;this.mc=this.gc*(t(g)?g:1)}};var gl={Point:$k.prototype.af,LineString:$k.prototype.Xe,Polygon:$k.prototype.Qd,MultiPoint:$k.prototype.Ze,MultiLineString:$k.prototype.Ye,MultiPolygon:$k.prototype.$e,GeometryCollection:$k.prototype.vi,Circle:$k.prototype.We};function hl(a,b){Rk.call(this,a,b);this.V=R()}K(hl,Rk);
hl.prototype.uc=function(a,b,c){this.ba("precompose",c,a,void 0);var d=this.w();if(null!==d){var e=this.yf,f=c.globalAlpha;c.globalAlpha=b.opacity;if(0===a.viewState.rotation){b=e[13];var g=d.width*e[0],h=d.height*e[5];c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[12]),Math.round(b),Math.round(g),Math.round(h))}else c.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0);c.globalAlpha=f}this.ba("postcompose",c,a,void 0)};
hl.prototype.ba=function(a,b,c,d){var e=this.Da;e.Ba(a)&&(d=t(d)?d:il(this,c),d=new $k(b,c.pixelRatio,c.extent,d,c.viewState.rotation),e.dispatchEvent(new Bk(a,e,d,0,c,b,null)),d.flush())};function il(a,b){var c=b.viewState,d=b.pixelRatio;return yk(a.V,d*b.size[0]/2,d*b.size[1]/2,d/c.resolution,-d/c.resolution,-c.rotation,-c.center[0],-c.center[1])}
var jl=function(){var a=null,b=null;return function(c){if(null===a){a=Ii(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=eb(b.data,c.data));return e}}();function kl(a,b){hl.call(this,a,b);this.Sa=!1;this.Fa=-1;this.se=NaN;this.qe=yd();this.Hb=this.re=null;this.k=Ii()}K(kl,hl);
kl.prototype.uc=function(a,b,c){var d=il(this,a);this.ba("precompose",c,a,d);var e=this.Hb;if(null!==e&&!e.ha()){var f;this.Da.Ba("render")?(this.k.canvas.width=c.canvas.width,this.k.canvas.height=c.canvas.height,f=this.k):f=c;var g=f.globalAlpha;f.globalAlpha=b.opacity;e.yd(f,a.extent,a.pixelRatio,d,a.viewState.rotation,a.ek);f!=c&&(this.ba("render",f,a,d),c.drawImage(f.canvas,0,0));f.globalAlpha=g}this.ba("postcompose",c,a,d)};kl.prototype.Yg=function(){Sk(this)};
kl.prototype.pb=function(a){function b(a){var b;t(a.bb)?b=a.bb.call(a,h):t(c.bb)&&(b=(0,c.bb)(a,h));null!=b&&(a=this.zh(a,h,m,b,q),this.Sa=this.Sa||a)}var c=this.Da,d=c.fa();Uk(a.attributions,d.sc);Vk(a,d);if(!this.Sa&&(a.O[0]||a.O[1]))return!0;var e=a.extent,f=a.viewState,g=f.projection,h=f.resolution,m=a.pixelRatio;a=c.I;f=c.get("renderOrder");t(f)||(f=sk);if(!this.Sa&&this.se==h&&this.Fa==a&&this.re==f&&xd(this.qe,e))return!0;var n=this.qe,p=(e[2]-e[0])/4,r=Fd(e)/4;n[0]=e[0]-p;n[1]=e[1]-r;n[2]=
e[2]+p;n[3]=e[3]+r;Wc(this.Hb);this.Hb=null;this.Sa=!1;var q=new Pk(.5*h/m,n,h);d.nj(n,h,g);if(null===f)Eh(d,n,b,this);else{var u=[];Eh(d,n,function(a){u.push(a)},this);u.sort(f||gb);M(u,b,this)}q.finish();this.se=h;this.Fa=a;this.re=f;this.Hb=q;return!0};kl.prototype.zh=function(a,b,c,d,e){if(null==d)return!1;var f,g,h=!1;f=0;for(g=d.length;f<g;++f)h=uk(e,a,d[f],tk(b,c),a,this.Yg,this)||h;return h};function he(a){a=t(a)?a:{};this.da=t(a.anchor)?a.anchor:[.5,.5];this.Nf=null;this.Cd=t(a.anchorOrigin)?a.anchorOrigin:"top-left";this.Zh=t(a.anchorXUnits)?a.anchorXUnits:"fraction";this.$h=t(a.anchorYUnits)?a.anchorYUnits:"fraction";var b=t(a.crossOrigin)?a.crossOrigin:null,c=t(a.img)?a.img:null,d=a.src;t(d)&&0!==d.length||null===c||(d=c.src);var e=t(a.src)?0:2,f=ll.Yb(),g=f.get(d,b);null===g&&(g=new ml(c,d,b,e),f.set(d,b,g));this.$b=g;this.Zl=t(a.offset)?a.offset:[0,0];this.me=t(a.offsetOrigin)?
a.offsetOrigin:"top-left";this.Ya=null;this.ja=t(a.size)?a.size:null;za.call(this,{opacity:t(a.opacity)?a.opacity:1,rotation:t(a.rotation)?a.rotation:0,scale:t(a.scale)?a.scale:1,snapToPixel:t(a.snapToPixel)?a.snapToPixel:!0,rotateWithView:t(a.rotateWithView)?a.rotateWithView:!1})}K(he,za);k=he.prototype;
k.Qg=function(){if(null!==this.Nf)return this.Nf;var a=this.da,b=this.Y();if("fraction"==this.Zh||"fraction"==this.$h){if(null===b)return null;a=this.da.slice();"fraction"==this.Zh&&(a[0]*=b[0]);"fraction"==this.$h&&(a[1]*=b[1])}if("top-left"!=this.Cd){if(null===b)return null;a===this.da&&(a=this.da.slice());if("top-right"==this.Cd||"bottom-right"==this.Cd)a[0]=-a[0]+b[0];if("bottom-left"==this.Cd||"bottom-right"==this.Cd)a[1]=-a[1]+b[1]}return this.Nf=a};k.w=function(a){return this.$b.w(a)};
k.mf=function(){return this.$b.mf()};k.lf=function(a){return this.$b.lf(a)};k.kb=function(){if(null!==this.Ya)return this.Ya;var a=this.Zl;if("top-left"!=this.me){var b=this.Y(),c=this.$b.Y();if(null===b||null===c)return null;a=a.slice();if("top-right"==this.me||"bottom-right"==this.me)a[0]=c[0]-b[0]-a[0];if("bottom-left"==this.me||"bottom-right"==this.me)a[1]=c[1]-b[1]-a[1]}return this.Ya=a};k.Y=function(){return null===this.ja?this.$b.Y():this.ja};
k.kj=function(a,b){return U(this.$b,"change",a,!1,b)};k.load=function(){this.$b.load()};k.rk=function(a,b){md(this.$b,"change",a,!1,b)};function ml(a,b,c,d){W.call(this);this.yb=null;this.d=null===a?new Image:a;null!==c&&(this.d.crossOrigin=c);this.Ua=null;this.ee=d;this.ja=null;this.zd=b;this.fk=!1}K(ml,W);k=ml.prototype;k.fd=function(){this.ee=3;this.pc();this.dispatchEvent("change")};
k.be=function(){this.ee=2;this.ja=[this.d.width,this.d.height];this.pc();var a=Ii(1,1);a.drawImage(this.d,0,0);try{a.getImageData(0,0,1,1)}catch(b){this.fk=!0}this.dispatchEvent("change")};k.w=function(){return this.d};k.mf=function(){return this.ee};k.lf=function(){if(null===this.yb)if(this.fk){var a=this.ja[0],b=this.ja[1],c=Ii(a,b);c.fillRect(0,0,a,b);this.yb=c.canvas}else this.yb=this.d;return this.yb};k.Y=function(){return this.ja};
k.load=function(){if(0==this.ee){this.ee=1;this.Ua=[ld(this.d,"error",this.fd,!1,this),ld(this.d,"load",this.be,!1,this)];try{this.d.src=this.zd}catch(a){this.fd()}}};k.pc=function(){M(this.Ua,V);this.Ua=null};function ll(){this.tc={};this.Me=0;this.Ml=32}ea(ll);ll.prototype.clear=function(){this.tc={};this.Me=0};ll.prototype.get=function(a,b){var c=b+":"+a;return c in this.tc?this.tc[c]:null};ll.prototype.set=function(a,b,c){this.tc[b+":"+a]=c;++this.Me};function nl(a,b){Sc.call(this);this.f=b;this.Va={}}K(nl,Sc);
function ol(a){var b=a.viewState,c=a.ri;yk(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);a=a.Dj;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],m=c[6],n=c[7],p=c[8],r=c[9],q=c[10],u=c[11],v=c[12],x=c[13],y=c[14],c=c[15],w=b*h-d*g,s=b*m-e*g,A=b*n-f*g,z=d*m-e*h,D=d*n-f*h,C=e*n-f*m,G=p*x-r*v,L=p*y-q*v,H=p*c-u*v,T=r*y-q*x,P=r*c-u*x,I=q*c-u*y,J=w*I-s*P+A*T+z*H-D*L+C*G;0!=J&&(J=1/J,a[0]=(h*I-m*P+n*T)*J,a[1]=(-d*I+e*P-f*T)*J,a[2]=(x*C-y*D+c*z)*J,a[3]=(-r*C+
q*D-u*z)*J,a[4]=(-g*I+m*H-n*L)*J,a[5]=(b*I-e*H+f*L)*J,a[6]=(-v*C+y*A-c*s)*J,a[7]=(p*C-q*A+u*s)*J,a[8]=(g*P-h*H+n*G)*J,a[9]=(-b*P+d*H-f*G)*J,a[10]=(v*D-x*A+c*w)*J,a[11]=(-p*D+r*A-u*w)*J,a[12]=(-g*T+h*L-m*G)*J,a[13]=(b*T-d*L+e*G)*J,a[14]=(-v*z+x*s-y*w)*J,a[15]=(p*z-r*s+q*w)*J)}k=nl.prototype;k.Se=function(a){return new Rk(this,a)};k.l=function(){ob(this.Va,Wc);nl.N.l.call(this)};
function pl(){var a=ll.Yb();if(a.Me>a.Ml){var b=0,c,d;for(c in a.tc){d=a.tc[c];var e;if(e=0===(b++&3))Gc(d)?d=d.Ba(void 0,void 0):(d=hd(d),d=!!d&&d.Ba(void 0,void 0)),e=!d;e&&(delete a.tc[c],--a.Me)}}}function ql(a,b){var c=E(b).toString();if(c in a.Va)return a.Va[c];var d=a.Se(b);return a.Va[c]=d}k.Aa=function(){return this.f};k.Tf=da;k.qm=function(a,b){for(var c in this.Va)if(!(null!==b&&c in b.oh)){var d=this.Va[c];delete this.Va[c];Wc(d)}};
function rl(a,b){for(var c in a.Va)if(!(c in b.oh)){b.ob.push(F(a.qm,a));break}};function sl(a,b){hl.call(this,a,b);this.d=null;this.yf=R()}K(sl,hl);sl.prototype.w=function(){return null===this.d?null:this.d.w()};
sl.prototype.pb=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.center,f=d.resolution,g=d.rotation,h=this.Da.fa(),m=a.O,n=a.extent;t(b.extent)&&(n=Gd(n,b.extent));m[0]||m[1]||Id(n)||(d=h.w(n,f,c,d.projection),null!==d&&(m=d.H(),0==m?(ld(d,"change",this.Xg,!1,this),d.load()):2==m&&(this.d=d)));if(null!==this.d){var d=this.d,m=d.n(),n=d.G(),p=d.gc,f=c*n/(f*p);yk(this.yf,c*a.size[0]/2,c*a.size[1]/2,f,f,g,p*(m[0]-e[0])/n,p*(e[1]-m[3])/n);Uk(a.attributions,d.sc);Vk(a,h)}return!0};function tl(a,b){hl.call(this,a,b);this.Ia=this.h=null;this.vg=!1;this.k=null;this.yf=R();this.Uf=NaN;this.Wf=this.Mc=null;this.Ig=[U(b,zf("extent"),this.gl,!1,this)]}K(tl,hl);tl.prototype.l=function(){for(var a=0,b=this.Ig.length;a<b;++a)V(this.Ig[a]);this.Ig.length=0;tl.N.l.call(this)};tl.prototype.w=function(){return this.h};tl.prototype.gl=function(){null!==this.k&&(this.k.clearRect(0,0,this.Ia[0],this.Ia[1]),this.Uf=NaN)};
tl.prototype.pb=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.Da,g=f.fa(),h=fg(g,e),m=g.jf(),n=qf(h.Ib,d.resolution,0),p=g.ae(n,a.pixelRatio,e),r=p/ag(h,n),q=h.G(n),r=q/r,u=d.center,v;q==d.resolution?(u=Yk(u,q,a.size),v=Ed(u,q,d.rotation,a.size)):v=a.extent;t(b.extent)&&(v=Gd(v,b.extent));if(Id(v))return!1;var x=Yf(h,v,q),y=p*x.Ma(),w=p*x.kf(),s,A;null===this.h?(A=Ii(y,w),this.h=A.canvas,this.Ia=[y,w],this.k=A,this.vg=!jl(this.Ia)):(s=this.h,A=this.k,this.Ia[0]<y||this.Ia[1]<
w||this.vg&&(this.Ia[0]>y||this.Ia[1]>w)?(s.width=y,s.height=w,this.Ia=[y,w],this.vg=!jl(this.Ia),this.Mc=null):(y=this.Ia[0],w=this.Ia[1],n==this.Uf&&If(this.Mc,x)||(this.Mc=null,n<this.Uf&&this.k.clearRect(0,0,y,w))));var z,D;null===this.Mc?(y/=p,w/=p,z=x.C-Math.floor((y-x.Ma())/2),D=x.L-Math.floor((w-x.kf())/2),this.Uf=n,this.Mc=new Gf(z,z+y-1,D,D+w-1),this.Wf=Array(y*w),w=this.Mc):(w=this.Mc,y=w.Ma());s={};s[n]={};var C=[],G=F(g.Og,g,s,Xk(function(a){return null!==a&&2==a.H()},g,c,e)),L=f.qf();
t(L)||(L=!0);var H=yd(),T=new Gf(0,0,0,0),P,I,J;for(D=x.C;D<=x.T;++D)for(J=x.L;J<=x.K;++J)I=ig(g,n,D,J,c,e),z=I.H(),2==z||4==z||3==z&&!L?s[n][Ff(I.F)]=I:(P=h.cf(I.F,G,null,T,H),P||(C.push(I),P=h.pf(I.F,T,H),null===P||G(n+1,P)));G=0;for(P=C.length;G<P;++G)I=C[G],D=p*(I.F[1]-w.C),J=p*(w.K-I.F[2]),A.clearRect(D,J,p,p);C=Wa(sb(s),Number);C.sort(gb);var Ma=g.am,Fa=Dd(Wf(h,[n,w.C,w.K],H)),ia,nb,Oe,Kd,nc,Qg,G=0;for(P=C.length;G<P;++G)if(ia=C[G],p=g.ae(ia,c,e),Kd=s[ia],ia==n)for(Oe in Kd)I=Kd[Oe],nb=(I.F[2]-
w.L)*y+(I.F[1]-w.C),this.Wf[nb]!=I&&(D=p*(I.F[1]-w.C),J=p*(w.K-I.F[2]),z=I.H(),4!=z&&(3!=z||L)&&Ma||A.clearRect(D,J,p,p),2==z&&A.drawImage(I.w(),m,m,p,p,D,J,p,p),this.Wf[nb]=I);else for(Oe in ia=h.G(ia)/q,Kd)for(I=Kd[Oe],nb=Wf(h,I.F,H),D=(nb[0]-Fa[0])/r,J=(Fa[1]-nb[3])/r,Qg=ia*p,nc=ia*p,z=I.H(),4!=z&&Ma||A.clearRect(D,J,Qg,nc),2==z&&A.drawImage(I.w(),m,m,p,p,D,J,Qg,nc),I=Xf(h,nb,n,T),z=Math.max(I.C,w.C),J=Math.min(I.T,w.T),D=Math.max(I.L,w.L),I=Math.min(I.K,w.K);z<=J;++z)for(nc=D;nc<=I;++nc)nb=(nc-
w.L)*y+(z-w.C),this.Wf[nb]=void 0;Wk(a.He,g,n,x);Zk(a,g,h,c,e,v,n,f.nf());Tk(a,g);Vk(a,g);yk(this.yf,c*a.size[0]/2,c*a.size[1]/2,c*r/d.resolution,c*r/d.resolution,d.rotation,(Fa[0]-u[0])/r,(u[1]-Fa[1])/r);return!0};function ul(a,b){nl.call(this,0,b);this.k=Ii();this.h=this.k.canvas;this.h.style.width="100%";this.h.style.height="100%";this.h.className="ol-unselectable";uc(a,this.h,0);this.M=!0;this.V=R()}K(ul,nl);ul.prototype.Se=function(a){if(a instanceof Dg)return new sl(this,a);if(a instanceof xg)return new tl(this,a);if(a instanceof Eg)return new kl(this,a);Sa();return null};
ul.prototype.ba=function(a,b){var c=this.Aa(),d=this.k;if(c.Ba(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState,h=g.resolution,m=g.rotation;yk(this.V,this.h.width/2,this.h.height/2,f/g.resolution,-f/g.resolution,-g.rotation,-g.center[0],-g.center[1]);g=new $k(d,f,e,this.V,m);h=new Pk(.5*h/f,e,h);c.dispatchEvent(new Bk(a,c,g,0,b,d,null));h.finish();h.ha()||h.yd(d,e,f,this.V,m,{});g.flush()}};ul.prototype.ga=function(){return"canvas"};
ul.prototype.Tf=function(a){if(null===a)this.M&&(hj(this.h,!1),this.M=!1);else{var b=this.k,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.h.width!=c||this.h.height!=d?(this.h.width=c,this.h.height=d):b.clearRect(0,0,this.h.width,this.h.height);ol(a);this.ba("precompose",a);var c=a.Hf,d=a.viewState.resolution,e,f,g,h;e=0;for(f=c.length;e<f;++e)h=c[e],g=h.layer,g=ql(this,g),h.visible&&d>=h.minResolution&&d<h.maxResolution&&"ready"==h.Jh&&g.pb(a,h)&&g.uc(a,h,b);this.ba("postcompose",a);this.M||
(hj(this.h,!0),this.M=!0);rl(this,a);a.ob.push(pl)}};function vl(a,b,c){S.call(this,a,c);this.element=b}K(vl,S);function wl(a){vf.call(this);this.tb=a||[];xl(this)}K(wl,vf);k=wl.prototype;k.clear=function(){for(;0<this.Tg();)this.pop()};k.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};k.forEach=function(a,b){M(this.tb,a,b)};k.Ud=function(){return this.tb};k.item=function(a){return this.tb[a]};k.Tg=function(){return this.get("length")};k.pop=function(){return yl(this,this.Tg()-1)};
k.push=function(a){var b=this.tb.length;cb(this.tb,b,0,a);xl(this);this.dispatchEvent(new vl("add",a,this));return b};k.remove=function(a){var b=this.tb,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return yl(this,c)};function yl(a,b){var c=a.tb[b];Ta.splice.call(a.tb,b,1);xl(a);a.dispatchEvent(new vl("remove",c,a));return c}function xl(a){a.set("length",a.tb.length)};function zl(a){var b=t(a)?a:{};a=xb(b);delete a.layers;b=b.layers;Y.call(this,a);this.dc=null;U(this,zf("layers"),this.ll,!1,this);null!=b?ga(b)&&(b=new wl(ab(b))):b=new wl;this.Xj(b)}K(zl,Y);k=zl.prototype;k.Si=function(){this.rf()&&this.j()};
k.ll=function(){null!==this.dc&&(M(rb(this.dc),V),this.dc=null);var a=this.bd();if(null!=a){this.dc={add:U(a,"add",this.kl,!1,this),remove:U(a,"remove",this.ml,!1,this)};var a=a.Ud(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.dc[E(d).toString()]=U(d,["propertychange","change"],this.Si,!1,this)}this.j()};k.kl=function(a){a=a.element;this.dc[E(a).toString()]=U(a,["propertychange","change"],this.Si,!1,this);this.j()};k.ml=function(a){a=E(a.element).toString();V(this.dc[a]);delete this.dc[a];this.j()};
k.bd=function(){return this.get("layers")};zl.prototype.getLayers=zl.prototype.bd;zl.prototype.Xj=function(a){this.set("layers",a)};zl.prototype.setLayers=zl.prototype.Xj;
zl.prototype.Sg=function(a){var b=t(a)?a:[],c=b.length;this.bd().forEach(function(a){a.Sg(b)});a=vg(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.brightness=hb(e.brightness+a.brightness,-1,1),e.contrast*=a.contrast,e.hue+=a.hue,e.opacity*=a.opacity,e.saturation*=a.saturation,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),t(a.extent)&&t(e.extent)&&(e.extent=Gd(e.extent,a.extent));return b};
zl.prototype.Wg=function(){return"ready"};function Al(a){this.P=t(a)?a:[]}k=Al.prototype;k.addRange=function(a,b){if(a!=b){var c=this.P,d=c.length,e;for(e=0;e<d;e+=2)if(a<=c[e]){c.splice(e,0,a,b);Bl(this);return}c.push(a,b);Bl(this)}};k.clear=function(){this.P.length=0};function Bl(a){a=a.P;var b=a.length,c=0,d;for(d=0;d<b;d+=2)a[d]!=a[d+1]&&(0<c&&a[c-2]<=a[d]&&a[d]<=a[c-1]?a[c-1]=Math.max(a[c-1],a[d+1]):(a[c++]=a[d],a[c++]=a[d+1]));a.length=c}k.Fi=function(a,b){var c=this.P,d=c.length,e;for(e=0;e<d;e+=2)a.call(b,c[e],c[e+1])};k.Ud=function(){return this.P};
k.Y=function(){var a=this.P,b=a.length,c=0,d;for(d=0;d<b;d+=2)c+=a[d+1]-a[d];return c};k.ha=function(){return 0===this.P.length};
k.removeRange=function(a,b){var c=this.P,d=c.length,e;for(e=0;e<d;e+=2)if(!(b<c[e]||c[e+1]<a)){if(c[e]>b)break;if(a<c[e])if(b==c[e])break;else if(b<c[e+1]){c[e]=Math.max(c[e],b);break}else c.splice(e,2),e-=2,d-=2;else if(a==c[e])if(b<c[e+1]){c[e]=b;break}else if(b==c[e+1]){c.splice(e,2);break}else c.splice(e,2),e-=2,d-=2;else if(b<c[e+1]){c.splice(e,2,c[e],a,b,c[e+1]);break}else if(b==c[e+1]){c[e+1]=a;break}else c[e+1]=a}Bl(this)};
k.toString=function(){var a=this.P,b=a.length,c=Array(b/2),d=0,e;for(e=0;e<b;e+=2)c[d++]=a[e]+"-"+a[e+1];return c.join(", ")};function Cl(a,b,c){this.P=t(a)?a:[];this.vc=[];this.$c=new Al;var d=t(b)?b:this.P.length;d<this.P.length&&this.$c.addRange(d,this.P.length);a=this.P;for(b=a.length;d<b;++d)a[d]=NaN;this.en=t(c)?c:35044}k=Cl.prototype;k.add=function(a){var b=a.length,c;a:{c=this.$c.P;var d=c.length,e=-1,f,g,h;for(g=0;g<d;g+=2){h=c[g+1]-c[g];if(h==b){c=c[g];break a}h>b&&(-1==e||h<f)&&(e=c[g],f=h)}c=e}this.$c.removeRange(c,c+b);for(d=0;d<b;++d)this.P[c+d]=a[d];Dl(this,b,c);return c};
k.Fi=function(a,b){if(0!==this.P.length){var c=this.P.length,d=this.$c.P,e=d.length;if(0===e)a.call(b,0,c);else{0<d[0]&&a.call(b,0,d[0]);var f;for(f=1;f<e-1;f+=2)a.call(b,d[f],d[f+1]);d[e-1]<c&&a.call(b,d[e-1],c)}}};k.Ud=function(){return this.P};k.wb=function(){return this.P.length-this.$c.Y()};function Dl(a,b,c){var d,e;d=0;for(e=a.vc.length;d<e;++d)a.vc[d].addRange(c,c+b)}
k.remove=function(a,b){var c,d;this.$c.addRange(b,b+a);c=0;for(d=this.vc.length;c<d;++c)this.vc[c].removeRange(b,b+a);d=this.P;for(c=0;c<a;++c)d[b+c]=NaN};k.set=function(a,b){var c=this.P,d=a.length,e;for(e=0;e<d;++e)c[b+e]=a[e];Dl(this,d,b)};function El(a){this.Nb=a}El.prototype.fa=function(){return this.Nb};function Fl(a){this.Nb=a}K(Fl,El);Fl.prototype.ga=function(){return 35632};function Gl(a){this.Nb=a}K(Gl,El);Gl.prototype.ga=function(){return 35633};function Hl(){this.Nb="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n"}K(Hl,Fl);ea(Hl);function Il(){this.Nb="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n"}K(Il,Gl);ea(Il);
function Jl(a,b){this.gg=a.getUniformLocation(b,"u_texture");this.bn=a.getUniformLocation(b,"u_tileOffset");this.Sc=a.getAttribLocation(b,"a_position");this.Tc=a.getAttribLocation(b,"a_texCoord")};function Kl(){this.Nb="precision mediump float;\nvarying vec2 v_texCoord;\n\n\n// @see https://svn.webkit.org/repository/webkit/trunk/Source/WebCore/platform/graphics/filters/skia/SkiaImageFilterBuilder.cpp\nuniform mat4 u_colorMatrix;\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = (u_colorMatrix * vec4(texColor.rgb, 1.)).rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n"}K(Kl,Fl);ea(Kl);
function Ll(){this.Nb="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n"}K(Ll,Gl);ea(Ll);
function Ml(a,b){this.an=a.getUniformLocation(b,"u_colorMatrix");this.mk=a.getUniformLocation(b,"u_opacity");this.nk=a.getUniformLocation(b,"u_projectionMatrix");this.ok=a.getUniformLocation(b,"u_texCoordMatrix");this.gg=a.getUniformLocation(b,"u_texture");this.Sc=a.getAttribLocation(b,"a_position");this.Tc=a.getAttribLocation(b,"a_texCoord")};function Nl(){this.Nb="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n"}K(Nl,Fl);ea(Nl);
function Ol(){this.Nb="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n"}K(Ol,Gl);ea(Ol);
function Pl(a,b){this.mk=a.getUniformLocation(b,"u_opacity");this.nk=a.getUniformLocation(b,"u_projectionMatrix");this.ok=a.getUniformLocation(b,"u_texCoordMatrix");this.gg=a.getUniformLocation(b,"u_texture");this.Sc=a.getAttribLocation(b,"a_position");this.Tc=a.getAttribLocation(b,"a_texCoord")};function Ql(){}k=Ql.prototype;k.ui=function(){};k.We=function(){};k.vi=function(){};k.af=function(){};k.Xe=function(){};k.Ye=function(){};k.Ze=function(){};k.$e=function(){};k.Qd=function(){};k.Wb=function(){};k.Kb=function(){};k.Yf=function(){};k.rb=function(){};function Rl(){this.Re=R();this.di=void 0;this.ci=R();this.pi=void 0;this.oi=R();this.Xi=void 0;this.Wi=R();this.Wj=void 0;this.Vj=R()}
function Sl(a,b,c,d,e){var f=!1;t(b)&&b!==a.di&&(f=a.ci,Wb(f),f[12]=b,f[13]=b,f[14]=b,f[15]=1,a.di=b,f=!0);if(t(c)&&c!==a.pi){f=a.oi;Wb(f);f[0]=c;f[5]=c;f[10]=c;f[15]=1;var g=-.5*c+.5;f[12]=g;f[13]=g;f[14]=g;f[15]=1;a.pi=c;f=!0}t(d)&&d!==a.Xi&&(f=Math.cos(d),g=Math.sin(d),Tb(a.Wi,.213+.787*f-.213*g,.213-.213*f+.143*g,.213-.213*f-.787*g,0,.715-.715*f-.715*g,.715+.285*f+.14*g,.715-.715*f+.715*g,0,.072-.072*f+.928*g,.072-.072*f-.283*g,.072+.928*f+.072*g,0,0,0,0,1),a.Xi=d,f=!0);t(e)&&e!==a.Wj&&(Tb(a.Vj,
.213+.787*e,.213-.213*e,.213-.213*e,0,.715-.715*e,.715+.285*e,.715-.715*e,0,.072-.072*e,.072-.072*e,.072+.928*e,0,0,0,0,1),a.Wj=e,f=!0);f&&(f=a.Re,Wb(f),t(c)&&Xb(f,a.oi,f),t(b)&&Xb(f,a.ci,f),t(e)&&Xb(f,a.Vj,f),t(d)&&Xb(f,a.Wi,f));return a.Re};function Tl(a,b){Rk.call(this,a,b);this.Gk=new Cl([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.ef=this.Ra=null;this.ff=void 0;this.Lh=R();this.Hj=Ub();this.Re=new Rl;this.Fg=this.zg=null}K(Tl,Rk);
Tl.prototype.bindFramebuffer=function(a,b){var c=this.Ec.$;if(t(this.ff)&&this.ff==b)c.bindFramebuffer(36160,this.ef);else{a.ob.push(qa(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.ef,this.Ra));var d=c.createTexture();c.bindTexture(3553,d);c.texImage2D(3553,0,6408,b,b,0,6408,5121,null);c.texParameteri(3553,10240,9729);c.texParameteri(3553,10241,9729);var e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,3553,d,0);this.Ra=
d;this.ef=e;this.ff=b}};
Tl.prototype.uc=function(a,b,c){this.ba("precompose",c,a);c.bindBuffer(34962,this.Gk);var d=c.$,e=b.brightness||1!=b.contrast||b.hue||1!=b.saturation,f,g;e?(f=Kl.Yb(),g=Ll.Yb()):(f=Nl.Yb(),g=Ol.Yb());f=Ul(c,f,g);e?null===this.zg?this.zg=g=new Ml(d,f):g=this.zg:null===this.Fg?this.Fg=g=new Pl(d,f):g=this.Fg;c.useProgram(f)&&(d.enableVertexAttribArray(g.Sc),d.vertexAttribPointer(g.Sc,2,5126,!1,16,0),d.enableVertexAttribArray(g.Tc),d.vertexAttribPointer(g.Tc,2,5126,!1,16,8),d.uniform1i(g.gg,0));d.uniformMatrix4fv(g.ok,
!1,this.Lh);d.uniformMatrix4fv(g.nk,!1,this.Hj);e&&d.uniformMatrix4fv(g.an,!1,Sl(this.Re,b.brightness,b.contrast,b.hue,b.saturation));d.uniform1f(g.mk,b.opacity);d.bindTexture(3553,this.Ra);d.drawArrays(5,0,4);this.ba("postcompose",c,a)};Tl.prototype.ba=function(a,b,c){var d=this.Da;d.Ba(a)&&d.dispatchEvent(new Bk(a,d,new Ql,0,c,null,b))};Tl.prototype.zc=function(){this.ef=this.Ra=null;this.ff=void 0};function Vl(a,b){Tl.call(this,a,b);this.Sk=Hl.Yb();this.hn=Il.Yb();this.Db=null;this.Kj=new Cl([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.Ah=this.Vf=null;this.Fa=-1}K(Vl,Tl);Vl.prototype.l=function(){this.Ec.getContext().deleteBuffer(this.Kj);Vl.N.l.call(this)};Vl.prototype.zc=function(){Vl.N.zc.call(this);this.Db=null};
Vl.prototype.pb=function(a,b){var c=this.Ec,d=c.getContext(),e=c.$,f=a.viewState,g=f.projection,h=this.Da,m=h.fa(),n=fg(m,g),p=qf(n.Ib,f.resolution,0),r=n.G(p),q=m.ae(p,a.pixelRatio,g),u=q/ag(n,p),v=r/u,x=m.jf(),y=f.center,w;r==f.resolution?(y=Yk(y,r,a.size),w=Ed(y,r,f.rotation,a.size)):w=a.extent;r=Yf(n,w,r);if(null!==this.Vf&&this.Vf.wi(r)&&this.Fa==m.I)v=this.Ah;else{var s=r.Y(),s=Math.max(s[0]*q,s[1]*q),A=Math.pow(2,Math.ceil(Math.log(s)/Math.LN2)),s=v*A,z=n.kb(p),D=z[0]+r.C*q*v,v=z[1]+r.L*q*
v,v=[D,v,D+s,v+s];this.bindFramebuffer(a,A);e.viewport(0,0,A,A);e.clearColor(0,0,0,0);e.clear(16384);e.disable(3042);A=Ul(d,this.Sk,this.hn);d.useProgram(A);null===this.Db&&(this.Db=new Jl(e,A));d.bindBuffer(34962,this.Kj);e.enableVertexAttribArray(this.Db.Sc);e.vertexAttribPointer(this.Db.Sc,2,5126,!1,16,0);e.enableVertexAttribArray(this.Db.Tc);e.vertexAttribPointer(this.Db.Tc,2,5126,!1,16,8);e.uniform1i(this.Db.gg,0);d={};d[p]={};var C=F(m.Og,m,d,Xk(function(a){return null!==a&&2==a.H()&&c.ua.Ka(a.getKey())},
m,u,g)),G=h.qf();t(G)||(G=!0);var A=!0,D=yd(),L=new Gf(0,0,0,0),H,T,P;for(T=r.C;T<=r.T;++T)for(P=r.L;P<=r.K;++P){z=ig(m,p,T,P,u,g);if(t(b.extent)&&(H=Wf(n,z.F,D),!Hd(H,b.extent)))continue;H=z.H();if(2==H){if(c.ua.Ka(z.getKey())){d[p][Ff(z.F)]=z;continue}}else if(4==H||3==H&&!G)continue;A=!1;H=n.cf(z.F,C,null,L,D);H||(z=n.pf(z.F,L,D),null===z||C(p+1,z))}C=Wa(sb(d),Number);C.sort(gb);var G=new Float32Array(4),I,J,Ma,Fa,L=0;for(T=C.length;L<T;++L)for(J in Ma=d[C[L]],Ma)z=Ma[J],H=Wf(n,z.F,D),P=2*(H[2]-
H[0])/s,I=2*(H[3]-H[1])/s,Fa=2*(H[0]-v[0])/s-1,H=2*(H[1]-v[1])/s-1,Sb(G,P,I,Fa,H),e.uniform4fv(this.Db.bn,G),Wl(c,z,q,x*u),e.drawArrays(5,0,4);A?(this.Vf=r,this.Ah=v,this.Fa=m.I):(this.Ah=this.Vf=null,this.Fa=-1,a.animate=!0)}Wk(a.He,m,p,r);var ia=c.Be;Zk(a,m,n,u,g,w,p,h.nf(),function(a){var b;(b=2!=a.H()||c.ua.Ka(a.getKey()))||(b=a.getKey()in ia.wd);b||rj(ia,[a,$f(n,a.F),n.G(a.F[0]),q,x*u])},this);Tk(a,m);Vk(a,m);e=this.Lh;Wb(e);Yb(e,(y[0]-v[0])/(v[2]-v[0]),(y[1]-v[1])/(v[3]-v[1]));0!==f.rotation&&
$b(e,f.rotation);Zb(e,a.size[0]*f.resolution/(v[2]-v[0]),a.size[1]*f.resolution/(v[3]-v[1]));Yb(e,-.5,-.5);return!0};function Xl(a,b){this.h=a;this.$=b;this.Tb={};this.xe={};this.pe={};this.Dg=null;U(this.h,"webglcontextlost",this.zc,!1,this);U(this.h,"webglcontextrestored",this.Zg,!1,this)}k=Xl.prototype;
k.bindBuffer=function(a,b){var c=this.$,d=b.Ud(),e=E(b);if(e in this.Tb)e=this.Tb[e],c.bindBuffer(a,e.buffer),e.Te.Fi(function(b,e){var f=d.slice(b,e);c.bufferSubData(a,b,34962==a?new Float32Array(f):new Uint16Array(f))}),e.Te.clear();else{var f=c.createBuffer();c.bindBuffer(a,f);c.bufferData(a,34962==a?new Float32Array(d):new Uint16Array(d),b.en);var g=new Al;b.vc.push(g);this.Tb[e]={ei:b,buffer:f,Te:g}}};
k.deleteBuffer=function(a){var b=this.$;a=E(a);var c=this.Tb[a];Za(c.ei.vc,c.Te);b.isContextLost()||b.deleteBuffer(c.buffer);delete this.Tb[a]};k.l=function(){ob(this.Tb,function(a){Za(a.ei.vc,a.Te)});var a=this.$;a.isContextLost()||(ob(this.Tb,function(b){a.deleteBuffer(b.buffer)}),ob(this.pe,function(b){a.deleteProgram(b)}),ob(this.xe,function(b){a.deleteShader(b)}))};function Yl(a){return a.h}
function Zl(a,b){var c=E(b);if(c in a.xe)return a.xe[c];var d=a.$,e=d.createShader(b.ga());d.shaderSource(e,b.fa());d.compileShader(e);if(!d.getShaderParameter(e,35713)&&!d.isContextLost()){var f=a.la;f&&f.log(Xg,d.getShaderInfoLog(e),void 0)}return a.xe[c]=e}
function Ul(a,b,c){var d=E(b)+"/"+E(c);if(d in a.pe)return a.pe[d];var e=a.$,f=e.createProgram();e.attachShader(f,Zl(a,b));e.attachShader(f,Zl(a,c));e.linkProgram(f);e.getProgramParameter(f,35714)||e.isContextLost()||(b=a.la)&&b.log(Xg,e.getProgramInfoLog(f),void 0);return a.pe[d]=f}k.zc=function(){ub(this.Tb);ub(this.xe);ub(this.pe);this.Dg=null};k.Zg=function(){};k.useProgram=function(a){if(a==this.Dg)return!1;this.$.useProgram(a);this.Dg=a;return!0};k.la=fh("ol.webgl.Context");function $l(a,b){Tl.call(this,a,b);this.d=null}K($l,Tl);function am(a,b){var c=b.w(),d=a.Ec.$,e=d.createTexture();d.bindTexture(3553,e);d.texImage2D(3553,0,6408,6408,5121,c);d.texParameteri(3553,10242,33071);d.texParameteri(3553,10243,33071);d.texParameteri(3553,10241,9729);d.texParameteri(3553,10240,9729);return e}
$l.prototype.pb=function(a,b){var c=this.Ec.$,d=a.viewState,e=d.center,f=d.resolution,g=d.rotation,h=this.d,m=this.Ra,n=this.Da.fa(),p=a.O,r=a.extent;t(b.extent)&&(r=Gd(r,b.extent));p[0]||p[1]||Id(r)||(d=n.w(r,f,a.pixelRatio,d.projection),null!==d&&(p=d.H(),0==p?(ld(d,"change",this.Xg,!1,this),d.load()):2==p&&(h=d,m=am(this,d),null===this.Ra||a.ob.push(qa(function(a,b){a.isContextLost()||a.deleteTexture(b)},c,this.Ra)))));null!==h&&(c=Yl(this.Ec.getContext()),bm(this,c.width,c.height,e,f,g,h.n()),
e=this.Lh,Wb(e),Zb(e,1,-1),Yb(e,0,-1),this.d=h,this.Ra=m,Uk(a.attributions,h.sc),Vk(a,n));return!0};function bm(a,b,c,d,e,f,g){b*=e;c*=e;a=a.Hj;Wb(a);Zb(a,2/b,2/c);$b(a,-f);Yb(a,g[0]-d[0],g[1]-d[1]);Zb(a,(g[2]-g[0])/2,(g[3]-g[1])/2);Yb(a,1,1)};function cm(a,b){nl.call(this,0,b);this.h=rc("CANVAS");this.h.style.width="100%";this.h.style.height="100%";this.h.className="ol-unselectable";uc(a,this.h,0);this.hi=0;this.ii=Ii();this.M=!0;this.$=Oi(this.h,{antialias:!0,depth:!1,Qk:!0,preserveDrawingBuffer:!1,stencil:!0});this.k=new Xl(this.h,this.$);U(this.h,"webglcontextlost",this.zc,!1,this);U(this.h,"webglcontextrestored",this.Zg,!1,this);this.ua=new Kf;this.xc=null;this.Be=new pj(F(function(a){var b=a[1];a=a[2];var e=b[0]-this.xc[0],b=b[1]-
this.xc[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a},this),function(a){return a[0].getKey()});this.Hl=F(function(){if(!this.Be.ha()){tj(this.Be);var a=this.Be.dequeue();Wl(this,a[0],a[3],a[4])}},this);this.Ae=0;dm(this)}K(cm,nl);
function Wl(a,b,c,d){var e=a.$,f=b.getKey();if(a.ua.Ka(f))a=a.ua.get(f),e.bindTexture(3553,a.Ra),9729!=a.qj&&(e.texParameteri(3553,10240,9729),a.qj=9729),9729!=a.uj&&(e.texParameteri(3553,10240,9729),a.uj=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var h=a.ii.canvas,m=a.ii;a.hi!=c?(h.width=c,h.height=c,a.hi=c):m.clearRect(0,0,c,c);m.drawImage(b.w(),d,d,c,c,0,0,c,c);e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,0,6408,6408,5121,b.w());e.texParameteri(3553,10240,
9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.ua.set(f,{Ra:g,qj:9729,uj:9729})}}k=cm.prototype;k.Se=function(a){if(a instanceof Dg)return new $l(this,a);if(a instanceof xg)return new Vl(this,a);Sa();return null};k.ba=function(a,b){var c=this.Aa();if(c.Ba(a)){var d=this.getContext();c.dispatchEvent(new Bk(a,c,new Ql,0,b,null,d))}};
k.l=function(){var a=this.$;a.isContextLost()||this.ua.forEach(function(b){null===b||a.deleteTexture(b.Ra)});Wc(this.k);cm.N.l.call(this)};k.Pk=function(a,b){for(var c=this.$,d;1024<this.ua.wb()-this.Ae;){d=this.ua.Ea.Rc;if(null===d)if(+this.ua.Ea.Ef==b.index)break;else--this.Ae;else c.deleteTexture(d.Ra);this.ua.pop()}};k.getContext=function(){return this.k};k.ga=function(){return"webgl"};k.zc=function(a){a.preventDefault();this.ua.clear();this.Ae=0;ob(this.Va,function(a){a.zc()})};
k.Zg=function(){dm(this);this.Aa().render()};function dm(a){a=a.$;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}k.la=fh("ol.renderer.webgl.Map");
k.Tf=function(a){var b=this.getContext(),c=this.$;if(c.isContextLost())return!1;if(null===a)return this.M&&(hj(this.h,!1),this.M=!1),!1;this.xc=a.focus;this.ua.set((-a.index).toString(),null);++this.Ae;var d=[],e=a.Hf,f=a.viewState.resolution,g,h,m,n;g=0;for(h=e.length;g<h;++g)n=e[g],n.visible&&f>=n.minResolution&&f<n.maxResolution&&"ready"==n.Jh&&(m=ql(this,n.layer),m.pb(a,n)&&d.push(n));e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.h.width!=e||this.h.height!=f)this.h.width=e,this.h.height=
f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.h.width,this.h.height);this.ba("precompose",a);g=0;for(h=d.length;g<h;++g)n=d[g],m=ql(this,n.layer),m.uc(a,n,b);this.M||(hj(this.h,!0),this.M=!0);ol(a);1024<this.ua.wb()-this.Ae&&a.ob.push(F(this.Pk,this));this.Be.ha()||(a.ob.push(this.Hl),a.animate=!0);this.ba("postcompose",a);rl(this,a);a.ob.push(pl)};function em(a,b,c,d,e){if(!(O||Q&&Kb("525")))return!0;if(Ab&&e)return fm(a);if(e&&!d)return!1;ja(b)&&(b=gm(b));if(!c&&(17==b||18==b||Ab&&91==b))return!1;if(Q&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(O&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!Q}return fm(a)}
function fm(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||Q&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function gm(a){if(Db)a=hm(a);else if(Ab&&Q)a:switch(a){case 93:a=91;break a}return a}
function hm(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function im(a,b){W.call(this);a&&jm(this,a,b)}K(im,W);k=im.prototype;k.oa=null;k.Cf=null;k.jh=null;k.Df=null;k.Ca=-1;k.bc=-1;k.pg=!1;
var km={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},lm={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},mm=O||Q&&Kb("525"),nm=Ab&&Db;k=im.prototype;
k.el=function(a){Q&&(17==this.Ca&&!a.ctrlKey||18==this.Ca&&!a.altKey||Ab&&91==this.Ca&&!a.metaKey)&&(this.bc=this.Ca=-1);-1==this.Ca&&(a.ctrlKey&&17!=a.keyCode?this.Ca=17:a.altKey&&18!=a.keyCode?this.Ca=18:a.metaKey&&91!=a.keyCode&&(this.Ca=91));mm&&!em(a.keyCode,this.Ca,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.bc=gm(a.keyCode),nm&&(this.pg=a.altKey))};k.fl=function(a){this.bc=this.Ca=-1;this.pg=a.altKey};
k.handleEvent=function(a){var b=a.B,c,d,e=b.altKey;O&&"keypress"==a.type?(c=this.bc,d=13!=c&&27!=c?b.keyCode:0):Q&&"keypress"==a.type?(c=this.bc,d=0<=b.charCode&&63232>b.charCode&&fm(c)?b.charCode:0):Cb?(c=this.bc,d=fm(c)?b.keyCode:0):(c=b.keyCode||this.bc,d=b.charCode||0,nm&&(e=this.pg),Ab&&63==d&&224==c&&(c=191));var f=c=gm(c),g=b.keyIdentifier;c?63232<=c&&c in km?f=km[c]:25==c&&a.shiftKey&&(f=9):g&&g in lm&&(f=lm[g]);a=f==this.Ca;this.Ca=f;b=new pm(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
function jm(a,b,c){a.Df&&a.detach();a.oa=b;a.Cf=U(a.oa,"keypress",a,c);a.jh=U(a.oa,"keydown",a.el,c,a);a.Df=U(a.oa,"keyup",a.fl,c,a)}k.detach=function(){this.Cf&&(V(this.Cf),V(this.jh),V(this.Df),this.Df=this.jh=this.Cf=null);this.oa=null;this.bc=this.Ca=-1};k.l=function(){im.N.l.call(this);this.detach()};function pm(a,b,c,d){$c.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}K(pm,$c);function qm(a){if(a.classList)return a.classList;a=a.className;return B(a)&&a.match(/\S+/g)||[]}function rm(a,b){var c;a.classList?c=a.classList.contains(b):(c=qm(a),c=0<=Ua(c,b));return c}function sm(a,b){a.classList?a.classList.add(b):rm(a,b)||(a.className+=0<a.className.length?" "+b:b)}function tm(a,b){a.classList?a.classList.remove(b):rm(a,b)&&(a.className=Va(qm(a),function(a){return a!=b}).join(" "))};function um(a){return 1-Math.pow(1-a,3)};function vm(a){return 3*a*a-2*a*a*a}function wm(a){return a};function xm(a){var b=a.source,c=t(a.start)?a.start:ra(),d=b[0],e=b[1],f=t(a.duration)?a.duration:1E3,g=t(a.easing)?a.easing:vm;return function(a,b){if(b.time<c)return b.animate=!0,b.O[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.viewState.center[0],r=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=n*p;b.viewState.center[1]+=n*r;b.O[0]+=1;return!0}return!1}}
function ym(a){var b=t(a.rotation)?a.rotation:0,c=t(a.start)?a.start:ra(),d=t(a.duration)?a.duration:1E3,e=t(a.easing)?a.easing:vm,f=t(a.anchor)?a.anchor:null;return function(a,h){if(h.time<c)return h.animate=!0,h.O[0]+=1,!0;if(h.time<c+d){var m=1-e((h.time-c)/d),m=(b-h.viewState.rotation)*m;h.animate=!0;h.viewState.rotation+=m;if(null!==f){var n=h.viewState.center;n[0]-=f[0];n[1]-=f[1];td(n,m);sd(n,f)}h.O[0]+=1;return!0}return!1}}
function zm(a){var b=a.resolution,c=t(a.start)?a.start:ra(),d=t(a.duration)?a.duration:1E3,e=t(a.easing)?a.easing:vm;return function(a,g){if(g.time<c)return g.animate=!0,g.O[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),m=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=h*m;g.O[0]+=1;return!0}return!1}};function Am(a){vf.call(this);this.element=t(a.element)?a.element:null;this.lc=t(a.target)?ic(a.target):null;this.f=null;this.Jf=[]}K(Am,vf);Am.prototype.l=function(){vc(this.element);Am.N.l.call(this)};Am.prototype.Aa=function(){return this.f};Am.prototype.uf=da;
Am.prototype.setMap=function(a){null===this.f||vc(this.element);0!=this.Jf.length&&(M(this.Jf,V),this.Jf.length=0);this.f=a;null!==this.f&&((null===this.lc?a.sh:this.lc).appendChild(this.element),this.uf!==da&&this.Jf.push(U(a,"postrender",this.uf,!1,this)),a.render())};function Bm(a){a=t(a)?a:{};var b=t(a.className)?a.className:"ol-rotate";this.Bc=oc("SPAN","ol-compass",t(a.label)?a.label:"\u21e7");var c=oc("BUTTON",{"class":b+"-reset",type:"button",title:t(a.tipLabel)?a.tipLabel:"Reset rotation"},this.Bc);U(c,"click",Bm.prototype.ed,!1,this);U(c,["mouseout",Rc],function(){this.blur()},!1);b=oc("DIV",b+" ol-unselectable ol-control",c);Am.call(this,{element:b,target:a.target});this.wa=t(a.duration)?a.duration:250;this.bi=t(a.autoHide)?a.autoHide:!0;this.Qa=void 0;
this.bi&&sm(this.element,"ol-hidden")}K(Bm,Am);Bm.prototype.ed=function(a){a.preventDefault();a=this.Aa();var b=a.J();if(null!==b){for(var c=b.lb();c<-Math.PI;)c+=2*Math.PI;for(;c>Math.PI;)c-=2*Math.PI;t(c)&&(0<this.wa&&a.Sb(ym({rotation:c,duration:this.wa,easing:um})),b.$f(0))}};
Bm.prototype.uf=function(a){a=a.frameState;if(null!==a){a=a.viewState.rotation;if(a!=this.Qa){var b="rotate("+180*a/Math.PI+"deg)";if(this.bi){var c=this.element;0===a?sm(c,"ol-hidden"):tm(c,"ol-hidden")}this.Bc.style.msTransform=b;this.Bc.style.webkitTransform=b;this.Bc.style.transform=b}this.Qa=a}};function Cm(a){a=t(a)?a:{};var b=t(a.className)?a.className:"ol-zoom",c=t(a.delta)?a.delta:1,d=t(a.zoomOutLabel)?a.zoomOutLabel:"\u2212",e=t(a.zoomOutTipLabel)?a.zoomOutTipLabel:"Zoom out",f=oc("BUTTON",{"class":b+"-in",type:"button",title:t(a.zoomInTipLabel)?a.zoomInTipLabel:"Zoom in"},t(a.zoomInLabel)?a.zoomInLabel:"+");U(f,"click",qa(Cm.prototype.ed,c),!1,this);U(f,["mouseout",Rc],function(){this.blur()},!1);d=oc("BUTTON",{"class":b+"-out",type:"button",title:e},d);U(d,"click",qa(Cm.prototype.ed,
-c),!1,this);U(d,["mouseout",Rc],function(){this.blur()},!1);b=oc("DIV",b+" ol-unselectable ol-control",f,d);Am.call(this,{element:b,target:a.target});this.wa=t(a.duration)?a.duration:250}K(Cm,Am);Cm.prototype.ed=function(a,b){b.preventDefault();var c=this.Aa(),d=c.J();if(null!==d){var e=d.G();t(e)&&(0<this.wa&&c.Sb(zm({resolution:e,duration:this.wa,easing:um})),c=d.constrainResolution(e,a),d.Zf(c))}};function Dm(a){a=t(a)?a:{};this.hg=rc("UL");this.Kf=rc("LI");this.hg.appendChild(this.Kf);hj(this.Kf,!1);this.Xc=t(a.collapsed)?a.collapsed:!0;this.Qe=t(a.collapsible)?a.collapsible:!0;this.Qe||(this.Xc=!1);var b=t(a.className)?a.className:"ol-attribution",c=t(a.tipLabel)?a.tipLabel:"Attributions";this.ji=t(a.collapseLabel)?a.collapseLabel:"\u00bb";this.Bc=t(a.label)?a.label:"i";this.gj=oc("SPAN",{},this.Qe&&!this.Xc?this.ji:this.Bc);c=oc("BUTTON",{type:"button",title:c},this.gj);U(c,"click",this.ed,
!1,this);U(c,["mouseout",Rc],function(){this.blur()},!1);b=oc("DIV",b+" ol-unselectable ol-control"+(this.Xc&&this.Qe?" ol-collapsed":"")+(this.Qe?"":" ol-uncollapsible"),this.hg,c);Am.call(this,{element:b,target:a.target});this.M=!0;this.rc={};this.Rb={};this.Il={}}K(Dm,Am);Dm.prototype.uf=function(a){this.dn(a.frameState)};
Dm.prototype.dn=function(a){if(null===a)this.M&&(hj(this.element,!1),this.M=!1);else{var b,c,d,e,f,g,h,m,n,p=a.Hf,r=xb(a.attributions),q={};c=0;for(b=p.length;c<b;c++)if(d=p[c].layer.fa(),null!==d&&(n=E(d).toString(),m=d.sc,null!==m))for(d=0,e=m.length;d<e;d++)if(g=m[d],h=E(g).toString(),!(h in r)){f=a.He[n];var u;if(u=t(f))a:if(null===g.eg)u=!0;else{var v=u=void 0,x=void 0,y=void 0;for(y in f)if(y in g.eg)for(x=f[y],u=0,v=g.eg[y].length;u<v;++u){var w=g.eg[y][u];if(w.C<=x.T&&w.T>=x.C&&w.L<=x.K&&
w.K>=x.L){u=!0;break a}}u=!1}u?(h in q&&delete q[h],r[h]=g):q[h]=g}b=[r,q];c=b[0];b=b[1];for(var s in this.rc)s in c?(this.Rb[s]||(hj(this.rc[s],!0),this.Rb[s]=!0),delete c[s]):s in b?(this.Rb[s]&&(hj(this.rc[s],!1),delete this.Rb[s]),delete b[s]):(vc(this.rc[s]),delete this.rc[s],delete this.Rb[s]);for(s in c)n=rc("LI"),n.innerHTML=c[s].Vi,this.hg.appendChild(n),this.rc[s]=n,this.Rb[s]=!0;for(s in b)n=rc("LI"),n.innerHTML=b[s].Vi,hj(n,!1),this.hg.appendChild(n),this.rc[s]=n;s=!tb(this.Rb)||!tb(a.pd);
this.M!=s&&(hj(this.element,s),this.M=s);s&&tb(this.Rb)?sm(this.element,"ol-logo-only"):tm(this.element,"ol-logo-only");var A;a=a.pd;s=this.Il;for(A in s)A in a||(vc(s[A]),delete s[A]);for(var z in a)z in s||(A=new Image,A.src=z,c=a[z],""===c?c=A:(c=oc("A",{href:c}),c.appendChild(A)),this.Kf.appendChild(c),s[z]=c);hj(this.Kf,!tb(a))}};
Dm.prototype.ed=function(a){a.preventDefault();a=this.element;rm(a,"ol-collapsed")?tm(a,"ol-collapsed"):sm(a,"ol-collapsed");a=this.gj;var b=this.Xc?this.ji:this.Bc;if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else sc(a),a.appendChild(hc(a).createTextNode(String(b)));this.Xc=!this.Xc};function Em(a,b,c){this.Eg=a;this.Mf=b;this.Jk=c;this.Pa=[];this.md=this.qg=0}Em.prototype.update=function(a,b){this.Pa.push(a,b,ra())};Em.prototype.end=function(){if(6>this.Pa.length)return!1;var a=ra()-this.Jk,b=this.Pa.length-3;if(this.Pa[b+2]<a)return!1;for(var c=b-3;0<c&&this.Pa[c+2]>a;)c-=3;var a=this.Pa[b+2]-this.Pa[c+2],d=this.Pa[b]-this.Pa[c],b=this.Pa[b+1]-this.Pa[c+1];this.qg=Math.atan2(b,d);this.md=Math.sqrt(d*d+b*b)/a;return this.md>this.Mf};
function Fm(a,b){var c=a.Eg,d=a.md,e=a.Mf-d,f=Gm(a);return xm({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function Gm(a){return Math.log(a.Mf/a.md)/a.Eg};function Hm(){vf.call(this);this.f=null;this.setActive(!0)}K(Hm,vf);Hm.prototype.Gi=function(){return this.get("active")};Hm.prototype.getActive=Hm.prototype.Gi;Hm.prototype.Aa=function(){return this.f};Hm.prototype.setActive=function(a){this.set("active",a)};Hm.prototype.setActive=Hm.prototype.setActive;Hm.prototype.setMap=function(a){this.f=a};
function Im(a,b,c,d,e){if(null!=c){var f=b.lb(),g=b.La();t(f)&&t(g)&&t(e)&&0<e&&(a.Sb(ym({rotation:f,duration:e,easing:um})),t(d)&&a.Sb(xm({source:g,duration:e,easing:um})));b.rotate(c,d)}}function Jm(a,b,c,d,e){var f=b.G();c=b.constrainResolution(f,c,0);Km(a,b,c,d,e)}
function Km(a,b,c,d,e){if(null!=c){var f=b.G(),g=b.La();t(f)&&t(g)&&t(e)&&0<e&&(a.Sb(zm({resolution:f,duration:e,easing:um})),t(d)&&a.Sb(xm({source:g,duration:e,easing:um})));if(null!=d){var h;a=b.La();e=b.G();t(a)&&t(e)&&(h=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);b.ic(h)}b.Zf(c)}};function Lm(a){a=t(a)?a:{};this.eb=t(a.delta)?a.delta:1;Hm.call(this);this.wa=t(a.duration)?a.duration:250}K(Lm,Hm);Lm.prototype.Zb=function(a){var b=!1,c=a.na;if(a.type==hk){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.eb:this.eb,e=b.J();Jm(b,e,c,d,this.wa);a.preventDefault();b=!0}return!b};function Mm(){Hm.call(this);this.kd=!1;this.Fe={};this.ma=[]}K(Mm,Hm);function Nm(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}k=Mm.prototype;k.hd=da;k.jd=Ac;k.gd=Ac;
k.Zb=function(a){if(!(a instanceof dk))return!0;var b=!1,c=a.type;if(c===mk||c===ok||c===kk)c=a.Ic,a.type==kk?delete this.Fe[c.pointerId]:a.type==mk?this.Fe[c.pointerId]=c:c.pointerId in this.Fe&&(this.Fe[c.pointerId]=c),this.ma=rb(this.Fe);this.kd&&(a.type==ok?this.hd(a):a.type==kk&&(this.kd=this.jd(a)));a.type==mk&&(this.kd=a=this.gd(a),b=this.bk(a));return!b};k.bk=Ac;function Om(a){a=a.na;return a.altKey&&!a.Of&&a.shiftKey}function Pm(a){a=a.na;return!a.altKey&&!a.Of&&!a.shiftKey}function Qm(a){a=a.na;return!a.altKey&&!a.Of&&a.shiftKey}function Rm(a){a=a.na.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function Sm(a){this.hf=this.bf=this.ab=this.Qf=this.f=null;this.Oc=a}K(Sm,Sc);function Tm(a){var b=a.ab,c=a.bf;a=Wa([b,[b[0],c[1]],c,[c[0],b[1]]],a.f.Vd,a.f);a[4]=a[0].slice();return new ii([a])}Sm.prototype.l=function(){this.setMap(null)};Sm.prototype.nl=function(a){var b=this.hf,c=this.Oc;a.vectorContext.ui(Infinity,function(a){a.Kb(c.hb,c.ra);a.rb(c.D);a.Qd(b,null)})};Sm.prototype.jb=function(){return this.hf};function Um(a){null===a.f||null===a.ab||null===a.bf||a.f.render()}
Sm.prototype.setMap=function(a){null!==this.Qf&&(V(this.Qf),this.Qf=null,this.f.render(),this.f=null);this.f=a;null!==this.f&&(this.Qf=U(a,"postcompose",this.nl,!1,this),Um(this))};function Vm(a,b){S.call(this,a);this.coordinate=b}K(Vm,S);function Wm(a){Mm.call(this);a=t(a)?a:{};this.Dd=new Sm(t(a.style)?a.style:null);this.ab=null;this.ub=t(a.condition)?a.condition:Bc}K(Wm,Mm);k=Wm.prototype;k.hd=function(a){if(1==a.Ic.pointerId){var b=this.Dd;a=a.pixel;b.ab=this.ab;b.bf=a;b.hf=Tm(b);Um(b)}};k.jb=function(){return this.Dd.jb()};k.xj=da;
k.jd=function(a){if(1!=a.Ic.pointerId)return!0;this.Dd.setMap(null);var b=a.pixel[0]-this.ab[0],c=a.pixel[1]-this.ab[1];64<=b*b+c*c&&(this.xj(a),this.dispatchEvent(new Vm("boxend",a.coordinate)));return!1};k.gd=function(a){if(1==a.Ic.pointerId&&bd(a.na)&&this.ub(a)){this.ab=a.pixel;this.Dd.setMap(a.map);var b=this.Dd,c=this.ab;b.ab=this.ab;b.bf=c;b.hf=Tm(b);Um(b);this.dispatchEvent(new Vm("boxstart",a.coordinate));return!0}return!1};k.bk=Cc;function Xm(a){a=t(a)?a:{};Wm.call(this,{condition:t(a.condition)?a.condition:Qm,style:t(a.style)?a.style:new be({stroke:new ta({color:[0,0,255,1]})})})}K(Xm,Wm);Xm.prototype.xj=function(){var a=this.Aa(),b=a.J(),c=this.jb().n(),d=Bd(c),e=a.Y(),c=Math.max((c[2]-c[0])/e[0],Fd(c)/e[1]),c=b.constrainResolution(c,0,void 0);Km(a,b,c,d,200)};function Ym(a){Mm.call(this);this.Ab=(t(a)?a:{}).kinetic;this.od=this.ge=null;this.ub=t(a.condition)?a.condition:Pm;this.wj=!1}K(Ym,Mm);Ym.prototype.hd=function(a){var b=Nm(this.ma);this.Ab&&this.Ab.update(b[0],b[1]);if(null!==this.od){var c=this.od[0]-b[0],d=b[1]-this.od[1];a=a.map;var e=a.J(),f=e.H(),d=c=[c,d],g=f.resolution;d[0]*=g;d[1]*=g;td(c,f.rotation);sd(c,f.center);c=e.Hd.center(c);a.render();e.ic(c)}this.od=b};
Ym.prototype.jd=function(a){a=a.map;var b=a.J();if(0===this.ma.length){if(!this.wj&&this.Ab&&this.Ab.end()){var c;c=this.Ab;c=(c.Mf-c.md)/c.Eg;var d=this.Ab.qg,e=b.La();this.ge=Fm(this.Ab,e);a.Sb(this.ge);var f;f=a.yc;null===f?f=null:(e=e.slice(0,2),f=Ak(f.ri,e,e));c=a.Vd([f[0]-c*Math.cos(d),f[1]-c*Math.sin(d)]);c=b.Hd.center(c);b.ic(c)}Bf(b,-1);a.render();return!1}this.od=null;return!0};
Ym.prototype.gd=function(a){if(0<this.ma.length&&this.ub(a)){var b=a.map,c=b.J();this.od=null;this.kd||Bf(c,1);b.render();null!==this.ge&&Za(b.Rf,this.ge)&&(c.ic(a.frameState.viewState.center),this.ge=null);this.Ab&&(a=this.Ab,a.Pa.length=0,a.qg=0,a.md=0);this.wj=1<this.ma.length;return!0}return!1};function Zm(a){Mm.call(this);a=t(a)?a:{};this.da=null;this.Bb=void 0;this.ue=!1;this.Xf=0;this.Lm=t(a.threshold)?a.threshold:.3}K(Zm,Mm);Zm.prototype.hd=function(a){var b=0,c=this.ma[0],d=this.ma[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);t(this.Bb)&&(b=c-this.Bb,this.Xf+=b,!this.ue&&Math.abs(this.Xf)>this.Lm&&(this.ue=!0));this.Bb=c;a=a.map;c=fj(a.X);d=Nm(this.ma);d[0]-=c.x;d[1]-=c.y;this.da=a.Vd(d);this.ue&&(c=a.J(),d=c.H(),a.render(),Im(a,c,d.rotation+b,this.da))};
Zm.prototype.jd=function(a){if(2>this.ma.length){a=a.map;var b=a.J();Bf(b,-1);if(this.ue){var c=b.H().rotation,d=this.da,c=b.constrainRotation(c,0);Im(a,b,c,d,250)}return!1}return!0};Zm.prototype.gd=function(a){return 2<=this.ma.length?(a=a.map,this.da=null,this.Bb=void 0,this.ue=!1,this.Xf=0,this.kd||Bf(a.J(),1),a.render(),!0):!1};function $m(a){Hm.call(this);a=t(a)?a:{};this.ub=t(a.condition)?a.condition:Ec(Pm,Rm);this.dm=t(a.pixelDelta)?a.pixelDelta:128}K($m,Hm);
$m.prototype.Zb=function(a){var b=!1;if("key"==a.type){var c=a.na.keyCode;if(this.ub(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.J(),e=b.H(),f=e.resolution*this.dm,g=0,h=0;40==c?h=-f:37==c?g=-f:39==c?g=f:h=f;c=[g,h];td(c,e.rotation);e=b.La();t(e)&&(t(100)&&d.Sb(xm({source:e,duration:100,easing:wm})),d=b.Hd.center([e[0]+c[0],e[1]+c[1]]),b.ic(d));a.preventDefault();b=!0}}return!b};function an(a){a=t(a)?a:{};Hm.call(this);this.eb=0;this.wa=t(a.duration)?a.duration:250;this.lh=null;this.oc=this.dg=void 0}K(an,Hm);an.prototype.Zb=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.na;this.lh=a.coordinate;this.eb+=c.Kk;t(this.dg)||(this.dg=ra());c=Math.max(80-(ra()-this.dg),0);l.clearTimeout(this.oc);this.oc=l.setTimeout(F(this.Nk,this,b),c);a.preventDefault();b=!0}return!b};
an.prototype.Nk=function(a){var b=hb(this.eb,-1,1),c=a.J();a.render();Jm(a,c,-b,this.lh,this.wa);this.eb=0;this.lh=null;this.oc=this.dg=void 0};function bn(a){Hm.call(this);a=t(a)?a:{};this.ub=t(a.condition)?a.condition:Rm;this.eb=t(a.delta)?a.delta:1;this.wa=t(a.duration)?a.duration:100}K(bn,Hm);bn.prototype.Zb=function(a){var b=!1;if("key"==a.type){var c=a.na.charCode;if(this.ub(a)&&(43==c||45==c)){b=a.map;c=43==c?this.eb:-this.eb;b.render();var d=b.J();Jm(b,d,c,void 0,this.wa);a.preventDefault();b=!0}}return!b};function cn(a){a=t(a)?a:{};Mm.call(this);this.da=null;this.wa=t(a.duration)?a.duration:400;this.Ff=void 0;this.mh=1}K(cn,Mm);cn.prototype.hd=function(a){var b=1,c=this.ma[0],d=this.ma[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);t(this.Ff)&&(b=this.Ff/e);this.Ff=e;1!=b&&(this.mh=b);a=a.map;var e=a.J(),c=e.H(),d=fj(a.X),f=Nm(this.ma);f[0]-=d.x;f[1]-=d.y;this.da=a.Vd(f);a.render();Km(a,e,c.resolution*b,this.da)};
cn.prototype.jd=function(a){if(2>this.ma.length){a=a.map;var b=a.J();Bf(b,-1);var c=b.H().resolution,d=this.da,e=this.wa,c=b.constrainResolution(c,0,this.mh-1);Km(a,b,c,d,e);return!1}return!0};cn.prototype.gd=function(a){return 2<=this.ma.length?(a=a.map,this.da=null,this.Ff=void 0,this.mh=1,this.kd||Bf(a.J(),1),a.render(),!0):!1};function dn(a){a=t(a)?a:{};Mm.call(this);this.ub=t(a.condition)?a.condition:Om;this.Bb=void 0}K(dn,Mm);dn.prototype.hd=function(a){if(1==a.Ic.pointerId){var b=a.map,c=b.Y();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(t(this.Bb)){a=c-this.Bb;var d=b.J(),e=d.H();b.render();Im(b,d,e.rotation-a)}this.Bb=c}};dn.prototype.jd=function(a){if(1!=a.Ic.pointerId)return!0;a=a.map;var b=a.J();Bf(b,-1);var c=b.H().rotation,c=b.constrainRotation(c,0);Im(a,b,c,void 0,250);return!1};
dn.prototype.gd=function(a){return 1==a.Ic.pointerId&&bd(a.na)&&this.ub(a)?(a=a.map,Bf(a.J(),1),a.render(),this.Bb=void 0,!0):!1};function en(a,b,c){Sc.call(this);this.Gl=a;this.Cl=c;this.sb=b||window;this.tg=F(this.Mk,this)}K(en,Sc);k=en.prototype;k.ka=null;k.Qh=!1;k.start=function(){this.stop();this.Qh=!1;var a=fn(this),b=gn(this);a&&!b&&this.sb.mozRequestAnimationFrame?(this.ka=U(this.sb,"MozBeforePaint",this.tg),this.sb.mozRequestAnimationFrame(null),this.Qh=!0):this.ka=a&&b?a.call(this.sb,this.tg):this.sb.setTimeout(Dc(this.tg),20)};
k.stop=function(){if(this.hh()){var a=fn(this),b=gn(this);a&&!b&&this.sb.mozRequestAnimationFrame?V(this.ka):a&&b?b.call(this.sb,this.ka):this.sb.clearTimeout(this.ka)}this.ka=null};k.hh=function(){return null!=this.ka};k.Mk=function(){this.Qh&&this.ka&&V(this.ka);this.ka=null;this.Gl.call(this.Cl,ra())};k.l=function(){this.stop();en.N.l.call(this)};
function fn(a){a=a.sb;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function gn(a){a=a.sb;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function hn(a,b,c){Rk.call(this,a,b);this.target=c}K(hn,Rk);hn.prototype.xg=da;hn.prototype.uc=da;hn.prototype.cd=function(){return this.target};function jn(a,b){this.k=Ii();var c=this.k.canvas;c.style.maxWidth="none";c.style.position="absolute";hn.call(this,a,b,c);this.Sa=!1;this.Fa=-1;this.se=NaN;this.qe=yd();this.Hb=this.re=null;this.V=R()}K(jn,hn);
jn.prototype.uc=function(a,b){var c=a.viewState,d=c.rotation,e=a.pixelRatio,c=yk(this.V,e*a.size[0]/2,e*a.size[1]/2,e/c.resolution,-e/c.resolution,-c.rotation,-c.center[0],-c.center[1]),f=this.k;f.canvas.width=a.size[0];f.canvas.height=a.size[1];kn(this,"precompose",a,c);var g=this.Hb;null===g||g.ha()||(f.globalAlpha=b.opacity,g.yd(f,a.extent,e,c,d,a.ek),kn(this,"render",a,c));kn(this,"postcompose",a,c)};
function kn(a,b,c,d){var e=a.k;a=a.Da;a.Ba(b)&&(d=new $k(e,c.pixelRatio,c.extent,d,c.viewState.rotation),a.dispatchEvent(new Bk(b,a,d,0,c,e,null)),d.flush())}jn.prototype.Yg=function(){Sk(this)};
jn.prototype.pb=function(a){function b(a){var b;t(a.bb)?b=a.bb.call(a,h):t(c.bb)&&(b=(0,c.bb)(a,h));null!=b&&(a=this.zh(a,h,m,b,q),this.Sa=this.Sa||a)}var c=this.Da,d=c.fa();Uk(a.attributions,d.sc);Vk(a,d);if(!this.Sa&&(a.O[0]||a.O[1]))return!0;var e=a.extent,f=a.viewState,g=f.projection,h=f.resolution,m=a.pixelRatio;a=c.I;f=c.get("renderOrder");t(f)||(f=sk);if(!this.Sa&&this.se==h&&this.Fa==a&&this.re==f&&xd(this.qe,e))return!0;var n=this.qe,p=(e[2]-e[0])/4,r=Fd(e)/4;n[0]=e[0]-p;n[1]=e[1]-r;n[2]=
e[2]+p;n[3]=e[3]+r;Wc(this.Hb);this.Hb=null;this.Sa=!1;var q=new Pk(.5*h/m,n,h);d.nj(n,h,g);if(null===f)Eh(d,n,b,this);else{var u=[];Eh(d,n,function(a){u.push(a)},this);u.sort(f||gb);M(u,b,this)}q.finish();this.se=h;this.Fa=a;this.re=f;this.Hb=q;return!0};jn.prototype.zh=function(a,b,c,d,e){if(null==d)return!1;var f,g,h=!1;f=0;for(g=d.length;f<g;++f)h=uk(e,a,d[f],tk(b,c),a,this.Yg,this)||h;return h};function ln(a,b){var c=rc("DIV");c.style.position="absolute";hn.call(this,a,b,c);this.d=null;this.V=Ub()}K(ln,hn);ln.prototype.xg=function(){sc(this.target);this.d=null};
ln.prototype.pb=function(a,b){var c=a.viewState,d=c.center,e=c.resolution,f=c.rotation,g=this.d,h=this.Da.fa(),m=a.O,n=a.extent;t(b.extent)&&(n=Gd(n,b.extent));m[0]||m[1]||Id(n)||(c=h.w(n,e,a.pixelRatio,c.projection),null!==c&&(m=c.H(),0==m?(ld(c,"change",this.Xg,!1,this),c.load()):2==m&&(g=c)));null!==g&&(m=g.n(),n=g.G(),c=R(),yk(c,a.size[0]/2,a.size[1]/2,n/e,n/e,f,(m[0]-d[0])/n,(d[1]-m[3])/n),g!=this.d&&(d=g.w(this),d.style.maxWidth="none",d.style.position="absolute",sc(this.target),this.target.appendChild(d),
this.d=g),zk(c,this.V)||(Mi(this.target,c),Vb(this.V,c)),Uk(a.attributions,g.sc),Vk(a,h));return!0};function mn(a,b){var c=rc("DIV");c.style.position="absolute";hn.call(this,a,b,c);this.M=!0;this.Lj=1;this.Fa=0;this.cb={}}K(mn,hn);mn.prototype.xg=function(){sc(this.target);this.Fa=0};
mn.prototype.pb=function(a,b){if(!b.visible)return this.M&&(hj(this.target,!1),this.M=!1),!0;var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.Da,g=f.fa(),h=fg(g,e),m=g.jf(),n=qf(h.Ib,d.resolution,0),p=h.G(n),r=d.center,q;p==d.resolution?(r=Yk(r,p,a.size),q=Ed(r,p,d.rotation,a.size)):q=a.extent;t(b.extent)&&(q=Gd(q,b.extent));var p=Yf(h,q,p),u={};u[n]={};var v=F(g.Og,g,u,Xk(function(a){return null!==a&&2==a.H()},g,c,e)),x=f.qf();t(x)||(x=!0);var y=yd(),w=new Gf(0,0,0,0),s,A,z,D;for(z=p.C;z<=
p.T;++z)for(D=p.L;D<=p.K;++D)s=ig(g,n,z,D,c,e),A=s.H(),2==A?u[n][Ff(s.F)]=s:4==A||3==A&&!x||(A=h.cf(s.F,v,null,w,y),A||(s=h.pf(s.F,w,y),null===s||v(n+1,s)));var C;if(this.Fa!=g.I){for(C in this.cb)x=this.cb[+C],vc(x.target);this.cb={};this.Fa=g.I}y=Wa(sb(u),Number);y.sort(gb);var v={},G;z=0;for(D=y.length;z<D;++z){C=y[z];C in this.cb?x=this.cb[C]:(x=bg(h,r,C),x=new nn(h,x),v[C]=!0,this.cb[C]=x);C=u[C];for(G in C)on(x,C[G],m);pn(x)}m=Wa(sb(this.cb),Number);m.sort(gb);z=R();G=0;for(y=m.length;G<y;++G)if(C=
m[G],x=this.cb[C],C in u)if(s=x.G(),D=x.kb(),yk(z,a.size[0]/2,a.size[1]/2,s/d.resolution,s/d.resolution,d.rotation,(D[0]-r[0])/s,(r[1]-D[1])/s),x.setTransform(z),C in v){for(C-=1;0<=C;--C)if(C in this.cb){tc(x.target,this.cb[C].target);break}0>C&&uc(this.target,x.target,0)}else a.O[0]||a.O[1]||qn(x,q,w);else vc(x.target),delete this.cb[C];b.opacity!=this.Lj&&(this.Lj=this.target.style.opacity=b.opacity);b.visible&&!this.M&&(hj(this.target,!0),this.M=!0);Wk(a.He,g,n,p);Zk(a,g,h,c,e,q,n,f.nf());Tk(a,
g);Vk(a,g);return!0};function nn(a,b){this.target=rc("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.gk=a;this.Mh=b;this.Ya=Dd(Wf(a,b));this.Ch=a.G(b[0]);this.De={};this.Yc=null;this.V=Ub()}
function on(a,b,c){var d=b.F,e=d[0],f=d[1],g=d[2],d=Ff(d);if(!(d in a.De)){var e=ag(a.gk,e),h=b.w(a),m=h.style;m.maxWidth="none";var n,p;0<c?(n=rc("DIV"),p=n.style,p.overflow="hidden",p.width=e+"px",p.height=e+"px",m.position="absolute",m.left=-c+"px",m.top=-c+"px",m.width=e+2*c+"px",m.height=e+2*c+"px",n.appendChild(h)):(m.width=e+"px",m.height=e+"px",n=h,p=m);p.position="absolute";p.left=(f-a.Mh[1])*e+"px";p.top=(a.Mh[2]-g)*e+"px";null===a.Yc&&(a.Yc=document.createDocumentFragment());a.Yc.appendChild(n);
a.De[d]=b}}function pn(a){null!==a.Yc&&(a.target.appendChild(a.Yc),a.Yc=null)}nn.prototype.kb=function(){return this.Ya};nn.prototype.G=function(){return this.Ch};function qn(a,b,c){var d=Xf(a.gk,b,a.Mh[0],c);b=[];for(var e in a.De)c=a.De[e],d.contains(c.F)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=Ff(c.F),vc(c.w(a)),delete a.De[e]}nn.prototype.setTransform=function(a){zk(a,this.V)||(Mi(this.target,a),Vb(this.V,a))};function rn(a,b){nl.call(this,0,b);this.k=null;this.k=Ii();var c=this.k.canvas;c.style.position="absolute";c.style.width="100%";c.style.height="100%";c.className="ol-unselectable";uc(a,c,0);this.V=R();this.cc=rc("DIV");this.cc.className="ol-unselectable";c=this.cc.style;c.position="absolute";c.width="100%";c.height="100%";U(this.cc,"touchstart",Yc);uc(a,this.cc,0);this.M=!0}K(rn,nl);k=rn.prototype;k.l=function(){vc(this.cc);rn.N.l.call(this)};
k.Se=function(a){if(a instanceof Dg)a=new ln(this,a);else if(a instanceof xg)a=new mn(this,a);else if(a instanceof Eg)a=new jn(this,a);else return Sa(),null;return a};
k.ba=function(a,b){var c=this.Aa();if(c.Ba(a)){var d=b.extent,e=b.pixelRatio,f=b.viewState,g=f.resolution,h=f.rotation,m=this.k,n=m.canvas;yk(this.V,n.width/2,n.height/2,e/f.resolution,-e/f.resolution,-f.rotation,-f.center[0],-f.center[1]);f=new $k(m,e,d,this.V,h);g=new Pk(.5*g/e,d,g);c.dispatchEvent(new Bk(a,c,f,0,b,m,null));g.finish();g.ha()||g.yd(m,d,e,this.V,h,{});f.flush()}};k.ga=function(){return"dom"};
k.Tf=function(a){if(null===a)this.M&&(hj(this.cc,!1),this.M=!1);else{var b;b=function(a,b){uc(this.cc,a,b)};var c=this.Aa();if(c.Ba("precompose")||c.Ba("postcompose"))c=this.k.canvas,c.width=a.size[0],c.height=a.size[1];this.ba("precompose",a);var c=a.Hf,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.layer,f=ql(this,f),b.call(this,f.cd(),d),"ready"==g.Jh?f.pb(a,g)&&f.uc(a,g):f.xg();b=a.oh;for(var h in this.Va)h in b||(f=this.Va[h],vc(f.cd()));this.M||(hj(this.cc,!0),this.M=!0);ol(a);rl(this,a);a.ob.push(pl);
this.ba("postcompose",a)}};function sn(){this.Ij=ra()}var tn=new sn;sn.prototype.set=function(a){this.Ij=a};sn.prototype.reset=function(){this.set(ra())};sn.prototype.get=function(){return this.Ij};function un(a){this.mm=a||"";this.Jm=tn}k=un.prototype;k.ai=!0;k.ck=!0;k.Gm=!0;k.Fm=!0;k.dk=!1;k.Hm=!1;function vn(a){return 10>a?"0"+a:String(a)}function wn(a,b){var c=(a.jk-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d}function xn(a){un.call(this,a)}K(xn,un);function yn(){this.nm=F(this.Fk,this);this.df=new xn;this.df.ck=!1;this.df.dk=!1;this.ej=this.df.ai=!1;this.oj="";this.Rk={}}
yn.prototype.Fk=function(a){if(!this.Rk[a.pj]){var b;b=this.df;var c=[];c.push(b.mm," ");if(b.ck){var d=new Date(a.jk);c.push("[",vn(d.getFullYear()-2E3)+vn(d.getMonth()+1)+vn(d.getDate())+" "+vn(d.getHours())+":"+vn(d.getMinutes())+":"+vn(d.getSeconds())+"."+vn(Math.floor(d.getMilliseconds()/10)),"] ")}b.Gm&&c.push("[",wn(a,b.Jm.get()),"s] ");b.Fm&&c.push("[",a.pj,"] ");b.Hm&&c.push("[",a.Cc.name,"] ");c.push(a.vj);b.dk&&a.Kg&&c.push("\n",a.Jg);b.ai&&c.push("\n");b=c.join("");if(c=zn)switch(a.Cc){case Wg:An(c,
"info",b);break;case Xg:An(c,"error",b);break;case Yg:An(c,"warn",b);break;default:An(c,"debug",b)}else this.oj+=b}};var Bn=null,zn=l.console;function An(a,b,c){if(a[b])a[b](c);else a.log(c)};function Dn(a){W.call(this);this.Ie=a||window;this.If=U(this.Ie,"resize",this.sl,!1,this);this.ja=lc(this.Ie||window)}K(Dn,W);k=Dn.prototype;k.If=null;k.Ie=null;k.ja=null;k.Y=function(){return this.ja?this.ja.clone():null};k.l=function(){Dn.N.l.call(this);this.If&&(V(this.If),this.If=null);this.ja=this.Ie=null};k.sl=function(){var a=lc(this.Ie||window),b=this.ja;a==b||a&&b&&a.width==b.width&&a.height==b.height||(this.ja=a,this.dispatchEvent("resize"))};var En=["canvas","webgl","dom"];
function Z(a){vf.call(this);var b=Fn(a);this.gc=t(a.pixelRatio)?a.pixelRatio:Pi;this.Kl=b.pd;this.rg=new en(this.rm,void 0,this);Vc(this,this.rg);this.Ik=R();this.fm=R();this.Tk=0;this.ie=this.lg=this.wh=this.yc=null;this.X=oc("DIV","ol-viewport");this.X.style.position="relative";this.X.style.overflow="hidden";this.X.style.width="100%";this.X.style.height="100%";this.X.style.msTouchAction="none";Si&&(this.X.className="ol-touch");this.cm=oc("DIV","ol-overlaycontainer");this.X.appendChild(this.cm);
this.sh=oc("DIV","ol-overlaycontainer-stopevent");U(this.sh,["click","dblclick","mousedown","touchstart","MSPointerDown",mk,Qc],Xc);this.X.appendChild(this.sh);a=new ek(this);U(a,rb(pk),this.Zb,!1,this);Vc(this,a);this.fj=b.keyboardEventTarget;this.Bf=new im;U(this.Bf,"key",this.Qi,!1,this);Vc(this,this.Bf);a=new mj(this.X);U(a,"mousewheel",this.Qi,!1,this);Vc(this,a);this.Cg=b.controls;this.Lk=b.deviceOptions;this.Af=b.interactions;this.uh=b.overlays;this.Nj=new b.sm(this.X,this);Vc(this,this.Nj);
this.uk=new Dn;Vc(this,this.uk);U(this.uk,"resize",this.sk,!1,this);this.xc=null;this.Rf=[];this.Ej=[];this.hk=new qk(F(this.$k,this),F(this.zl,this));this.Im={};U(this,zf("layergroup"),this.hl,!1,this);U(this,zf("view"),this.Al,!1,this);U(this,zf("size"),this.tl,!1,this);U(this,zf("target"),this.xl,!1,this);this.Lb(b.gn);this.Cg.forEach(function(a){a.setMap(this)},this);U(this.Cg,"add",function(a){a.element.setMap(this)},!1,this);U(this.Cg,"remove",function(a){a.element.setMap(null)},!1,this);this.Af.forEach(function(a){a.setMap(this)},
this);U(this.Af,"add",function(a){a.element.setMap(this)},!1,this);U(this.Af,"remove",function(a){a.element.setMap(null)},!1,this);this.uh.forEach(function(a){a.setMap(this)},this);U(this.uh,"add",function(a){a.element.setMap(this)},!1,this);U(this.uh,"remove",function(a){a.element.setMap(null)},!1,this)}K(Z,vf);Z.prototype.Sb=function(a){this.render();Array.prototype.push.apply(this.Rf,arguments)};Z.prototype.l=function(){vc(this.X);Z.N.l.call(this)};Z.prototype.cd=function(){return this.get("target")};
Z.prototype.getTarget=Z.prototype.cd;Z.prototype.Vd=function(a){var b=this.yc;if(null===b)return null;a=a.slice();return Ak(b.Dj,a,a)};Z.prototype.Xd=function(){return this.get("layergroup")};Z.prototype.getLayerGroup=Z.prototype.Xd;Z.prototype.bd=function(){return this.Xd().bd()};Z.prototype.Y=function(){return this.get("size")};Z.prototype.getSize=Z.prototype.Y;Z.prototype.J=function(){return this.get("view")};Z.prototype.getView=Z.prototype.J;k=Z.prototype;
k.$k=function(a,b,c,d){var e=this.yc;if(!(null!==e&&b in e.Bd&&e.Bd[b][Ff(a.F)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};k.Qi=function(a,b){var c=new ck(b||a.type,this,a);this.Zb(c)};k.Zb=function(a){if(null!==this.yc){this.xc=a.coordinate;a.frameState=this.yc;var b=this.Af.Ud(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.Gi()&&!d.Zb(a))break}}};
k.rl=function(){var a=this.yc,b=this.hk;if(!b.ha()){var c=16,d=c,e=0;if(null!==a){var e=a.O,f=this.Lk;e[0]&&(c=!1===f.loadTilesWhileAnimating?0:8,d=2);e[1]&&(c=!1===f.loadTilesWhileInteracting?0:8,d=2);e=qb(a.Bd)}c*=e;d*=e;if(b.Ce<c){tj(b);c=Math.min(c-b.Ce,d,b.wb());for(d=0;d<c;++d)e=b.dequeue()[0],ld(e,"change",b.yl,!1,b),e.load();b.Ce+=c}}b=this.Ej;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};k.tl=function(){this.render()};
k.xl=function(){var a=this.cd(),a=t(a)?ic(a):null;this.Bf.detach();null===a?vc(this.X):(a.appendChild(this.X),jm(this.Bf,null===this.fj?a:this.fj));this.sk()};k.zl=function(){this.render()};k.Bl=function(){this.render()};k.Al=function(){null!==this.lg&&(V(this.lg),this.lg=null);var a=this.J();null!==a&&(this.lg=U(a,"propertychange",this.Bl,!1,this));this.render()};k.il=function(){this.render()};k.jl=function(){this.render()};
k.hl=function(){if(null!==this.ie){for(var a=this.ie.length,b=0;b<a;++b)V(this.ie[b]);this.ie=null}a=this.Xd();null!=a&&(this.ie=[U(a,"propertychange",this.jl,!1,this),U(a,"change",this.il,!1,this)]);this.render()};k.ih=function(){if(!wc(document,this.X)||"none"==this.X.style.display)return!1;var a=this.Y();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.J();return null!==a&&a.ih()?!0:!1};k.render=function(){this.rg.hh()||this.rg.start()};
k.rm=function(a){var b,c,d,e=this.Y(),f=this.J(),g=null;if(t(e)&&0<e[0]&&0<e[1]&&null!==f&&f.ih()){var g=ab(f.$g),h=this.Xd().Sg(),m={};b=0;for(c=h.length;b<c;++b)m[E(h[b].layer)]=h[b];d=f.H();g={animate:!1,attributions:{},ri:this.Ik,extent:null,focus:null===this.xc?d.center:this.xc,index:this.Tk++,oh:m,Hf:h,pd:xb(this.Kl),pixelRatio:this.gc,Dj:this.fm,ob:[],size:e,ek:this.Im,Qm:this.hk,time:a,He:{},viewState:d,O:g,Bd:{}}}if(null!==g){a=this.Rf;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=
f);a.length=e;g.extent=Ed(d.center,d.resolution,d.rotation,g.size)}this.yc=g;this.Nj.Tf(g);null!==g&&(g.animate&&this.render(),Array.prototype.push.apply(this.Ej,g.ob),!(b=0!==this.Rf.length||g.O[0]||g.O[1])&&(b=this.wh)&&(b=g.extent,c=this.wh,b=b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]),b||(this.dispatchEvent(new uj("moveend",this,g)),this.wh=t(void 0)?void 0:g.extent.slice()));this.dispatchEvent(new uj("postrender",this,g));ke(this.rl,this)};k.wm=function(a){this.set("layergroup",a)};
Z.prototype.setLayerGroup=Z.prototype.wm;Z.prototype.Hh=function(a){this.set("size",a)};Z.prototype.setSize=Z.prototype.Hh;Z.prototype.Bm=function(a){this.set("target",a)};Z.prototype.setTarget=Z.prototype.Bm;Z.prototype.Dm=function(a){this.set("view",a)};Z.prototype.setView=Z.prototype.Dm;
Z.prototype.sk=function(){var a=this.cd(),a=t(a)?ic(a):null;if(null===a)this.Hh(void 0);else{var b=hc(a),c=O&&a.currentStyle,d;if(d=c)b=fc(b),d=mc(b.Pd);if(d&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)b=ij(a,c.width,"width","pixelWidth"),a=ij(a,c.height,"height","pixelHeight"),a=new bc(b,a);else{c=new bc(a.offsetWidth,a.offsetHeight);if(O){b=jj(a,"paddingLeft");d=jj(a,"paddingRight");var e=jj(a,"paddingTop"),f=jj(a,"paddingBottom"),b=new aj(e,d,f,b)}else b=bj(a,"paddingLeft"),d=bj(a,"paddingRight"),
e=bj(a,"paddingTop"),f=bj(a,"paddingBottom"),b=new aj(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(b));!O||O&&9<=Mb?(d=bj(a,"borderLeftWidth"),e=bj(a,"borderRightWidth"),f=bj(a,"borderTopWidth"),a=bj(a,"borderBottomWidth"),a=new aj(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(d))):(d=lj(a,"borderLeft"),e=lj(a,"borderRight"),f=lj(a,"borderTop"),a=lj(a,"borderBottom"),a=new aj(f,e,a,d));a=new bc(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)}this.Hh([a.width,
a.height])}};
function Fn(a){var b=null;t(a.keyboardEventTarget)&&(b=B(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(!t(a.logo)||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="http://openlayers.org/";
else{var e=a.logo;B(e)?d[e]="":la(e)&&(d[e.src]=e.href)}e=a.layers instanceof zl?a.layers:new zl({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=t(a.view)?a.view:new X;var e=nl,f;t(a.renderer)?ga(a.renderer)?f=a.renderer:B(a.renderer)?f=[a.renderer]:Sa("Incorrect format for renderer option"):f=En;var g,h;g=0;for(h=f.length;g<h;++g){var m=f[g];if("canvas"==m){if(Ri){e=ul;break}}else if("dom"==m){e=rn;break}else if("webgl"==m&&Vi){e=cm;break}}t(a.controls)?f=ga(a.controls)?new wl(ab(a.controls)):
a.controls:(f=t(void 0)?void 0:{},g=new wl,(t(f.zoom)?f.zoom:1)&&g.push(new Cm(f.zoomOptions)),(t(f.rotate)?f.rotate:1)&&g.push(new Bm(f.rotateOptions)),(t(f.attribution)?f.attribution:1)&&g.push(new Dm(f.attributionOptions)),f=g);g=t(a.deviceOptions)?a.deviceOptions:{};if(t(a.interactions))h=ga(a.interactions)?new wl(ab(a.interactions)):a.interactions;else{h=t(void 0)?void 0:{};var m=new wl,n=new Em(-.005,.05,100);(t(h.altShiftDragRotate)?h.altShiftDragRotate:1)&&m.push(new dn);(t(h.doubleClickZoom)?
h.doubleClickZoom:1)&&m.push(new Lm({delta:h.zoomDelta,duration:h.zoomDuration}));(t(h.dragPan)?h.dragPan:1)&&m.push(new Ym({kinetic:n}));(t(h.pinchRotate)?h.pinchRotate:1)&&m.push(new Zm);(t(h.pinchZoom)?h.pinchZoom:1)&&m.push(new cn({duration:h.zoomDuration}));if(t(h.keyboard)?h.keyboard:1)m.push(new $m),m.push(new bn({delta:h.zoomDelta,duration:h.zoomDuration}));(t(h.mouseWheelZoom)?h.mouseWheelZoom:1)&&m.push(new an({duration:h.zoomDuration}));(t(h.shiftDragZoom)?h.shiftDragZoom:1)&&m.push(new Xm);
h=m}a=t(a.overlays)?ga(a.overlays)?new wl(ab(a.overlays)):a.overlays:new wl;return{controls:f,deviceOptions:g,interactions:h,keyboardEventTarget:b,pd:d,overlays:a,sm:e,gn:c}}Qd(ng);Qd($i);M($i,function(a){M(ng,function(b){Sd(a,b,og);Sd(b,a,pg)})});Bn||(Bn=new yn);if(l.location&&-1!=l.location.href.indexOf("Debug=true")){var Gn=Bn;if(!0!=Gn.ej){eh();var Hn=dh,In=Gn.nm;Hn.ce||(Hn.ce=[]);Hn.ce.push(In);Gn.ej=!0}}fh("ol").Gh(ah);O||Db&&Kb("1.9.3");var Jn=React.createClass({En:"project",render:function(){return React.DOM.div({className:"mapito-project"},React.DOM.div({className:"mapito-mapview"}),React.DOM.div({className:"mapito-dataview"}))}});function Kn(){this.mj=[];this.Ph=new Cf;vf.call(this)}K(Kn,vf);k=Kn.prototype;k.Kh=null;k.mj=null;k.lc=null;k.$m=!0;k.Ph=null;k.Gj=null;k.f=null;function Ln(a){var b={target:"mapitoMap"};a.lc=document.querySelector("#"+b.target)||null;null!=b.path?Mn(b.path).then(a.Zj,null,a):a.Zj(ie)}function Mn(a){var b=a+".json";return new ve(function(a){var d=new hh;U(d,"complete",function(b){b=uh(b.target);a(b)},!1,this);d.send(b)})}k.Zj=function(a){this.Gj=a;this.dispatchEvent(new S(Nn))};
k.gh=function(){null!=this.lc&&(null!=window.React?React.renderComponent(Jn(),this.lc):this.lc.appendChild(Jn));var a=this.Gj,b;b=null;var c=this.Ph.Zd();if(null==c)b=null;else{var d=c.za(),c=c.Ta();if(0<=Ua(d,"x")&&0<=Ua(d,"y")){var e=Oa(c[d.indexOf("x")]),f=Oa(c[d.indexOf("y")]);ja(e)&&ja(f)&&(b={x:e,y:f},0<=Ua(d,"z")&&(e=Oa(c[d.indexOf("z")]),ja(e)&&zb(b,{z:e})))}0<=Ua(d,"config")&&(d=c[d.indexOf("config")],B(d)&&(la(b)||(b={}),zb(b,{config:d})))}null!=b?On(this,b,a):Pn(this,a)};
function Pn(a,b){var c=b.projection,d;B(c)?d=Wd(c):la(c)&&null!=c.code&&null!=c.def&&null!=c.extent&&(proj4.defs(c.code,c.def),d=Wd(c.code),d.Eh(c.extent));c=b.map;d={target:a.lc.querySelector(".mapito-mapview"),renderer:"canvas",view:new X({center:c.center,zoom:c.zoom,projection:d})};a.f=new Z(d);a.$m&&Qn(a);Rn(a,b.layers);Sn(a,b.styles)}
function On(a,b,c){function d(){var c=a.f.J();if(b.x&&b.y){var d=a.f.J().Sf,g=[b.x,b.y],h,m=Wd("EPSG:4326");2===g.length&&m instanceof Nd&&d instanceof Nd&&(h=Yd(m,d)(g,void 0,g.length));d=h;null!=d&&c.ic(d);b.z&&(d=c.constrainResolution(c.qh,b.z-c.rh,0),c.Zf(d))}}Tn(a,b).then(function(b){Pn(a,b);d()},function(){Pn(a,c);d()},a)}function Tn(a,b){return new ve(function(a,d){"config"in b?Mn(b.config).then(function(b){a(b)},null,this):d()},a)}
function Sn(a,b){if(null!=b){var c={};M(b,function(a){c[a.id]=fe(a)});a.Kh=c}}
function Qn(a){var b=a.Ph,c=a.f.J();a.f.on("moveend",function(){var a=c.La(),e,f=c.G();if(t(f)){var g,h=0;do{g=c.constrainResolution(c.qh,h);if(g==f){e=h;break}++h}while(g>c.Nl)}e=t(e)?c.rh+e:e;var f=c.Sf,m;g=Wd("EPSG:4326");2===a.length&&f instanceof Nd&&g instanceof Nd&&(m=Yd(f,g)(a,void 0,a.length));f=m;a=b.Zd();null!=a||(a=new $e);m=Math.round(1E5*f[0])/1E5;f=Math.round(1E5*f[1])/1E5;a.set("x",m);a.set("y",f);a.set("z",e);window.location.hash=a.toLocaleString()})}
function Rn(a,b){var c=Wa(b,Ai);M(c,function(a){var b=a.fa();b instanceof Ah&&(Un(this,a),this.mj.push(U(b,"addfeature",this.bl,!1,this)));this.f.Xd().bd().push(a)},a)}function Un(a,b){var c=Fh(b.fa());M(c,function(a){null!=a.get("styleId_")&&(a=fe(this.Kh),window.console.log(a))},a)}k.bl=function(a){a=a.feature;var b=a.get("styleId_");null!=b&&(b=this.Kh[b],null!=b&&a.ag(b))};var Nn="projectset";ba("mapito.start",function(){var a=new Kn;U(a,Nn,function(){a.gh();window.Cn=a});Ln(a)});
